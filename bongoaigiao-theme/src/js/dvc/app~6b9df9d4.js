(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app~6b9df9d4"],{5491:function(t,e,a){"use strict";var i=a("c6a6"),o=a("4ca6"),n=a("8336"),s=a("b0af"),r=a("99d9"),l=a("169a"),c=a("cd55"),d=a("49e2"),p=a("0e8f"),u=a("4bd4"),h=a("132d"),m=a("a722"),g=a("490a"),f=a("b56d"),_=a("9910"),C=a("2677"),v=a("71d9"),y=a("2a7f"),T=a("3a2f"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(s["a"],{attrs:{flat:""}},[t._l(t.dossierTemplateItemsFilter,(function(e,l){return a("div",{key:e.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[a(c["a"],{staticClass:"expaned__list__data",attrs:{expand:"",value:t.currentFormView==="formAlpaca"+e.partNo+t.id?[!0]:[!1]}},[a(d["a"],{attrs:{"hide-actions":""}},[a("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[a("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(e)}},[a("div",{staticClass:"mr-2",staticStyle:{"min-width":"20px",display:"flex"},on:{click:function(a){(!t.onlyView||!e.hasForm)&&t.loadAlpcaFormClick(e)}}},[a("div",{staticClass:"header__tphs",staticStyle:{"min-width":"20px"}},[a("span",{staticClass:"text-bold"},[t._v(t._s(l+1)+".")]),t._v("  ")]),a("div",{staticClass:"header__tphs",staticStyle:{"text-align":"justify"}},[e.partTip&&e.partTip["tip"]?a(T["a"],{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                      "+t._s(e.partName)+"\n                      "),e.required?a("span",{staticStyle:{color:"red"}},[t._v("   (*) ")]):t._e()]),e.partTip["tip"]?a("span",[t._v(t._s(e.partTip["tip"]))]):t._e()]):a("span",[t._v("\n                    "+t._s(e.partName)+" "),e.required?a("span",{staticStyle:{color:"red"}},[t._v("   (*) ")]):t._e(),e.hasForm?a("span",{staticStyle:{color:"#004b94"}},[t._v("(Bản khai trực tuyến)")]):t._e()]),t._v("\n                    \n                  "),!e.hasForm&&e.hasFileTemp?a(T["a"],{attrs:{top:""}},[a(h["a"],{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(a){return a.stopPropagation(),t.downloadFileTemplate(e,l)}},slot:"activator"},[t._v("save_alt")]),a("span",[t._v("Biểu mẫu điền thủ công")])],1):t._e()],1)]),a("div",{staticStyle:{display:"flex"}},[1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?a(C["a"],{attrs:{placeholder:"Nhập lý do",rules:[function(t){return!!t||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{change:function(t){e.fileComment=String(e.fileComment).trim()},keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.changeFileComment(e,l)}},model:{value:e.fileComment,callback:function(a){t.$set(e,"fileComment",a)},expression:"item.fileComment"}}):t._e(),1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?a(T["a"],{attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return a.stopPropagation(),t.changeFileComment(e,l)}},slot:"activator"},[a(h["a"],{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("send")])],1),a("span",[t._v("Gửi")])],1):t._e()],1),e.fileComment&&!e.stateEditFileCheck?a("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[t._v(t._s(e.fileComment))]):t._e(),e.fileComment&&!e.stateEditFileCheck&&1===t.checkInput?a(T["a"],{attrs:{top:""}},[a(h["a"],{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.stateEditFileCheck=!e.stateEditFileCheck}},slot:"activator"},[t._v("edit")]),a("span",[t._v("Chỉnh sửa ý kiến")])],1):t._e(),t._l(t.dossierFilesItems,(function(i,o){return e.partNo===i.dossierPartNo?a("div",{key:o},[i.eForm?t._e():a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),t.viewFile2(i)}}},[0!==i.fileSize?a(h["a"],{staticClass:"mr-1",attrs:{color:t.getDocumentTypeIcon(i.fileType)["color"],size:t.getDocumentTypeIcon(i.fileType)["size"]}},[t._v("\n                      "+t._s(t.getDocumentTypeIcon(i.fileType)["icon"])+"\n                    ")]):t._e(),t._v("\n                    "+t._s(i.displayName)+" - \n                    "),a("i",[t._v(t._s(i.modifiedDate))])],1),t.onlyView||1===t.checkInput?t._e():a(n["a"],{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(e){return e.stopPropagation(),t.deleteSingleFile(i,o)}}},[a(h["a"],{staticStyle:{color:"red"}},[t._v("delete_outline")])],1)],1)]):t._e()})),a("div",{staticClass:"mr-3 my-2 py-2",staticStyle:{display:"none","max-height":"250px","overflow-y":"scroll",border:"1px dashed #f3ae75","border-radius":"5px",position:"relative"},attrs:{id:"fileApplicant-"+e.partNo}},[t._l(t.dossierFilesApplicant,(function(i,s){return i.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&e.partNo===i.dossierPartNo?a("div",{key:s},[i.eForm&&0!==i.fileSize?a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"3px"}},[a(T["a"],{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){return e.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[a("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),t._v("  \n                        "+t._s(i.dossierTemplateNo?i.dossierTemplateNo:i.referenceUid)+"."+t._s(i.fileType)+" - \n                        "),a("i",[t._v(t._s(i.modifiedDate))])]),a("span",[t._v("Bản khai trực tuyến")])]),t.progressUploadPart===i.dossierFileId?a(g["a"],{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t._e(),t.onlyView||t.progressUploadPart?t._e():a(T["a"],{staticClass:"ml-2",attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.attachToDossier(i,l)}},slot:"activator"},[a(o["a"],[a(h["a"],{attrs:{size:"16",color:"orange darken-3"}},[t._v("cloud_download")])],1)],1),a("span",[t._v("Sử dụng giấy tờ này")])],1)],1):a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"3px"}},[a(T["a"],{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){return e.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[0!==i.fileSize?a(h["a"],{staticStyle:{color:"#0d71bb"}},[t._v("attach_file")]):t._e(),t._v("\n                        "+t._s(i.displayName)+" - \n                        "),a("i",[t._v(t._s(i.modifiedDate))])],1),a("span",[t._v("Đính kèm")])]),t.progressUploadPart===i.dossierFileId?a(g["a"],{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t._e(),t.onlyView||t.progressUploadPart?t._e():a(T["a"],{staticClass:"ml-2",attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.attachToDossier(i,l)}},slot:"activator"},[a(o["a"],[a(h["a"],{attrs:{size:"16",color:"orange darken-3"}},[t._v("cloud_download")])],1)],1),a("span",[t._v("Sử dụng giấy tờ này")])],1)],1)]):t._e()})),a(n["a"],{staticClass:"mx-0 my-0",staticStyle:{position:"absolute",right:"0px",top:"0px"},attrs:{flat:"",icon:"",color:"red"},on:{click:function(a){return a.stopPropagation(),t.showFilesApplicant(e.partNo)}}},[a(h["a"],[t._v("clear")])],1)],2)],2)]),e.hasForm&&!t.onlyView?a(s["a"],{attrs:{flat:""}},[a(r["b"],{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[a(m["a"],{attrs:{wrap:""}},[t.stateView?t._e():a(p["a"],{staticClass:"text-xs-right",attrs:{xs12:""}},[a("div",{style:t.pstFixed>t.pstEl&&t.pstFixed<t.endEl+t.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+e.partNo+t.id}},[e["editForm"]&&e.hasForm&&!t.onlyView&&1!==t.checkInput?a(n["a"],{attrs:{color:"primary"},on:{click:function(a){return a.stopPropagation(),t.saveAlpacaForm(e,l)}}},[a(h["a"],{attrs:{color:"white"}},[t._v("save")]),t._v(" \n                      Lưu lại\n                    ")],1):t._e(),e["editForm"]&&e.daKhai&&e.hasForm?a(n["a"],{attrs:{color:"primary"},on:{click:function(a){return a.stopPropagation(),t.previewFormAlpaca(e,l)}}},[a(h["a"],{attrs:{color:"white"}},[t._v("print")]),t._v(" \n                      Xem\n                    ")],1):t._e(),e["editForm"]||!e.hasForm||t.onlyView?t._e():a(n["a"],{attrs:{color:"primary"},on:{click:function(a){return a.stopPropagation(),t.editFormAlpaca(e)}}},[a(h["a"],{attrs:{color:"white"}},[t._v("edit")]),t._v(" \n                      Sửa\n                    ")],1),e.daKhai&&e.hasForm&&!t.onlyView&&1!==t.checkInput?a(n["a"],{attrs:{color:"primary"},on:{click:function(a){return a.stopPropagation(),t.deleteSingleFileEform(e,l)}}},[a(h["a"],{attrs:{color:"white"}},[t._v("delete")]),t._v(" \n                      Xóa\n                    ")],1):t._e()],1),e["editForm"]?a("div",{class:{no_acction__event:t.onlyView},attrs:{id:"formAlpaca"+e.partNo+t.id}}):t._e(),e["editForm"]?t._e():a("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"displayPDF"+e.partNo+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})])],1)],1)],1):t._e()],1)],1),6!==e.partType||6===e.partType&&("NEW_GROUP"===t.formCode||"NEW_GROUP_CV"===t.formCode||"NEW_GROUP_CV_DI"===t.formCode)?a("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(m["a"],{attrs:{row:"",wrap:""}},[1===t.originality||t.onlyView?t._e():a(p["a"],{staticClass:"layout wrap mr-2",staticStyle:{width:"100px"}},[a(C["a"],{staticClass:"counter-up-down text-xs-center",staticStyle:{width:"100px"},style:t.onlyView?"pointer-events: none":"",attrs:{title:"Số lượng","append-icon":"add","prepend-inner-icon":"remove","clear-icon":"mdi-close-circle",type:"number",solo:"",flat:"",height:"32"},on:{"click:append":function(e){return t.increaseCounter(l)},"click:prepend-inner":function(e){return t.decreaseCounter(l)},input:function(e){return t.changeRecordCount(l)}},model:{value:t.dossierTemplateItems[l]["recordCount"],callback:function(e){t.$set(t.dossierTemplateItems[l],"recordCount",e)},expression:"dossierTemplateItems[index]['recordCount']"}})],1),1===t.originality||1!==e.partType||t.thongTinHoSo.online||1===t.checkInput?t._e():a(p["a"],{staticClass:"layout wrap",staticStyle:{width:"100px"}},[a(i["a"],{style:t.onlyView?"pointer-events: none":"",attrs:{items:t.fileMarkItems,"hide-no-data":""},on:{change:function(e){return t.changeFileMark(e,l)}},model:{value:t.dossierTemplateItems[l].fileMark,callback:function(e){t.$set(t.dossierTemplateItems[l],"fileMark",e)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===t.checkInput?a(p["a"],{staticClass:"layout wrap",staticStyle:{width:"120px"}},[a(f["a"],{attrs:{items:t.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(e){return t.changeFileCheck(e,l)}},model:{value:t.dossierTemplateItems[l].fileCheck,callback:function(e){t.$set(t.dossierTemplateItems[l],"fileCheck",e)},expression:"dossierTemplateItems[index].fileCheck"}})],1):e.fileCheck>0?a(p["a"],{staticClass:"layout wrap",style:{width:"40px","align-items":"center","margin-left":"10px","margin-top":t.thongTinHoSo.online?"10px":"0px"}},[1===e.fileCheck?a(T["a"],{attrs:{top:""}},[a(h["a"],{staticClass:"mx-0",attrs:{slot:"activator",size:"24",color:"primary"},slot:"activator"},[t._v("done")]),a("span",[t._v("Đạt")])],1):2===e.fileCheck?a(T["a"],{attrs:{top:""}},[a(h["a"],{staticClass:"mx-0",attrs:{slot:"activator",size:"24",color:"primary"},slot:"activator"},[t._v("close")]),a("span",[t._v("Không đạt")])],1):t._e()],1):t._e(),1!==t.checkInput?a(p["a"],{class:{"text-xs-right":t.onlyView},style:{width:t.onlyView?"auto":"120px"}},[e["multiple"]?a("input",{staticStyle:{display:"none"},attrs:{type:"file",multiple:"",id:"file"+e.partNo},on:{change:function(a){return t.onUploadSingleFile(a,e,l)}}}):a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+e.partNo},on:{change:function(a){return t.onUploadSingleFile(a,e,l)}}}),3!==e.partType||3!==t.originality||t.onlyView?t._e():a(T["a"],{attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.addFileOther(e)}},slot:"activator"},[a(h["a"],{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("add")])],1),a("span",[t._v("Thêm giấy tờ khác")])],1),t.progressUploadPart===e.partNo?a(g["a"],{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t._e(),t.progressUploadPart!==e.partNo&&!t.onlyView&e.hasForm?a(T["a"],{attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return a.stopPropagation(),t.loadAlpcaFormClick(e)}},slot:"activator"},[a(o["a"],[a(h["a"],{attrs:{size:"24",color:"#004b94"}},[t._v("edit")])],1)],1),a("span",[t._v("Khai trực tuyến")])],1):t._e(),t.progressUploadPart!==e.partNo&&t.onlyView&e.hasForm?a(T["a"],{attrs:{top:""}},[a(n["a"],{staticClass:"mx-1 my-0",staticStyle:{height:"25px",width:"25px"},attrs:{slot:"activator",fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){return t.loadAlpcaFormClick(e)}},slot:"activator"},[a(h["a"],{staticStyle:{"font-size":"14px"}},[t._v("visibility")])],1),a("span",[t._v("Xem")])],1):t._e(),t.progressUploadPart===e.partNo||t.onlyView?t._e():a(T["a"],{attrs:{left:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.pickFile(e)}},slot:"activator"},[a(o["a"],[a(h["a"],{attrs:{size:"24",color:"#004b94"}},[t._v("cloud_upload")])],1)],1),e.partTip["extensions"]||e.partTip["maxSize"]?a("span",[t._v("Tải giấy tờ lên (Chấp nhận tải lên các định dạng: "+t._s(e.partTip["extensions"])+". Tối đa "+t._s(e.partTip["maxSize"])+" MB)")]):a("span",[t._v("Tải giấy tờ lên")])],1),t.partNoApplicantHasFile(e.partNo)&&!t.onlyView?a(T["a"],{attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.showFilesApplicant(e.partNo)}},slot:"activator"},[a(o["a"],[a(h["a"],{attrs:{size:"24",color:"orange darken-3"}},[t._v("folder")])],1)],1),a("span",[t._v("Giấy tờ đã nộp")])],1):t._e()],1):t._e()],1)],1):t._e()],1)})),a(l["a"],{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:t.dialogAddOtherTemp,callback:function(e){t.dialogAddOtherTemp=e},expression:"dialogAddOtherTemp"}},[a(s["a"],[a(u["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a(v["a"],{attrs:{dark:"",color:"primary"}},[a(y["b"],[t._v("Tên giấy tờ")]),a(_["a"]),a(n["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelDialog.apply(null,arguments)}}},[a(h["a"],[t._v("close")])],1)],1),a(r["b"],{staticClass:"pb-0 pt-4"},[a(m["a"],{attrs:{wrap:""}},[a(p["a"],{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[a(C["a"],{attrs:{label:"Tên giấy tờ:",rules:[function(t){return!!t||"Bạn phải điền tên giấy tờ."}],required:""},on:{change:function(e){t.otherDossierTemplate=String(t.otherDossierTemplate).trim()}},model:{value:t.otherDossierTemplate,callback:function(e){t.otherDossierTemplate=e},expression:"otherDossierTemplate"}})],1)],1)],1),a(r["a"],[a(_["a"]),a(n["a"],{attrs:{color:"red darken-3",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(e){return t.cancelDialog.apply(null,arguments)}}},[t._v("\n              Quay lại\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])]),a(n["a"],{attrs:{color:"primary",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(e){return t.addOtherTemplate.apply(null,arguments)}}},[t._v("\n              Đồng ý\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])],1)],1)],1)],1)],2),a(l["a"],{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a(s["a"],[a(v["a"],{attrs:{dark:"",color:"primary"}},[a(y["b"],[t.pdfEform?a("span",[t._v("Bản in đã khai trực tuyến")]):a("span",[t._v("Tài liệu đính kèm")])]),a(_["a"]),a(n["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a(h["a"],[t._v("close")])],1)],1),t.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a(g["a"],{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},I=[],N=a("fcfe"),A=N["a"],D=a("2877"),x=Object(D["a"])(A,S,I,!1,null,null,null);e["a"]=x.exports},"6e92":function(t,e,a){"use strict";var i=a("c6a6"),o=a("4ca6"),n=a("8336"),s=a("b0af"),r=a("99d9"),l=a("12b2"),c=a("ac7c"),d=a("169a"),p=a("ce7e"),u=a("0789"),h=a("cd55"),m=a("49e2"),g=a("0e8f"),f=a("4bd4"),_=a("ce87"),C=a("132d"),v=a("a722"),y=a("8860"),T=a("ba95"),S=a("5d23"),I=a("e449"),N=a("490a"),A=a("8e36"),D=a("67b6"),x=a("43a6"),w=a("b56d"),b=a("9910"),E=a("2677"),k=a("a844"),P=a("71d9"),F=a("2a7f"),H=a("3a2f"),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(s["a"],{attrs:{flat:""}},[1===t.checkInput&&3===t.originality?a("div",{staticClass:"d-inline-block",staticStyle:{position:"absolute",right:"10px",top:"-50px"}},[a(x["a"],{attrs:{row:""},on:{change:t.markAll},model:{value:t.markCheck,callback:function(e){t.markCheck=e},expression:"markCheck"}},[a(D["a"],{attrs:{label:"Tất cả đạt",color:"success",value:1}}),a(D["a"],{attrs:{label:"Tất cả không đạt",color:"error",value:2}}),a(D["a"],{attrs:{label:"Tất cả chưa kiểm tra",color:"warning",value:0}})],1)],1):t._e(),1!==t.originality||t.onlyView?t._e():a("div",{staticClass:"d-inline-block",style:t.formCodeInput?"position: absolute;left: 165px;top: -37px":"position: absolute;left: 210px;top: -37px"},[a(H["a"],{attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator","aria-label":"Tải lại",disabled:t.loadingFile,icon:"",name:"Tải lại"},on:{click:function(e){return e.stopPropagation(),t.loadFiles()}},slot:"activator"},[a(o["a"],[a(C["a"],{attrs:{size:"24",color:"#004b94"}},[t._v("autorenew")])],1)],1),a("span",[t._v("Tải lại")])],1)],1),t._l(t.dossierTemplateItemsFilter,(function(e,l){return a("div",{key:e.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative",overflow:"hidden"}},[a(h["a"],{staticClass:"expaned__list__data",attrs:{expand:"",value:t.currentFormView==="formAlpaca"+e.partNo+t.id?[!0]:[!1]}},[a(m["a"],{attrs:{"hide-actions":""}},[a("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[a("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(e)}},[a("div",{staticClass:"mr-2",staticStyle:{"min-width":"20px",display:"flex"},on:{click:function(a){a.stopPropagation(),e.hasForm&&t.loadAlpcaFormClick(e,l)}}},[!t.render||3!==t.originality||"NEW"!==t.formCodeInput&&"NEW_GROUP"!==t.formCodeInput?t._e():a("div",{staticClass:"header__tphs check-template mr-2",staticStyle:{width:"20px","margin-left":"-15px"},on:{click:function(t){return t.stopPropagation()}}},[a(c["a"],{staticClass:"my-0 py-0",on:{change:function(a){return t.changeHasTemplate(l,e)}},model:{value:e["hasTemplate"],callback:function(a){t.$set(e,"hasTemplate",a)},expression:"item['hasTemplate']"}})],1),3===t.originality&&t.tempLienThong?a("div",{staticClass:"header__tphs check-template mr-2",staticStyle:{width:"20px","margin-left":"-15px"},on:{click:function(t){return t.stopPropagation()}}},[a(c["a"],{staticClass:"my-0 py-0",on:{change:function(a){return t.changeHasTemplateLienThong(l,e)}},model:{value:e["hasTemplateLienThong"],callback:function(a){t.$set(e,"hasTemplateLienThong",a)},expression:"item['hasTemplateLienThong']"}})],1):t._e(),a("div",{staticClass:"header__tphs",staticStyle:{"min-width":"20px"}},[a("span",{staticClass:"text-bold"},[t._v(t._s(l+1)+".")]),t._v("  ")]),a("div",{staticClass:"header__tphs",staticStyle:{"text-align":"justify"}},[e.partTip&&e.partTip["tip"]?a(H["a"],{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                      "+t._s(e.partName)+"\n                      "),e.required?a("span",{staticStyle:{color:"red"}},[t._v("   (*) ")]):t._e(),e.hasForm?a("span",{staticStyle:{color:"#004b94"}},[t._v("(Bản khai trực tuyến)")]):t._e()]),e.partTip["tip"]?a("span",[t._v(t._s(e.partTip["tip"]))]):t._e()]):a("span",[t._v("\n                    "+t._s(e.partName)+" "),e.required?a("span",{staticStyle:{color:"red"}},[t._v("   (*) ")]):t._e(),e.hasForm?a("span",{staticStyle:{color:"#004b94"}},[t._v("(Bản khai trực tuyến)")]):t._e()]),t._v("\n                    \n                  "),!e.hasForm&&e.hasFileTemp?a(H["a"],{attrs:{top:""}},[a(C["a"],{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(a){return a.stopPropagation(),t.downloadFileTemplate(e,l)}},slot:"activator"},[t._v("save_alt")]),a("span",[t._v("Biểu mẫu điền thủ công")])],1):t._e()],1)]),a("div",{staticStyle:{display:"flex"}},[1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?a(E["a"],{staticClass:"ml-3",attrs:{placeholder:"Nhập lý do",rules:[function(t){return!!t||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.changeFileComment(e,l)},click:function(t){t.stopPropagation()}},model:{value:e.fileComment,callback:function(a){t.$set(e,"fileComment",a)},expression:"item.fileComment"}}):t._e(),1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?a(H["a"],{attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:"",name:"Gửi"},on:{click:function(a){return a.stopPropagation(),t.changeFileComment(e,l)}},slot:"activator"},[a(C["a"],{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("send")])],1),a("span",[t._v("Gửi")])],1):t._e()],1),e.fileComment&&!e.stateEditFileCheck?a("i",{staticClass:"pl-3",staticStyle:{"font-size":"12px",color:"#0d71bb"}},[t._v("Lý do không đạt: "+t._s(e.fileComment))]):t._e(),e.fileComment&&!e.stateEditFileCheck&&1===t.checkInput?a(H["a"],{attrs:{top:""}},[a(C["a"],{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.stateEditFileCheck=!e.stateEditFileCheck}},slot:"activator"},[t._v("edit")]),a("span",[t._v("Chỉnh sửa lý do")])],1):t._e(),t._l(t.dossierFilesItems,(function(i,o){return e.partNo===i.dossierPartNo?a("div",{key:o,staticClass:"mt-0",style:t.loadingFile?"opacity: 0.6":""},[1===t.originality&&i.eForm&&0!==i.fileSize?a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("span",{staticClass:"ml-1",staticStyle:{cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),t.viewFile2(i,o)}}},[0!==i.fileSize?a(C["a"],{staticClass:"mr-1",attrs:{color:t.getDocumentTypeIcon(i)["color"],size:t.getDocumentTypeIcon(i)["size"]}},[t._v("\n                      "+t._s(t.getDocumentTypeIcon(i)["icon"])+"\n                    ")]):t._e(),t._v("\n                    "+t._s("TÀI LIỆU KHAI TRỰC TUYẾN")+" - \n                    "),a("i",[t._v(t._s(i.modifiedDate))])],1),a(n["a"],{staticClass:"mx-0 my-0",attrs:{title:"Tải xuống",icon:"",ripple:"",name:"Tải xuống"},on:{click:function(e){return e.stopPropagation(),t.downloadSingleFile(i)}}},[a(C["a"],{attrs:{size:"14",color:"primary"}},[t._v("fas fa fa-download")])],1),1!==t.originality||t.onlyView||!t.showKySo||t.kySoSavis?t._e():a(n["a"],{staticClass:"my-0",attrs:{title:"Ký số giấy tờ",flat:"",icon:"",color:"indigo",name:"Ký số"},on:{click:function(e){return e.stopPropagation(),t.mySignViettel(i,o)}}},[a(C["a"],{attrs:{size:"18"}},[t._v("fa fa-pencil-square-o")])],1),1===t.originality&&!t.onlyView&&t.showKySo&&"pdf"===String(i.fileType).toLowerCase()&&1!=i.signCheck&&t.kySoSavis?a(n["a"],{staticClass:"my-0",attrs:{title:"Ký số giấy tờ",flat:"",icon:"",color:"indigo",name:"Ký số"},on:{click:function(e){return e.stopPropagation(),t.kySoPdfUrlSavis(i,o)}}},[a(C["a"],{attrs:{size:"18"}},[t._v("fa fa-pencil-square-o")])],1):t._e(),1===t.originality&&t.showKySo&&"pdf"===String(i.fileType).toLowerCase()&&1==i.signCheck&&t.kySoSavis?a(n["a"],{staticClass:"my-0",attrs:{title:"Giấy tờ đã được ký số",flat:"",icon:"",color:"green",name:"Ký số"}},[a(C["a"],{staticStyle:{color:"green !important"},attrs:{size:"18"}},[t._v("verified")])],1):t._e(),3===t.originality&&t.showKySoMotCua&&"pdf"===String(i.fileType).toLowerCase()?a(I["a"],{attrs:{right:"","offset-y":"",transition:"slide-x-transition",title:"Ký số tài liệu đính kèm"},nativeOn:{click:function(t){t.stopPropagation()}}},[a(n["a"],{attrs:{slot:"activator",flat:"",icon:"",color:"indigo",name:"Ký số"},slot:"activator"},[a(C["a"],{attrs:{size:"18"}},[t._v("fa fa-pencil-square-o")])],1),a(y["a"],[a(T["a"],[a(S["c"],{on:{click:function(e){return e.stopPropagation(),t.vgcaSignAction(i,o,"approved")}}},[a(C["a"],{attrs:{size:"18",color:"blue"}},[t._v("create")]),t._v("    KÝ PHÊ DUYỆT\n                        ")],1)],1),a(T["a"],[a(S["c"],{on:{click:function(e){return e.stopPropagation(),t.vgcaSignAction(i,o,"issued")}}},[a(C["a"],{attrs:{size:"18",color:"red"}},[t._v("fas fa fa-dot-circle-o")]),t._v("    ĐÓNG DẤU PHÁT HÀNH\n                        ")],1)],1),a(T["a"],[a(S["c"],{on:{click:function(e){return e.stopPropagation(),t.vgcaSignAction(i,o,"income")}}},[a(C["a"],{attrs:{size:"16",color:"green"}},[t._v("fas fa fa-file-text")]),t._v("    KÝ SỐ CÔNG VĂN ĐẾN\n                        ")],1)],1),a(T["a"],[a(S["c"],{on:{click:function(e){return e.stopPropagation(),t.vgcaSignAction(i,o,"copy")}}},[a(C["a"],{attrs:{size:"16",color:"green"}},[t._v("fas fa fa-file-text")]),t._v("    SAO VĂN BẢN ĐIỆN TỬ\n                        ")],1)],1)],1)],1):t._e(),3===t.originality&&t.applicantId&&!t.onlyView&&t.khoTaiLieuCongDan&&t.yeuCauSoHoa?a(n["a"],{staticClass:"my-0",attrs:{title:"Lưu giấy tờ vào kho",flat:"",icon:"",color:"indigo"},on:{click:function(a){return a.stopPropagation(),t.showAddStorage(e,i)}}},[a(C["a"],{staticStyle:{color:"green"},attrs:{size:"21"}},[t._v("bookmark")])],1):t._e()],1):t._e(),i.eForm?t._e():a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[a("span",{staticClass:"ml-1",staticStyle:{cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),t.viewFile2(i,o)}}},[a(C["a"],{staticClass:"mr-1",attrs:{color:t.getDocumentTypeIcon(i)["color"],size:t.getDocumentTypeIcon(i)["size"]}},[t._v("\n                      "+t._s(t.getDocumentTypeIcon(i)["icon"])+"\n                    ")]),t._v("\n                    "+t._s(i.displayName)+" - \n                    "),a("i",[t._v(t._s(i.modifiedDate))])],1),t.onlyView||1===t.checkInput?t._e():a(n["a"],{staticClass:"mx-0 my-0",attrs:{title:"Xóa",name:"Xóa",icon:"",ripple:""},on:{click:function(e){return e.stopPropagation(),t.deleteSingleFile(i,o)}}},[a(C["a"],{staticStyle:{color:"red"}},[t._v("delete_outline")])],1),a(n["a"],{staticClass:"mx-0 my-0",attrs:{title:"Tải xuống",name:"Tải xuống",icon:"",ripple:""},on:{click:function(e){return e.stopPropagation(),t.downloadSingleFile(i)}}},[a(C["a"],{attrs:{size:"14",color:"primary"}},[t._v("fas fa fa-download")])],1),3===t.originality&&t.activePdfEditor&&"pdf"===String(i["fileType"]).toLocaleLowerCase()?a(H["a"],{attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:"",ripple:""},on:{click:function(e){return e.stopPropagation(),t.showEditorPdf(i)}},slot:"activator"},[a(C["a"],{attrs:{size:"14",color:"primary"}},[t._v("chat")])],1),a("span",[t._v("Ghi chú trên giấy tờ")])],1):t._e(),1!==t.originality||t.onlyView||!t.showKySo||t.kySoSavis||t.kySoVnptSmartCa?t._e():a(n["a"],{staticClass:"my-0",attrs:{title:"Ký số giấy tờ đính kèm",flat:"",icon:"",color:"indigo"},on:{click:function(e){return e.stopPropagation(),t.mySignViettel(i,o)}}},[a(C["a"],{attrs:{size:"18"}},[t._v("fa fa-pencil-square-o")])],1),1===t.originality&&!t.onlyView&&t.showKySo&&"pdf"===String(i.fileType).toLowerCase()&&1!=i.signCheck&&t.kySoSavis?a(n["a"],{staticClass:"my-0",attrs:{title:"Ký số giấy tờ đính kèm",flat:"",icon:"",color:"indigo"},on:{click:function(e){return e.stopPropagation(),t.kySoPdfUrlSavis(i,o)}}},[a(C["a"],{attrs:{size:"18"}},[t._v("fa fa-pencil-square-o")])],1):t._e(),1===t.originality&&t.showKySo&&"pdf"===String(i.fileType).toLowerCase()&&1==i.signCheck&&t.kySoSavis?a(n["a"],{staticClass:"my-0",attrs:{title:"Giấy tờ đã được ký số",flat:"",icon:"",color:"green"}},[a(C["a"],{staticStyle:{color:"green !important"},attrs:{size:"18"}},[t._v("verified")])],1):t._e(),1===t.originality&&t.kySoVnptSmartCa&&"pdf"===String(i.fileType).toLowerCase()?a(n["a"],{staticClass:"my-0",attrs:{title:"Ký số VNPT Smart CA",flat:"",icon:"",color:"indigo"},on:{click:function(e){return e.stopPropagation(),t.showXacThucVnptSmartCa(i,o)}}},[a(C["a"],{attrs:{size:"18"}},[t._v("fa fa-pencil-square-o")])],1):t._e(),3===t.originality&&t.showKySoMotCua&&"pdf"===String(i.fileType).toLowerCase()?a(I["a"],{attrs:{right:"","offset-y":"",transition:"slide-x-transition",title:"Ký số tài liệu đính kèm"},nativeOn:{click:function(t){t.stopPropagation()}}},[a(n["a"],{attrs:{slot:"activator",flat:"",icon:"",color:"indigo"},slot:"activator"},[a(C["a"],{attrs:{size:"18"}},[t._v("fa fa-pencil-square-o")])],1),a(y["a"],[a(T["a"],[a(S["c"],{on:{click:function(e){return e.stopPropagation(),t.vgcaSignAction(i,o,"approved")}}},[a(C["a"],{attrs:{size:"18",color:"blue"}},[t._v("create")]),t._v("    KÝ PHÊ DUYỆT\n                        ")],1)],1),a(T["a"],[a(S["c"],{on:{click:function(e){return e.stopPropagation(),t.vgcaSignAction(i,o,"issued")}}},[a(C["a"],{attrs:{size:"18",color:"red"}},[t._v("fas fa fa-dot-circle-o")]),t._v("    ĐÓNG DẤU PHÁT HÀNH\n                        ")],1)],1),a(T["a"],[a(S["c"],{on:{click:function(e){return e.stopPropagation(),t.vgcaSignAction(i,o,"income")}}},[a(C["a"],{attrs:{size:"16",color:"green"}},[t._v("fas fa fa-file-text")]),t._v("    KÝ SỐ CÔNG VĂN ĐẾN\n                        ")],1)],1),a(T["a"],[a(S["c"],{on:{click:function(e){return e.stopPropagation(),t.vgcaSignAction(i,o,"copy")}}},[a(C["a"],{attrs:{size:"16",color:"green"}},[t._v("fas fa fa-file-text")]),t._v("    SAO VĂN BẢN ĐIỆN TỬ\n                        ")],1)],1)],1)],1):t._e(),3===t.originality&&t.applicantId&&!t.onlyView&&t.khoTaiLieuCongDan&&t.yeuCauSoHoa?a(n["a"],{staticClass:"my-0",attrs:{title:"Lưu giấy tờ vào kho",flat:"",icon:"",color:"indigo"},on:{click:function(a){return a.stopPropagation(),t.showAddStorage(e,i)}}},[a(C["a"],{staticStyle:{color:"green"},attrs:{size:"21"}},[t._v("bookmark")])],1):t._e()],1)]):t._e()})),t.dossierFilesApplicant&&t.dossierFilesApplicant.length?a("div",{staticClass:"mr-3 my-2 py-2",staticStyle:{display:"none","max-height":"250px",overflow:"auto",border:"1px dashed #f3ae75","border-radius":"5px",position:"relative"},attrs:{id:"fileApplicant-"+e.partNo}},[t._l(t.dossierFilesApplicant,(function(i,s){return i.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&e.partNo===i.dossierPartNo?a("div",{key:s},[i.eForm&&0!==i.fileSize?a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"3px"}},[a(H["a"],{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){return e.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[a("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),t._v("  \n                        "+t._s(i.dossierTemplateNo?i.dossierTemplateNo:i.referenceUid)+"."+t._s(i.fileType)+" - \n                        "),a("i",[t._v(t._s(i.modifiedDate))])]),a("span",[t._v("Bản khai trực tuyến")])]),t.progressUploadPart===i.dossierFileId?a(N["a"],{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t._e(),t.onlyView||t.progressUploadPart?t._e():a(H["a"],{staticClass:"ml-2",attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.attachToDossier(i,l)}},slot:"activator"},[a(o["a"],[a(C["a"],{attrs:{size:"16",color:"orange darken-3"}},[t._v("cloud_download")])],1)],1),a("span",[t._v("Sử dụng giấy tờ này")])],1)],1):a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"3px"}},[a(H["a"],{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){return e.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[0!==i.fileSize?a(C["a"],{staticStyle:{color:"#0d71bb"}},[t._v("attach_file")]):t._e(),t._v("\n                        "+t._s(i.displayName)+" - \n                        "),a("i",[t._v(t._s(i.modifiedDate))])],1),a("span",[t._v("Đính kèm")])]),t.progressUploadPart===i.dossierFileId?a(N["a"],{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t._e(),t.onlyView||t.progressUploadPart?t._e():a(H["a"],{staticClass:"ml-2",attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){return t.attachToDossier(i,l)}},slot:"activator"},[a(o["a"],[a(C["a"],{attrs:{size:"16",color:"orange darken-3"}},[t._v("cloud_download")])],1)],1),a("span",[t._v("Sử dụng giấy tờ này")])],1)],1)]):t._e()})),t.khoTaiLieuCongDan?t._e():a(n["a"],{staticClass:"mx-0 my-0",staticStyle:{position:"absolute",right:"0px",top:"0px"},attrs:{flat:"",icon:"",color:"red"},on:{click:function(a){return a.stopPropagation(),t.showFilesApplicant(e.partNo)}}},[a(C["a"],[t._v("clear")])],1)],2):t._e()],2)]),e.hasForm?a(s["a"],{attrs:{flat:""}},[a(r["b"],{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[a(v["a"],{attrs:{wrap:""}},[t.stateView?t._e():a(g["a"],{staticClass:"text-xs-right",attrs:{xs12:""}},[a("div",{style:t.pstFixed>t.pstEl&&t.pstFixed<t.endEl+t.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+e.partNo+t.id}},[e["editForm"]&&e.hasForm&&!t.onlyView&&1!==t.checkInput&&!e.embed?a(n["a"],{attrs:{color:"primary",disabled:t.loadingApacal},on:{click:function(a){return a.stopPropagation(),t.saveAlpacaForm(e,l)}}},[t.loadingApacal?a("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):a(C["a"],{attrs:{color:"white"}},[t._v("save")]),t._v(" \n                      Lưu lại\n                    ")],1):t._e(),e["editForm"]&&e.daKhai&&e.hasForm&&!e.embed?a(n["a"],{attrs:{color:"primary",disabled:t.loadingApacal},on:{click:function(a){return a.stopPropagation(),t.previewFormAlpaca(e,l)}}},[t.loadingApacal?a("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):a(C["a"],{attrs:{color:"white"}},[t._v("print")]),t._v(" \n                      Xem\n                    ")],1):t._e(),e.daKhai&&e.hasForm&&!e.embed?a(n["a"],{attrs:{color:"primary",disabled:t.loadingApacal},on:{click:function(a){return a.stopPropagation(),t.exportDoc(e,l)}}},[t.loadingApacal?a("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):a(C["a"],{attrs:{color:"white"}},[t._v("fas fa fa-file-word-o")]),t._v(" \n                      Tải xuống Word\n                    ")],1):t._e(),e["editForm"]||!e.hasForm||t.onlyView||e.embed?t._e():a(n["a"],{attrs:{color:"primary"},on:{click:function(a){return a.stopPropagation(),t.editFormAlpaca(e)}}},[a(C["a"],{attrs:{color:"white"}},[t._v("edit")]),t._v(" \n                      Sửa\n                    ")],1),e.daKhai&&e.hasForm&&!t.onlyView&&1!==t.checkInput?a(n["a"],{attrs:{color:"primary",disabled:t.loadingApacal},on:{click:function(a){return a.stopPropagation(),t.deleteSingleFileEform(e,l)}}},[t.loadingApacal?a("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):a(C["a"],{attrs:{color:"white"}},[t._v("delete")]),t._v(" \n                      Xóa\n                    ")],1):t._e()],1),e["editForm"]&&!e.embed?a("div",{style:{"pointer-events: none":t.onlyView},attrs:{id:"formAlpaca"+e.partNo+t.id}}):t._e(),e["editForm"]&&e.embed?a("div",{style:{"pointer-events: none":t.onlyView}},[a("iframe",{attrs:{id:"formAlpaca"+e.partNo+t.id,width:"100%",height:"500px",frameborder:"0",src:""}})]):t._e(),e["editForm"]?t._e():a("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"displayPDF"+e.partNo+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})])],1)],1)],1):t._e()],1)],1),a("div",{staticClass:"absolute__btn group__thanh_phan mr-1",style:1!==t.originality?"top: 3px":""},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(v["a"],{attrs:{row:"",wrap:""}},[1===t.originality||t.onlyView?t._e():a(g["a"],{staticClass:"layout wrap mr-2",staticStyle:{width:"100px"}},[a(E["a"],{staticClass:"counter-up-down text-xs-center",staticStyle:{width:"100px"},style:t.onlyView?"pointer-events: none":"",attrs:{title:"Số lượng","append-icon":"add","prepend-inner-icon":"remove","clear-icon":"mdi-close-circle",type:"number",solo:"",flat:"",height:"32"},on:{"click:append":function(e){return t.increaseCounter(l)},"click:prepend-inner":function(e){return t.decreaseCounter(l)},input:function(e){return t.changeRecordCount(l)}},model:{value:t.dossierTemplateItemsFilter[l]["recordCount"],callback:function(e){t.$set(t.dossierTemplateItemsFilter[l],"recordCount",e)},expression:"dossierTemplateItemsFilter[index]['recordCount']"}})],1),1===t.originality||1!==e.partType&&3!==e.partType||t.thongTinHoSo.online||1===t.checkInput?t._e():a(g["a"],{staticClass:"layout wrap",staticStyle:{width:"100px"}},[a(i["a"],{style:t.onlyView?"pointer-events: none":"",attrs:{items:t.fileMarkItems,"hide-no-data":""},on:{change:function(e){return t.changeFileMark(e,l)}},model:{value:t.dossierTemplateItemsFilter[l].fileMark,callback:function(e){t.$set(t.dossierTemplateItemsFilter[l],"fileMark",e)},expression:"dossierTemplateItemsFilter[index].fileMark"}})],1),1===t.checkInput?a(g["a"],{staticClass:"layout wrap",staticStyle:{width:"130px"}},[a(w["a"],{attrs:{items:t.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(e){return t.changeFileCheck(e,l)}},model:{value:t.dossierTemplateItemsFilter[l].fileCheck,callback:function(e){t.$set(t.dossierTemplateItemsFilter[l],"fileCheck",e)},expression:"dossierTemplateItemsFilter[index].fileCheck"}})],1):e.fileCheck>0?a(g["a"],{staticClass:"layout wrap",style:{width:"40px","align-items":"center","margin-left":"10px","margin-top":t.thongTinHoSo.online?"10px":"0px"}},[1===e.fileCheck?a(H["a"],{attrs:{top:""}},[a(C["a"],{staticClass:"mx-0",attrs:{slot:"activator",size:"24",color:"primary"},slot:"activator"},[t._v("done")]),a("span",[t._v("Đạt")])],1):2===e.fileCheck?a(H["a"],{attrs:{top:""}},[a(C["a"],{staticClass:"mx-0",attrs:{slot:"activator",size:"24",color:"primary"},slot:"activator"},[t._v("close")]),a("span",[t._v("Không đạt")])],1):t._e()],1):t._e(),1!==t.checkInput?a(g["a"],{class:{"text-xs-right":t.onlyView},style:{width:t.onlyView?"auto":t.khoTaiLieuCongDan&&t.partNoApplicantHasFile(e.partNo)&&e.hasForm?"150px":"120px"}},[e["multiple"]?a("input",{staticStyle:{display:"none"},attrs:{type:"file",multiple:"",id:"file"+e.partNo},on:{change:function(a){return t.onUploadSingleFile(a,e,l)}}}):a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+e.partNo},on:{change:function(a){return t.onUploadSingleFile(a,e,l)}}}),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"fileSavis"+e.partNo,accept:".pdf,application/pdf"},on:{change:function(a){return t.changeFileSavis(a,e,l)}}}),3!==e.partType||3!==t.originality||t.onlyView?t._e():a(H["a"],{attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:"",name:"Thêm giấy tờ khác"},on:{click:function(a){return t.addFileOther(e)}},slot:"activator"},[a(C["a"],{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("add")])],1),a("span",[t._v("Thêm giấy tờ khác")])],1),t.progressUploadPart===e.partNo?a(N["a"],{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t._e(),t.progressUploadPart!==e.partNo&&e.hasForm?a(H["a"],{attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator","aria-label":"Cập nhật bản khai",name:"Cập nhật bản khai",icon:""},on:{click:function(a){return a.stopPropagation(),t.loadAlpcaFormClick(e,"viewform")}},slot:"activator"},[a(o["a"],[t.onlyView?a(C["a"],{attrs:{size:"24",color:"#004b94"}},[t._v("description")]):a(C["a"],{attrs:{size:"24",color:"#004b94"}},[t._v("edit")])],1)],1),t.onlyView?a("span",[t._v("Xem bản khai")]):a("span",[t._v("Cập nhật bản khai")])],1):t._e(),t.progressUploadPart!==e.partNo&&t.onlyView&e.hasForm&&!t.nghiepvuhanghai?a(H["a"],{attrs:{top:""}},[a(n["a"],{staticClass:"mx-1 my-0",staticStyle:{height:"25px",width:"25px"},attrs:{slot:"activator",name:"Xem bản khai",fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){return t.loadAlpcaFormClick(e)}},slot:"activator"},[a(C["a"],{staticStyle:{"font-size":"14px"}},[t._v("visibility")])],1),a("span",[t._v("Xem")])],1):t._e(),t.progressUploadPart===e.partNo||t.onlyView||t.khoTaiLieuCongDan?t._e():a(H["a"],{attrs:{left:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:"","aria-label":"Tải giấy tờ lên",name:"Tải lên giấy tờ"},on:{click:function(a){return t.pickFile(e)}},slot:"activator"},[a(o["a"],[a(C["a"],{attrs:{size:"24",color:"#004b94"}},[t._v("cloud_upload")])],1)],1),e.partTip["extensions"]||e.partTip["maxSize"]?a("span",[t._v("Tải giấy tờ lên (Chấp nhận tải lên các định dạng: "+t._s(e.partTip["extensions"])+". Tối đa "+t._s(e.partTip["maxSize"])+" MB)")]):a("span",[t._v("Tải giấy tờ lên")])],1),t.progressUploadPart===e.partNo||t.onlyView||t.khoTaiLieuCongDan||!t.kySoSavis?t._e():a(H["a"],{attrs:{left:""}},[a(n["a"],{staticClass:"mx-0 my-0 ml-2",attrs:{slot:"activator","aria-label":"Tải lên và ký số",icon:"",name:"Tải lên và ký số"},on:{click:function(a){return t.pickFileSavis(e)}},slot:"activator"},[a(o["a"],[a(C["a"],{attrs:{size:"24",color:"#004b94"}},[t._v("fa-pencil-square-o")])],1)],1),a("span",[t._v("Tải lên và ký số giấy tờ")])],1),!t.partNoApplicantHasFile(e.partNo)||t.onlyView||t.khoTaiLieuCongDan?t._e():a(H["a"],{attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.showFilesApplicant(e.partNo)}},slot:"activator"},[a(o["a"],[a(C["a"],{attrs:{size:"24",color:"orange darken-3"}},[t._v("folder")])],1)],1),a("span",[t._v("Giấy tờ đã nộp")])],1),t.progressUploadPart!==e.partNo&&!t.onlyView&&t.khoTaiLieuCongDan?a(H["a"],{attrs:{left:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:"",name:"Tải lên"},on:{click:function(a){return t.pickFile(e)}},slot:"activator"},[a(o["a"],[a(C["a"],{attrs:{size:"24",color:"#004b94"}},[t._v("cloud_upload")])],1)],1),e.partTip["extensions"]||e.partTip["maxSize"]?a("span",[t._v("Tải giấy tờ từ máy (Chấp nhận tải lên các định dạng: "+t._s(e.partTip["extensions"])+". Tối đa "+t._s(e.partTip["maxSize"])+" MB)")]):a("span",[t._v("Tải giấy tờ từ máy")])],1):t._e(),t.applicantId&&t.khoTaiLieuCongDan?a(H["a"],{staticClass:"pl-1 pt-1",attrs:{top:""}},[a(n["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:"",name:"Giấy tờ trong kho"},on:{click:function(a){return t.showDocumentApplicant(e,l)}},slot:"activator"},[a(o["a"],[a(C["a"],{attrs:{size:"20",color:"orange darken-3"}},[t._v("storage")])],1)],1),a("span",[t._v("Sử dụng giấy tờ trong kho")])],1):t._e()],1):t._e()],1)],1)],1)})),t.partTypes.includes(2)||3!==t.originality||t.partTypes.includes(6)||t.partTypes.includes(7)?t._e():a("div",[a(s["a"],{attrs:{flat:""}},[a(r["b"],{staticClass:"py-0 px-3 pl-4",attrs:{flat:""}},[a(f["a"],{ref:"formGhiChuThanhPhan",attrs:{"lazy-validation":""},model:{value:t.valid_ghichu,callback:function(e){t.valid_ghichu=e},expression:"valid_ghichu"}},[t.onlyView?t._e():a("div",{staticClass:"my-2"},[a(k["a"],{staticClass:"py-0",attrs:{box:"",rows:"3",rules:[t.rules.varchar5000],label:"Ghi chú"},on:{input:t.changeApplicantNote},model:{value:t.applicantNoteDossier,callback:function(e){t.applicantNoteDossier=e},expression:"applicantNoteDossier"}})],1),t.onlyView&&t.applicantNoteDossier?a(E["a"],{staticClass:"my-2",attrs:{label:"Ghi chú",readonly:"",box:""},model:{value:t.applicantNoteDossier,callback:function(e){t.applicantNoteDossier=e},expression:"applicantNoteDossier"}}):t._e()],1)],1)],1)],1),a(d["a"],{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:t.dialogAddOtherTemp,callback:function(e){t.dialogAddOtherTemp=e},expression:"dialogAddOtherTemp"}},[a(s["a"],[a(f["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a(P["a"],{attrs:{dark:"",color:"primary"}},[a(F["b"],[t._v("Tên giấy tờ")]),a(b["a"]),a(n["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelDialog.apply(null,arguments)}}},[a(C["a"],[t._v("close")])],1)],1),a(r["b"],{staticClass:"pb-0 pt-4"},[a(v["a"],{attrs:{wrap:""}},[a(g["a"],{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[a(E["a"],{attrs:{label:"Tên giấy tờ:",rules:[function(t){return!!t||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:t.otherDossierTemplate,callback:function(e){t.otherDossierTemplate=e},expression:"otherDossierTemplate"}})],1)],1)],1),a(r["a"],[a(b["a"]),a(n["a"],{attrs:{color:"red darken-3",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(e){return t.cancelDialog.apply(null,arguments)}}},[t._v("\n              Quay lại\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])]),a(n["a"],{attrs:{color:"primary",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(e){return t.addOtherTemplate.apply(null,arguments)}}},[t._v("\n              Đồng ý\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])],1)],1)],1)],1)],2),3!==t.originality||t.onlyView?t._e():a("div",{staticClass:"absolute__btn pl-4",staticStyle:{width:"200px","margin-top":"5px"}},[a(c["a"],{staticClass:"mt-0",attrs:{label:"Chọn tất cả",value:1},on:{change:function(e){return t.changeAllFileMark(e)}},model:{value:t.allFileMark,callback:function(e){t.allFileMark=e},expression:"allFileMark"}})],1),a(d["a"],{staticStyle:{overflow:"hidden"},attrs:{"max-width":"1000",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a(s["a"],[a(P["a"],{attrs:{dark:"",color:"primary"}},[a(F["b"],[t.pdfEform?a("span",[t._v("Bản in đã khai trực tuyến")]):a("span",[t._v("Tài liệu đính kèm")])]),a(b["a"]),a(n["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a(C["a"],[t._v("close")])],1)],1),t.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a(N["a"],{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),a(d["a"],{attrs:{scrollable:"",persistent:"","max-width":"1300px"},model:{value:t.dialog_documentApplicant,callback:function(e){t.dialog_documentApplicant=e},expression:"dialog_documentApplicant"}},[a(s["a"],[a(P["a"],{attrs:{dark:"",color:"primary"}},[a(F["b"],[t._v("Kho giấy tờ, tài liệu")]),a(b["a"]),a(n["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelDialogKhoTaiLieu.apply(null,arguments)}}},[a(C["a"],[t._v("close")])],1)],1),a(r["b"],{staticClass:"py-1",staticStyle:{"min-height":"500px"}},[t.khoTaiLieuTapTrung?a("kho-tai-lieu-tap-trung",{ref:"khotailieutaptrung",attrs:{index:t.applicantId,thongTinChuHoSo:t.thongTinChuHoSo},on:{"trigger-attach":t.attachFileFromStorageCentralized}}):a("kho-tai-lieu",{ref:"khotailieu",attrs:{index:t.applicantId,serverCode:t.oneApp||"1"!=t.originality?"":t.thongTinHoSo.serverNo,fileTemplateNoScope:t.fileTemplateNoScope,status:t.statusApplicantData,thongTinChuHoSo:t.thongTinChuHoSo},on:{"trigger-attach":t.attachFileFromStorage}})],1)],1)],1),a(d["a"],{attrs:{"max-width":"650"},model:{value:t.dialogSignDigital,callback:function(e){t.dialogSignDigital=e},expression:"dialogSignDigital"}},[a(s["a"],[a(l["a"],{staticClass:"py-3 primary--text",staticStyle:{"font-size":"16px","font-weight":"600"}},[t._v("LỰA CHỌN DỊCH VỤ KÝ SỐ ĐIỆN TỬ")]),a(p["a"],{staticClass:"my-0"}),a(r["b"],{staticClass:"px-0",staticStyle:{height:"157px"}},[a(v["a"],{attrs:{wrap:""}},[a(g["a"],{staticClass:"text-xs-center",staticStyle:{cursor:"pointer"},attrs:{xs12:"",sm6:""}},[a(_["a"],{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.hover;return a("div",{staticStyle:{position:"relative"},on:{click:function(e){return t.mySignViettel(t.fileKySo,t.indexFileSelect)}}},[a("img",{staticClass:"mb-2",staticStyle:{background:"#fff"},attrs:{src:"/o/opencps-store/js/cli/dvc/app/image/logo-viettel-ca.png"}}),a("br"),a("span",{staticClass:"text-bold",staticStyle:{color:"#3a877e"}},[t._v("CHỮ KÝ SỐ CÔNG CỘNG")]),a(u["a"],[i?a("div",{staticClass:"d-flex slide-x-transition blue darken-2 display-3 white--text",staticStyle:{height:"155px","align-items":"center",bottom:"-40px","background-color":"#3a877e26 !important","justify-content":"center",position:"absolute",width:"100%"}}):t._e()])],1)}}])})],1),a(g["a"],{staticClass:"text-xs-center",staticStyle:{cursor:"pointer"},attrs:{xs12:"",sm6:""}},[a(_["a"],{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.hover;return a("div",{staticStyle:{position:"relative",height:"100%"}},[a("img",{staticClass:"mb-2",staticStyle:{background:"#fff"},attrs:{src:"/o/opencps-store/js/cli/dvc/app/image/logo-kyso-bancoyeu.png"}}),a("br"),i?t._e():a("span",{staticClass:"text-bold",staticStyle:{color:"#0071bd"}},[t._v("KÝ SỐ BAN CƠ YẾU CHÍNH PHỦ")]),a(u["a"],[i?a("div",{staticClass:"slide-x-transition blue darken-2 display-3 white--text",staticStyle:{height:"155px","align-items":"center",bottom:"-40px","background-color":"#1976d22e !important","justify-content":"center",position:"absolute",width:"100%"}},[a("div",{staticClass:"d-flex",staticStyle:{position:"absolute",bottom:"10px",width:"100%"}},[a(n["a"],{staticClass:"white--text",attrs:{small:"",color:"indigo"},on:{click:function(e){t.vgcaSignAction(t.fileKySo,t.indexFileSelect,"approved")}}},[a(C["a"],{staticStyle:{color:"#fff !important"}},[t._v("edit")]),t._v("    KÝ DUYỆT\n                      ")],1),a(n["a"],{staticClass:"white--text",attrs:{small:"",color:"red"},on:{click:function(e){t.vgcaSignAction(t.fileKySo,t.indexFileSelect,"issued")}}},[a(C["a"],{staticStyle:{color:"#fff !important"}},[t._v("fas fa fa-dot-circle-o")]),t._v("    ĐÓNG DẤU PHÁT HÀNH\n                      ")],1)],1)]):t._e()])],1)}}])})],1)],1)],1)],1)],1),a(d["a"],{attrs:{"max-width":"550",persistent:""},model:{value:t.dialogInputMobile,callback:function(e){t.dialogInputMobile=e},expression:"dialogInputMobile"}},[a(s["a"],[a(P["a"],{attrs:{dark:"",color:"primary"}},[t.useSimPKI?a(F["b"],{staticStyle:{"font-size":"14px"}},[t._v("NHẬP SỐ SIM CA THỰC HIỆN KÝ SỐ")]):t._e(),t.useSimPKI?t._e():a(F["b"],{staticStyle:{"font-size":"14px"}},[t._v("THÔNG TIN TÀI KHOẢN CHỮ KÝ SỐ CÔNG CỘNG")]),a(b["a"]),a(n["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogInputMobile=!1}}},[a(C["a"],[t._v("close")])],1)],1),a(r["b"],{staticClass:"px-0 pb-0"},[a(v["a"],{attrs:{wrap:""}},[t.useSimPKI?a(g["a"],{staticClass:"text-xs-center",staticStyle:{cursor:"pointer"},attrs:{xs12:""}},[a(E["a"],{staticClass:"my-2 mb-0 mx-2",attrs:{box:"",placeholder:"0868919191, 0972919191, ..."},model:{value:t.mobileCA,callback:function(e){t.mobileCA=e},expression:"mobileCA"}})],1):t._e(),t.useSimPKI?t._e():a(g["a"],{staticClass:"px-3",staticStyle:{cursor:"pointer"},attrs:{xs12:""}},[a("div",[t._v("Chọn nhà cung cấp : "),a("span",{staticStyle:{color:"red"}},[t._v(" (*)")])]),a(i["a"],{staticClass:"my-2",attrs:{items:t.dsCungCapCA,"hide-no-data":"","item-text":"name","item-value":"value",box:""},model:{value:t.donViCapCA,callback:function(e){t.donViCapCA=e},expression:"donViCapCA"}}),a("div",[t._v("Mã số thuế / Số CMND/CCCD, hộ chiếu"),a("span",{staticStyle:{color:"red"}},[t._v(" (*)")]),t._v(":")]),a(E["a"],{staticClass:"mt-2",attrs:{box:""},model:{value:t.userIdMySign,callback:function(e){t.userIdMySign=e},expression:"userIdMySign"}})],1),t.useSimPKI?t._e():a(g["a"],{staticClass:"text-xs-center mb-3",attrs:{xs12:""}},[a(n["a"],{staticClass:"mr-0",staticStyle:{width:"100px"},attrs:{loading:t.loadingAction,disabled:t.loadingAction,color:"primary"},on:{click:function(e){return t.getCertMySign()}}},[a(C["a"],[t._v("save")]),t._v("  \n              Xác nhận\n            ")],1)],1),!t.useSimPKI&&t.listCertMySign.length?a(g["a"],{staticClass:"px-3 mb-4",attrs:{xs12:""}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a(C["a"],{staticClass:"mr-2",attrs:{size:"20",color:"#5a770d"}},[t._v("double_arrow")]),a("span",{staticStyle:{"text-transform":"uppercase",color:"#5a770d","font-weight":"500","font-size":"14px"}},[t._v("Chọn chứng thư số:")])],1),t._l(t.listCertMySign,(function(e,i){return a(g["a"],{key:i,staticClass:"py-2 mt-2",staticStyle:{border:"1px dotted #5a770d",background:"#5a770d24"},attrs:{xs12:""},on:{click:function(a){return t.submitMySign(e)}}},[a("p",{staticStyle:{cursor:"pointer !important","text-decoration":"underline","padding-left":"15px","margin-bottom":"0px"}},[a(C["a"],{staticClass:"mr-2",attrs:{size:"18"}},[t._v("edit")]),a("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(e.cert_id))])],1)])}))],2):t._e()],1)],1),t.useSimPKI?a(r["a"],[a(b["a"]),a(n["a"],{staticClass:"mr-0",staticStyle:{width:"125px"},attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(e){return t.submitSignSimCa()}}},[a(C["a"],[t._v("save")]),t._v("  \n          Đồng ý\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Đang chờ ký số")])],1)],1):t._e()],1)],1),a(d["a"],{attrs:{fullscreen:"","hide-overlay":"",scrollable:"",transition:"dialog-bottom-transition"},model:{value:t.dialog_editor_pdf,callback:function(e){t.dialog_editor_pdf=e},expression:"dialog_editor_pdf"}},[t.activePdfEditor&&t.showViewerPdfEditor?a(s["a"],[a(r["b"],[a("div",{attrs:{id:"content-pdf-editor"}},[a("div",{staticClass:"toolbar"},[a("button",{staticClass:"cursor",attrs:{type:"button","data-tooltype":"cursor"}},[t._v("➚")]),a("div",{staticClass:"spacer"}),a("button",{staticClass:"rectangle",staticStyle:{"margin-right":"8px"},attrs:{type:"button","data-tooltype":"area"}},[t._v(" ")]),a("button",{staticClass:"highlight",staticStyle:{"margin-right":"8px"},attrs:{type:"button","data-tooltype":"highlight"}},[t._v(" ")]),a("button",{staticClass:"strikeout",attrs:{type:"button","data-tooltype":"strikeout"}},[t._v(" ")]),a("div",{staticClass:"spacer"}),a("button",{staticClass:"text",staticStyle:{"font-weight":"bold"},attrs:{type:"button","data-tooltype":"text"}}),a("select",{staticClass:"text-size mx-2"}),a("div",{staticClass:"text-color"}),a("div",{staticClass:"spacer"}),a("button",{staticClass:"pen",attrs:{type:"button","data-tooltype":"draw"}},[t._v("✎")]),a("select",{staticClass:"pen-size mx-2"}),a("div",{staticClass:"pen-color"}),a("div",{staticClass:"spacer"}),a("button",{staticClass:"comment",staticStyle:{display:"none"},attrs:{type:"button","data-tooltype":"point"}},[t._v("🗨")]),a("div",{staticClass:"spacer",staticStyle:{display:"none"}}),a("select",{staticClass:"scale mx-2"},[a("option",{attrs:{value:".5"}},[t._v("50%")]),a("option",{attrs:{value:"1"}},[t._v("100%")]),a("option",{attrs:{value:"1.33"}},[t._v("133%")]),a("option",{attrs:{value:"1.5"}},[t._v("150%")]),a("option",{attrs:{value:"2"}},[t._v("200%")])]),a("a",{staticClass:"rotate-ccw mx-2",attrs:{href:"javascript://"}},[t._v("⟲")]),a("a",{staticClass:"rotate-cw mx-2",attrs:{href:"javascript://"}},[t._v("⟳")]),a("div",{staticClass:"spacer"}),a("a",{staticClass:"clear",staticStyle:{display:"none"},attrs:{href:"javascript://",title:"Clear"}},[t._v("×")]),t.onlyView?t._e():a(n["a"],{staticClass:"mx-2",staticStyle:{color:"#0167d3!important","margin-top":"-4px",height:"26px"},attrs:{color:"primary"},on:{click:t.saveEditor}},[a(C["a"],[t._v("save")]),t._v("  Lưu  \n            ")],1),a(n["a"],{staticClass:"right",staticStyle:{"background-color":"transparent !important","border-color":"transparent !important"},attrs:{icon:""},on:{click:t.closeEditorPdf}},[a(C["a"],[t._v("close")])],1)],1),a("div",{staticStyle:{right:"0"},attrs:{id:"content-wrapper"}},[a("div",{staticClass:"pdfViewer",staticStyle:{"background-color":"#eee"},attrs:{id:"viewer"}})]),a("div",{staticStyle:{display:"none"},attrs:{id:"comment-wrapper"}},[a("h4",[t._v("Comments")]),a("div",{staticClass:"comment-list"},[a("div",{staticClass:"comment-list-container"},[a("div",{staticClass:"comment-list-item"},[t._v("No comments")])]),a("form",{staticClass:"comment-list-form",staticStyle:{display:"none"}},[a("input",{attrs:{type:"text",placeholder:"Add a Comment"}})])])])])])],1):t._e()],1),a(d["a"],{attrs:{"max-width":"450",persistent:""},model:{value:t.dialogSelectCa,callback:function(e){t.dialogSelectCa=e},expression:"dialogSelectCa"}},[a(s["a"],[a(P["a"],{attrs:{dark:"",color:"primary"}},[a(F["b"],{staticStyle:{"font-size":"14px"}},[t._v("Lựa chọn chứng thư số")]),a(b["a"]),a(n["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogSelectCa=!1}}},[a(C["a"],[t._v("close")])],1)],1),a(r["b"],{staticClass:"px-0 pb-0"},[a(v["a"],{attrs:{wrap:""}},t._l(t.listCaSavis,(function(e,i){return a(g["a"],{key:i,staticClass:"px-3 py-2",staticStyle:{cursor:"pointer, border-bottom: 1px solid #dedede"},attrs:{xs12:""},on:{click:function(a){return t.submitSignSavis(e)}}},[a("p",{staticStyle:{cursor:"pointer !important"}},[t._v(t._s(i+1)+". "+t._s(e.subjectDn.split("CN=")[1].split(",")[0]))])])})),1)],1)],1)],1),a(d["a"],{attrs:{"max-width":"450",persistent:""},model:{value:t.dialogSelectAnhChuKySo,callback:function(e){t.dialogSelectAnhChuKySo=e},expression:"dialogSelectAnhChuKySo"}},[a(s["a"],[a(P["a"],{attrs:{dark:"",color:"primary"}},[a(F["b"],{staticStyle:{"font-size":"14px"}},[t._v("Tải lên ảnh hiển thị trên chữ ký")]),a(b["a"])],1),a(r["b"],{staticClass:"px-0 pb-0"},[a(v["a"],{attrs:{wrap:""}},[a(g["a"],{staticClass:"px-3 py-2",staticStyle:{cursor:"pointer, border-bottom: 1px solid #dedede"},attrs:{xs12:""}},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",id:"fileAnhChuKySavis"},on:{input:function(e){return t.changeFileAnhChuKySavis(e)}}}),a(n["a"],{staticClass:"mx-0 px-0 d-inline-block",staticStyle:{width:"100%"},attrs:{outline:"",flat:"",color:"primary"},nativeOn:{click:function(e){return t.selectAnhHienThiKySo()}}},[a(C["a"],{attrs:{size:"16"}},[t._v("fas fa fa-upload")]),t._v("    \n              Tải lên\n            ")],1)],1)],1)],1),a(r["a"],[a(b["a"]),a(n["a"],{attrs:{color:"red darken-3",flat:"flat"},nativeOn:{click:function(e){return t.cancelFileAnhChuKySavis.apply(null,arguments)}}},[t._v("\n          Bỏ qua\n        ")])],1)],1)],1),a(d["a"],{attrs:{persistent:"",width:"300"},model:{value:t.processingSavis,callback:function(e){t.processingSavis=e},expression:"processingSavis"}},[a(s["a"],{attrs:{color:"primary",dark:""}},[a(r["b"],[a("span",[t._v(t._s(t.mssProcessingSavis))]),a(A["a"],{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a(d["a"],{attrs:{"max-width":"550",persistent:""},model:{value:t.dialogXacThucVnptSmartCa,callback:function(e){t.dialogXacThucVnptSmartCa=e},expression:"dialogXacThucVnptSmartCa"}},[a(s["a"],[a(P["a"],{attrs:{dark:"",color:"primary"}},[a(F["b"],{staticStyle:{"font-size":"14px"}},[t._v("XÁC THỰC NGƯỜI DÙNG VNPT SMART CA")]),a(b["a"]),a(n["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogXacThucVnptSmartCa=!1}}},[a(C["a"],[t._v("close")])],1)],1),a(r["b"],{staticClass:"px-0 pb-0"},[t.detailUserSmartVnpt?a(v["a"],{attrs:{wrap:""}},[a(g["a"],{staticStyle:{cursor:"pointer"},attrs:{xs12:""}},[a("p",{staticClass:"mx-3 mb-3",staticStyle:{"text-align":"center","font-size":"16px"}},[a("span",{staticClass:"text-bold",staticStyle:{color:"green"}},[t._v("XÁC THỰC THÀNH CÔNG")])]),a("p",{staticClass:"mx-3"},[a("span",[t._v("Họ và tên: ")]),a("span",{staticClass:"text-bold"},[t._v(t._s(t.userSignSmartVnpt.fullName))])]),a("p",{staticClass:"mx-3"},[a("span",[t._v("Số điện thoại: ")]),a("span",{staticClass:"text-bold"},[t._v(t._s(t.userSignSmartVnpt.phone))])]),a("p",{staticClass:"mx-3"},[a("span",[t._v("Email: ")]),a("span",{staticClass:"text-bold"},[t._v(t._s(t.userSignSmartVnpt.email))])])])],1):a(v["a"],{attrs:{wrap:""}},[a(g["a"],{staticClass:"text-xs-center",attrs:{xs12:""}},[a("img",{staticClass:"mb-2",staticStyle:{width:"100px"},attrs:{src:"/o/opencps-store/js/cli/dvc/app/image/logo-vnpt-ca.svg"}}),a("br")]),a(g["a"],{staticClass:"mt-2",staticStyle:{cursor:"pointer"},attrs:{xs12:""}},[a("p",{staticClass:"mx-3"},[t._v("Tên đăng nhập")]),a(E["a"],{staticClass:"my-2 mb-0 mx-3",attrs:{box:""},model:{value:t.userNameSmartCa,callback:function(e){t.userNameSmartCa=e},expression:"userNameSmartCa"}})],1),a(g["a"],{staticStyle:{cursor:"pointer"},attrs:{xs12:""}},[a("p",{staticClass:"mx-3"},[t._v("Mật khẩu")]),a(E["a"],{staticClass:"my-2 mb-0 mx-3",attrs:{box:"",type:"password"},model:{value:t.passWordSmartCa,callback:function(e){t.passWordSmartCa=e},expression:"passWordSmartCa"}})],1)],1)],1),a(r["a"],{staticClass:"pb-3 pt-0"},[a(b["a"]),t.detailUserSmartVnpt?a(n["a"],{staticClass:"mr-2 white--text",staticStyle:{width:"125px"},attrs:{color:"#00204a",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(e){return t.sendRequestSignVnptSmartCa()}}},[a(C["a"],[t._v("fa fa-pencil-square-o")]),t._v("  \n          Ký số\n        ")],1):a(n["a"],{staticClass:"mr-2 white--text",staticStyle:{width:"125px"},attrs:{color:"#00204a",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(e){return t.submitLoginCaVnpt()}}},[a(C["a"],[t._v("save")]),t._v("  \n          Đồng ý\n        ")],1)],1)],1)],1),a(d["a"],{attrs:{"max-width":"550",persistent:""},model:{value:t.dialogChoKySoBatDongBo,callback:function(e){t.dialogChoKySoBatDongBo=e},expression:"dialogChoKySoBatDongBo"}},[a(s["a"],[a(P["a"],{attrs:{dark:"",color:"primary"}},[a(F["b"],{staticStyle:{"font-size":"14px"}},[t._v(" CHỜ KÝ SỐ")]),a(b["a"]),a(n["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogChoKySoBatDongBo=!1}}},[a(C["a"],[t._v("close")])],1)],1),a(r["b"],{staticClass:"px-0 pb-0"},[a(v["a"],{attrs:{wrap:""}},[a(g["a"],{staticClass:"mt-2",staticStyle:{"font-size":"16px"},attrs:{xs12:""}},[a("div",{staticClass:"mb-2 mx-3"},[a(A["a"],{attrs:{indeterminate:!0}})],1),a("p",{staticClass:"mx-3"},[t._v("\n              Yêu cầu ký số tài liệu đã được gửi. Vui lòng thực hiện ký số trên thiết bị.\n            ")])])],1)],1),a(r["a"],{staticClass:"py-3 px-3",staticStyle:{"justify-content":"center"}},[t.useMySignVT?a(n["a"],{staticClass:"mr-2 white--text",staticStyle:{width:"125px"},attrs:{color:"primary"},on:{click:function(e){t.dialogChoKySoBatDongBo=!1}}},[a(C["a"],[t._v("clear")]),t._v("  \n          HỦY BỎ\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Đang kiểm tra")])],1):t._e()],1)],1)],1),a(d["a"],{attrs:{scrollable:"",persistent:"","max-width":"900px"},model:{value:t.dialog_add_giayto,callback:function(e){t.dialog_add_giayto=e},expression:"dialog_add_giayto"}},[a(s["a"],[a(P["a"],{attrs:{dark:"",color:"primary"}},[a(F["b"],[t._v("Lưu giấy tờ vào kho kết quả TTHC")]),a(b["a"]),a(n["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialog_add_giayto=!1}}},[a(C["a"],[t._v("close")])],1)],1),a(r["b"],{staticClass:"py-1"},[a(f["a"],{ref:"form",staticClass:"py-3 px-0 grid-list",attrs:{"lazy-validation":""},model:{value:t.validFormStorage,callback:function(e){t.validFormStorage=e},expression:"validFormStorage"}},[a(v["a"],{staticClass:"px-0 py-3",attrs:{row:"",wrap:""}},[a(g["a"],{attrs:{xs12:""}},[a(E["a"],{attrs:{label:"Tên giấy tờ",box:""},model:{value:t.tenGiayToStorage,callback:function(e){t.tenGiayToStorage=e},expression:"tenGiayToStorage"}})],1),a(g["a"],{attrs:{xs12:""}},[a(E["a"],{attrs:{label:"Số hiệu giấy tờ",box:""},model:{value:t.soHieuGiayToStorage,callback:function(e){t.soHieuGiayToStorage=e},expression:"soHieuGiayToStorage"}})],1),a(g["a"],{staticClass:"px-0 pr-3",attrs:{xs12:"",sm6:""}},[a(E["a"],{attrs:{label:"Ngày cấp",placeholder:"dd/mm/yyyy, ddmmyyyy",box:"",clearable:""},on:{blur:t.formatDate},model:{value:t.createDateStorage,callback:function(e){t.createDateStorage=e},expression:"createDateStorage"}})],1),a(g["a"],{staticClass:"px-0 pr-3",attrs:{xs12:"",sm6:""}},[a(E["a"],{attrs:{label:"Ngày hết hạn",placeholder:"dd/mm/yyyy, ddmmyyyy",box:"",clearable:""},on:{blur:t.formatExpireDate},model:{value:t.expireDateStorage,callback:function(e){t.expireDateStorage=e},expression:"expireDateStorage"}})],1)],1)],1)],1),a(r["a"],[a(b["a"]),a(n["a"],{staticClass:"mr-2",attrs:{color:"primary",loading:t.progress_sohoa,disabled:t.progress_sohoa},nativeOn:{click:function(e){t.dialog_add_giayto=!1}}},[a(C["a"],[t._v("clear")]),t._v("  \n          Thoát\n        ")],1),a(n["a"],{staticClass:"mr-3",attrs:{color:"primary",loading:t.progress_sohoa,disabled:t.progress_sohoa},nativeOn:{click:function(e){return t.addApplicantData.apply(null,arguments)}}},[a(C["a"],[t._v("save")]),t._v("  \n          Đồng ý\n        ")],1)],1)],1)],1),a(d["a"],{attrs:{"max-width":"550",persistent:""},model:{value:t.dialogTaiSavis,callback:function(e){t.dialogTaiSavis=e},expression:"dialogTaiSavis"}},[a(s["a"],[a(P["a"],{attrs:{dark:"",color:"primary"}},[a(F["b"],{staticStyle:{"font-size":"14px"}},[t._v(" CÔNG CỤ KÝ SỐ CHƯA ĐƯỢC CÀI ĐẶT")]),a(b["a"]),a(n["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogTaiSavis=!1}}},[a(C["a"],[t._v("close")])],1)],1),a(r["b"],{staticClass:"px-0 pb-0"},[a(v["a"],{attrs:{wrap:""}},[a(g["a"],{staticClass:"mt-2",staticStyle:{"font-size":"14px"},attrs:{xs12:""}},[a("p",{staticClass:"mx-3"},[t._v("\n              Vui lòng cài đặt công cụ ký số Savis phiên bản mới nhất.\n            ")])])],1)],1),a(r["a"],{},[a(b["a"]),a(n["a"],{staticClass:"mr-2 white--text",staticStyle:{width:"125px"},attrs:{color:"primary"},on:{click:function(e){return t.downloadSavisMsi()}}},[a(C["a"],{staticStyle:{color:"#ffffff !important"},attrs:{size:"14"}},[t._v("fas fa fa-download")]),t._v("  \n          Tải bản cài đặt\n        ")],1)],1)],1)],1),a("div",{staticStyle:{display:"none"}},[a("a",{attrs:{id:"downloadCaiDatSavis",href:t.srcDownloadSavis,download:""}})]),a("div",{staticStyle:{display:"none"}},[a("a",{attrs:{id:"downloadFileKho",href:t.srcDownload,download:""}})])],1)},L=[],M=a("6f34"),V=M["a"],K=a("2877"),$=Object(K["a"])(V,O,L,!1,null,null,null);e["a"]=$.exports},"6f34":function(module,__webpack_exports__,__webpack_require__){"use strict";var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),axios__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__),toastr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_2__),_TiepNhan_KhoTaiLieu__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a29c"),_TiepNhan_KhoTaiLieuTapTrung__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("a7b8");function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,a=e.hasOwnProperty,i=Object.defineProperty||function(t,e,a){t[e]=a.value},o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function l(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(w){l=function(t,e,a){return t[e]=a}}function c(t,e,a,o){var n=e&&e.prototype instanceof u?e:u,s=Object.create(n.prototype),r=new A(o||[]);return i(s,"_invoke",{value:T(t,a,r)}),s}function d(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(w){return{type:"throw",arg:w}}}t.wrap=c;var p={};function u(){}function h(){}function m(){}var g={};l(g,n,(function(){return this}));var f=Object.getPrototypeOf,_=f&&f(f(D([])));_&&_!==e&&a.call(_,n)&&(g=_);var C=m.prototype=u.prototype=Object.create(g);function v(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){function o(i,n,s,r){var l=d(t[i],t,n);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"==_typeof(p)&&a.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,s,r)}),(function(t){o("throw",t,s,r)})):e.resolve(p).then((function(t){c.value=t,s(c)}),(function(t){return o("throw",t,s,r)}))}r(l.arg)}var n;i(this,"_invoke",{value:function(t,a){function i(){return new e((function(e,i){o(t,a,e,i)}))}return n=n?n.then(i,i):i()}})}function T(t,e,a){var i="suspendedStart";return function(o,n){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw n;return x()}for(a.method=o,a.arg=n;;){var s=a.delegate;if(s){var r=S(s,a);if(r){if(r===p)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===i)throw i="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);i="executing";var l=d(t,e,a);if("normal"===l.type){if(i=a.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(i="completed",a.method="throw",a.arg=l.arg)}}}function S(t,e){var a=e.method,i=t.iterator[a];if(void 0===i)return e.delegate=null,"throw"===a&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==a&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+a+"' method")),p;var o=d(i,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var n=o.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function D(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(a.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=m,i(C,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:h,configurable:!0}),h.displayName=l(m,r,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,r,"GeneratorFunction")),t.prototype=Object.create(C),t},t.awrap=function(t){return{__await:t}},v(y.prototype),l(y.prototype,s,(function(){return this})),t.AsyncIterator=y,t.async=function(e,a,i,o,n){void 0===n&&(n=Promise);var s=new y(c(e,a,i,o),n);return t.isGeneratorFunction(a)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},v(C),l(C,r,"Generator"),l(C,n,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),a=[];for(var i in e)a.push(i);return a.reverse(),function t(){for(;a.length;){var i=a.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=D,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(a,i){return s.type="throw",s.arg=t,e.next=a,i&&(e.method="next",e.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],s=n.completion;if("root"===n.tryLoc)return i("end");if(n.tryLoc<=this.prev){var r=a.call(n,"catchLoc"),l=a.call(n,"finallyLoc");if(r&&l){if(this.prev<n.catchLoc)return i(n.catchLoc,!0);if(this.prev<n.finallyLoc)return i(n.finallyLoc)}else if(r){if(this.prev<n.catchLoc)return i(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return i(n.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=t,s.arg=e,n?(this.method="next",this.next=n.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),N(a),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var o=i.arg;N(a)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:D(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),p}},t}function asyncGeneratorStep(t,e,a,i,o,n,s){try{var r=t[n](s),l=r.value}catch(c){return void a(c)}r.done?e(l):Promise.resolve(l).then(i,o)}function _asyncToGenerator(t){return function(){var e=this,a=arguments;return new Promise((function(i,o){var n=t.apply(e,a);function s(t){asyncGeneratorStep(n,i,o,s,r,"next",t)}function r(t){asyncGeneratorStep(n,i,o,s,r,"throw",t)}s(void 0)}))}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"===typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function _iterableToArrayLimit(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i,o,n,s,r=[],l=!0,c=!1;try{if(n=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;l=!1}else for(;!(l=(i=n.call(a)).done)&&(r.push(i.value),r.length!==e);l=!0);}catch(d){c=!0,o=d}finally{try{if(!l&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(c)throw o}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}toastr__WEBPACK_IMPORTED_MODULE_2___default.a.options={closeButton:!0,timeOut:"5000",positionClass:"toast-top-center"},__webpack_exports__["a"]={props:{onlyView:{type:Boolean,default:function(){return!1}},id:{type:String,default:function(){return"nm"}},partTypes:{type:Array,default:function(){return[1,3]}},checkInput:{type:Number,default:function(){return 0}},formCodeInput:{type:String,default:function(){return""}},tempLienThong:{type:Boolean,default:function(){return!1}},expandEform:{type:Boolean,default:function(){return!1}}},components:{"kho-tai-lieu":_TiepNhan_KhoTaiLieu__WEBPACK_IMPORTED_MODULE_3__["a"],"kho-tai-lieu-tap-trung":_TiepNhan_KhoTaiLieuTapTrung__WEBPACK_IMPORTED_MODULE_4__["a"]},data:function(){return{dialog_add_giayto:!1,validFormStorage:!0,partKhoGiayTo:"",fileKhoGiayTo:"",tenGiayToStorage:"",soHieuGiayToStorage:"",createDateStorage:"",expireDateStorage:"",giayToDaLuu:"",access_token_vnpt:"",userSignSmartVnpt:"",tranId_vnpt:"",userNameSmartCa:"",passWordSmartCa:"",detailUserSmartVnpt:!1,fileKySoSavis:"",fileImageSignPdf:"",dialogSelectCa:!1,listCaSavis:[],dialogSelectAnhChuKySo:!1,hasAnhChuKySo:!1,processingSavis:!1,mssProcessingSavis:"",signSavisPdfUrl:!1,srcDownloadSavis:"",dialogTaiSavis:!1,activePdfEditor:!1,showViewerPdfEditor:!1,dialog_editor_pdf:!1,valid_ghichu:!1,dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,loadingApacal:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,loadingFile:!1,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],pdfEform:!1,sampleCount:0,serviceInfoId:0,fileMarkItems:[{text:"Không có",value:0},{text:"Bản chụp",value:1},{text:"Bản sao",value:2},{text:"Bản gốc",value:3},{text:"Bản dịch",value:4}],markCheck:"",fileCheckItems:[{text:"Chưa kiểm tra",value:0},{text:"Đạt",value:1},{text:"Không đạt",value:2}],fileTemplateItems:[],fileTemplateNoString:"",dossierFilesApplicant:[],stateViewResult:!0,currentFormView:"",pstFixed:0,pstEl:0,endEl:0,applicantNoteDossier:"",doChange:{},dossierTemplateLienThong:[],receiveMessage:"",dialog_documentApplicant:!1,dossierPartAttach:"",indexPart:"",rules:{required:function(t){return!!t||"Thông tin bắt buộc"},cmndHoChieu:function(t){var e=/^(?![0-9]{4,12})[0-9a-zA-Z]{4,12}$/;return e.test(t)||"Gồm các ký tự 0-9, a-z và ít nhất 4-12 ký tự"},email:function(t){t=t.trim();var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Địa chỉ Email không hợp lệ"},passWord:function(t){var e=/^(?![0-9]{6,})[0-9a-zA-Z]{6,}$/;return e.test(t)||"Gồm các ký tự 0-9, a-z và ít nhất 6 ký tự"},telNo:function(t){var e=/^([0-9]{0,})$/;return"string"===typeof t&&(t=t.trim()),e.test(t)||"Gồm các ký tự 0-9"},varchar50:function(t){return!t||(t=String(t).trim(),t.length<=50||"Không được nhập quá 50 ký tự")},varchar100:function(t){return!t||(t=String(t).trim(),t.length<=100||"Không được nhập quá 100 ký tự")},varchar255:function(t){return!t||(t=String(t).trim(),t.length<=255||"Không được nhập quá 255 ký tự")},varchar500:function(t){return!t||(t=String(t).trim(),t.length<=500||"Không được nhập quá 500 ký tự")},varchar5000:function(t){return!t||(t=String(t).trim(),t.length<=5e3||"Không được nhập quá 5000 ký tự")}},khoTaiLieuCongDan:!1,allFileMark:!1,render:!0,showKySo:!1,showKySoMotCua:!1,dialogSignDigital:!1,dialogXacThucVnptSmartCa:!1,dialogChoKySoBatDongBo:!1,fileKySo:"",indexFileSelect:"",fileEditor:"",statusApplicantData:"",fileTemplateNoScope:"",nghiepvuhanghai:!1,yeuCauSoHoa:!1,mobileCA:"",dialogInputMobile:!1,loadingAction:!1,kySoSavis:!1,kySoVnptSmartCa:!1,oneApp:!1,khoTaiLieuTapTrung:!1,srcDownload:"",useSimPKI:"",useMySignVT:!1,typeUserMySign:"MST",userIdMySign:"",dsCungCapCA:[{name:"Viettel CA",value:"Viettel-CA"},{name:"VNPT CA",value:"VNPT-CA"},{name:"FPT CA",value:"FPT-CA"},{name:"BKAV CA",value:"BkavCA"},{name:"Nacencom",value:"CA2"},{name:"MISA CA",value:"MISA-CA"}],donViCapCA:"",listCertMySign:[],transactionInfo:"",certSelected:""}},created:function(){var t=this;t.receiveMessage=function(e){t.saveAlpacaFormCallBack(e)};try{t.khoTaiLieuTapTrung=khoTaiLieuTapTrung}catch(e){}try{t.oneApp=oneApp}catch(e){}try{t.kySoVnptSmartCa=kySoVnptSmartCa}catch(e){}try{t.kySoSavis=kySoSavis}catch(e){}try{t.srcDownloadSavis=srcDownloadSavis}catch(e){}try{t.khoTaiLieuCongDan=khoTaiLieuCongDan}catch(e){}try{t.showKySo=showKySoDvc}catch(e){}try{t.dsCungCapCA=dsCungCapCA}catch(e){}try{t.showKySoMotCua=showKySoMotCua}catch(e){}try{t.activePdfEditor=activePdfEditor}catch(e){}try{t.requiredEform=requiredEform}catch(e){}try{t.nghiepvuhanghai=nghiepvuhanghai}catch(e){}try{t.yeuCauSoHoa=yeuCauSoHoa}catch(e){}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData},dossierTemplateItemsFilter:function(){var t=this,e=t.dossierTemplateItems;if(e.length>0){var a=e.filter((function(e){return t.partTypes.includes(e.partType)&&t.checkVisibleTemp(e,0)})),i=a;return"1"===String(t.checkInput)&&(i=a.filter((function(t){return 0!==t["fileMark"]}))),i}},applicantBussinessExit:function(){return this.$store.getters.getApplicantBussinessExit},applicantId:function(){return this.$store.getters.getApplicantIdNo},applicantNote:function(){return this.$store.getters.getApplicantNote},userLoginInfomation:function(){return this.$store.getters.getUserLogin},thongTinChuHoSo:function(){return this.$store.getters.thongTinChuHoSo}},mounted:function(){var t=this;t.page=1,t.$nextTick((function(){}))},beforeDestroy:function(){var t=this;window.removeEventListener("message",t.receiveMessage),window.addEventListener("message",t.resetMessage)},destroyed:function(){try{var t=this;window.removeEventListener("message",t.receiveMessage),window.addEventListener("message",t.resetMessage)}catch(e){}},watch:{applicantBussinessExit:function(t){var e=this;t&&e.fileTemplateNoString&&!e.khoTaiLieuCongDan&&e.getDossierFileApplicants(t,e.fileTemplateNoString),e.khoTaiLieuCongDan&&e.getDossierFileApplicants(t)},applicantId:function(t){var e=this;t&&e.fileTemplateNoString&&e.getDossierFileApplicants(t,e.fileTemplateNoString),e.khoTaiLieuCongDan&&e.getDossierFileApplicants(t)},dossierTemplateItemsFilter:function(){var t=this;for(var e in t.dossierTemplateItemsFilter)t.doChange[e]=""},dialog_documentApplicant:function(t){setTimeout((function(){if(t)for(var e=document.querySelectorAll(".v-menu__content"),a=0;a<e.length;a++)e[a].style.position="fixed";else for(var i=document.querySelectorAll(".v-menu__content"),o=0;o<i.length;o++)i[o].style.position="absolute"}),300)},dialogInputMobile:function(t){setTimeout((function(){if(t)for(var e=document.querySelectorAll(".v-menu__content"),a=0;a<e.length;a++)e[a].style.position="fixed";else for(var i=document.querySelectorAll(".v-menu__content"),o=0;o<i.length;o++)i[o].style.position="absolute"}),300)}},methods:{formatDate:function(){var t=this,e=String(t.createDateStorage).trim().length,a=String(t.createDateStorage).split("/");if(e&&e>4&&3===a.length&&a[2])t.createDateStorage=t.translateDate(t.createDateStorage);else if(e&&8===e){var i=String(t.createDateStorage);t.createDateStorage=i.slice(0,2)+"/"+i.slice(2,4)+"/"+i.slice(4,8)}else t.createDateStorage=""},formatExpireDate:function(){var t=this,e=String(t.expireDateStorage).trim().length,a=String(t.expireDateStorage).split("/");if(e&&e>4&&3===a.length&&a[2])t.expireDateStorage=t.translateDate(t.expireDateStorage);else if(e&&8===e){var i=String(t.expireDateStorage);t.expireDateStorage=i.slice(0,2)+"/"+i.slice(2,4)+"/"+i.slice(4,8)}else t.expireDateStorage=""},translateDate:function(t){if(!t)return null;var e=t.split("/"),a=_slicedToArray(e,3),i=a[0],o=a[1],n=a[2];return"".concat(i.padStart(2,"0"),"/").concat(o.padStart(2,"0"),"/").concat(n)},showAddStorage:function(t,e){var a=this;a.soHieuGiayToStorage="",a.createDateStorage="",a.expireDateStorage="",a.dialog_add_giayto=!0,a.partKhoGiayTo=t,a.fileKhoGiayTo=e,a.tenGiayToStorage=t.partName},addApplicantData:function(){var t=this;t.progress_sohoa=!0;var e={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},a=new FormData,i="/o/rest/v2/applicantdatas";a.append("fileTemplateNo",t.partKhoGiayTo.fileTemplateNo),a.append("status",1),a.append("fileNo",t.soHieuGiayToStorage),a.append("fileName",t.partKhoGiayTo.partName),a.append("applicantIdNo",t.applicantId),a.append("file",""),a.append("fileEntryId",t.fileKhoGiayTo.hasOwnProperty("fileEntryId")?t.fileKhoGiayTo.fileEntryId:""),a.append("applicantName",t.thongTinChuHoSo["applicantName"]?t.thongTinChuHoSo["applicantName"]:""),a.append("govAgencyName",t.thongTinHoSo.govAgencyName),a.append("serviceCode",t.thongTinHoSo["serviceCode"]),a.append("templateNo",t.partKhoGiayTo.fileTemplateNo),a.append("issueDate",t.createDateStorage),a.append("expireDate",t.expireDateStorage),a.append("desciption",""),a.append("dossierNo",""),axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(i,a,e).then((function(e){t.progress_sohoa=!1,t.dialog_add_giayto=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Lưu giấy tờ vào kho thành công");var a=t.fileKhoGiayTo+",";t.giayToDaLuu+=a})).catch((function(e){t.progress_sohoa=!1}))},showValid:function(){var t=this,e={validForm:t.$refs.formGhiChuThanhPhan.validate()};return e},markAll:function(){var t=this;t.dossierTemplateItemsFilter&&""!==t.markCheck&&t.dossierTemplateItemsFilter.forEach((function(e,a){1===e.partType&&e.fileMark&&!e.recordCountDefault&&(e["dossierId"]=t.thongTinHoSo.dossierId,e["fileCheck"]=t.markCheck,e["fileComment"]="",e["checkInput"]=t.checkInput,t.$store.dispatch("postDossierMark",e))}))},resetCounterTemplate:function(t,e){t.commit,t.state;var a=this;a.dossierTemplateItems.forEach((function(t){t.partNo===e.partNo&&(t.hasForm?t.count=1:t.count=0)}))},recountFileTemplates:function(){var t=this;t.dossierTemplateItems.forEach((function(e){e.count=0,t.dossierFilesItems.forEach((function(t){e.partNo!==t.dossierPartNo||t.eForm||e.count++}))}))},initData:function(t){var e=this;e.$store.dispatch("getDocumentType").then((function(t){var a=function(t){function e(t,e){return t.itemCode<e.itemCode?-1:t.itemCode>e.itemCode?1:0}return t.sort(e)};if(t){var i=a(t);for(var o in e.fileMarkItems=[],i)e.fileMarkItems.push({text:i[o]["itemName"],value:i[o]["itemCode"]})}})),e.thongTinHoSo=t,e.applicantNoteDossier=t["applicantNote"]&&String(t["applicantNote"]).indexOf("<br>[")<0?t["applicantNote"]:"";var a=[];null!==t["sampleCount"]&&void 0!==t["sampleCount"]&&"undefined"!==t["sampleCount"]&&(e.sampleCount=t["sampleCount"]),a.push(e.$store.dispatch("loadDossierTemplates",t)),a.push(e.$store.dispatch("loadDossierMark",t)),a.push(e.$store.dispatch("loadDossierFiles",t.dossierId)),a.push(e.$store.dispatch("getServiceInfo",{serviceInfoId:t.serviceCode})),Promise.all(a).then((function(t){var a=t[0]["dossierParts"],i=t[1],o=t[2],n=[];t[3].hasOwnProperty("serviceInfoId")&&(e.serviceInfoId=t[3].serviceInfoId),t[3].fileTemplates&&(Array.isArray(t[3].fileTemplates)?n=t[3].fileTemplates:n.push(t[3].fileTemplates));var s=e.mergeDossierTemplateVsDossierFiles(a,o);if(s=e.mergeDossierTemplateVsDossierMark(s,i),s=e.mergeDossierTemplateVsFileTemplates(s,n),e.dossierFilesItems=o,e.dossierMarksItems=i,e.fileTemplateItems=n,e.dossierTemplateItems=s,e.saveMark(),(e.partTypes.includes(2)||e.partTypes.includes(7))&&e.dossierTemplateItems.length>0&&!e.tempLienThong){var r=[];e.dossierTemplateItems.forEach((function(t){var a=e.dossierFilesItems.find((function(e){return t.partNo===e.dossierPartNo&&(2===t.partType||7===t.partType)}));a&&r.push(t)})),e.dossierTemplateItems=r}e.changeStateViewResult(),setTimeout((function(t){e.genAllAlpacaForm(o,s),e.recountFileTemplates()}),500);var l=[];for(var c in e.dossierTemplateLienThong=[],e.dossierTemplateItems)e.dossierTemplateItems[c]["fileTemplateNo"]&&l.push(e.dossierTemplateItems[c]["fileTemplateNo"]),e.tempLienThong&&e.dossierTemplateItems[c]["hasTemplateLienThong"]&&e.dossierTemplateLienThong.push(e.dossierTemplateItems[c]["partNo"]);e.$store.commit("setDossierTemplateLienThong",e.dossierTemplateLienThong),e.khoTaiLieuCongDan&&e.getDossierFileApplicants(e.applicantId,e.fileTemplateNoString),l.length>0&&!e.khoTaiLieuCongDan&&(e.fileTemplateNoString=l.toString(),!e.applicantId||e.onlyView||e.khoTaiLieuCongDan||e.getDossierFileApplicants(e.applicantId,e.fileTemplateNoString)),setTimeout((function(){try{if(e.expandEform&&""===e.currentFormView){var t=e.dossierTemplateItemsFilter.filter((function(t){return"TP01"===t.partNo}))[0];e.loadAlpcaFormClick(t)}}catch(a){}}),1e3)})).catch((function(t){}))},genAllAlpacaForm:function(t,e){var a=this;if(t.length>0&&t.filter((function(t){return t.eForm&&t.size})).length>0){var i=t.filter((function(t){return t.eForm})),o=e.filter((function(t){return t.hasForm&&a.partTypes.includes(t.partType)}));i.length>0||e.forEach((function(t){t.hasForm&&a.partTypes.includes(t.partType)&&(t["templateFileNo"]=a.thongTinHoSo.dossierTemplateNo,a.showAlpacaJSFORM(t))})),o.length!==i.length&&o.forEach((function(t){var e=i.findIndex((function(e){return t.partNo===e.dossierPartNo}));-1===e&&(t["templateFileNo"]=a.thongTinHoSo.dossierTemplateNo,a.showAlpacaJSFORM(t))}))}else e.forEach((function(t){t.hasForm&&a.partTypes.includes(t.partType)&&(t["templateFileNo"]=a.thongTinHoSo.dossierTemplateNo,a.showAlpacaJSFORM(t))}))},postDossierMark:function(t,e){var a=this;t["dossierId"]=a.thongTinHoSo.dossierId,a.$store.dispatch("postDossierMark",t).then((function(t){})).catch((function(t){}))},mergeDossierTemplateVsDossierFiles:function(t,e){var a=this;return 0!==e.length?t.forEach((function(t){t["editForm"]=!0,t["daKhai"]=!1,t["passRequired"]=!1,e.forEach((function(e){t.partNo===e.dossierPartNo&&(t["passRequired"]=!0)}));var i=e.find((function(e){return t.partNo===e.dossierPartNo&&a.partTypes.includes(t.partType)&&e.eForm&&!e.removed&&0!==e.fileSize})),o=e.find((function(e){return t.partNo===e.dossierPartNo&&a.partTypes.includes(t.partType)&&!e.eForm&&!e.removed&&0!==e.fileSize}));i?(t["daKhai"]=!0,t["hasForm"]=!0,t["referenceUid"]=i["referenceUid"]):a.requiredEform?o&&(t["hasForm"]&&t["multiple"]||!t["hasForm"])?t["passRequired"]=!0:t["passRequired"]=!1:t["passRequired"]=!!o})):t.forEach((function(t){t.hasForm&&(t["daKhai"]=!1,t["passRequired"]=!1,t["editForm"]=!0)})),t},mergeDossierTemplateVsDossierMark:function(t,e){return 0!==e.length?t.map((function(t){t["count"]=0,t["stateEditFileCheck"]=!1;var a=e.find((function(e){return e.dossierPartNo===t.partNo}));return null!==a&&void 0!==a?(t["fileMark"]=a.fileMark,t["fileComment"]=a.fileComment,t["fileCheck"]=a.fileCheck,t["recordCount"]=a.recordCount,t["fileMarkDefault"]=a.fileMark,t["hasTemplate"]="0"!==String(a.fileMark)||2===t.partType,t["hasTemplate"]&&!t["recordCount"]?t["recordCount"]=1:t["hasTemplate"]||(t["recordCount"]=0),t["hasTemplateLienThong"]=t["hasTemplate"]):(t["fileMark"]=0,t["fileComment"]="",t["fileCheck"]=0,t["recordCount"]=0,t["hasTemplate"]=!1,t["hasTemplateLienThong"]=t["hasTemplate"]),t})):t&&t.forEach((function(t){t["stateEditFileCheck"]=!1,t["count"]=0,t["fileMark"]=0,t["fileComment"]="",t["fileCheck"]=0,t["stateEditFileCheck"]=!1})),t},mergeDossierTemplateVsFileTemplates:function(t,e){return 0!==e.length?t.map((function(t){var a=e.find((function(e){return e.fileTemplateNo===t.fileTemplateNo}));return t["hasFileTemp"]=null!==a&&void 0!==a?a.fileTemplateNo:"",t})):t&&t.forEach((function(t){t["hasFileTemp"]=""})),t},showAlpacaJSFORM:function showAlpacaJSFORM(item,isPending){var vm=this;item["dossierId"]=vm.thongTinHoSo.dossierId,item["editForm"]=!0,vm.$store.dispatch("loadFormScript",item).then((function(resScript){var eformScript="";try{eformScript=eval("("+resScript+")")}catch(error){}if(eformScript&&eformScript.hasOwnProperty("eformEmbed")&&eformScript.eformEmbed){item.embed=!0;var deliverableType=item.deliverableType?item.deliverableType:"",paramsEmbed={userId:window.themeDisplay.getUserId(),userEmail:1===vm.originality?vm.userLoginInfomation.applicantContactEmail:vm.userLoginInfomation.employeeEmail,referenceUid:vm.thongTinHoSo.referenceUid,code:vm.thongTinHoSo.referenceUid,dossierStatus:vm.thongTinHoSo.dossierStatus,dossierSubStatus:vm.thongTinHoSo.dossierSubStatus,tp:item.partNo,token:localStorage.getItem("jwt_token"),dossierNo:vm.thongTinHoSo.dossierNo,submitDate:vm.thongTinHoSo.submitDate,govAgencyCode:vm.thongTinHoSo.govAgencyCode,govAgencyName:vm.thongTinHoSo.govAgencyName,dossierTemplateNo:vm.thongTinHoSo.dossierTemplateNo,dossierId:vm.thongTinHoSo.dossierId};""!==vm.thongTinHoSo.dossierStatus&&"new"!==vm.thongTinHoSo.dossierStatus||(paramsEmbed=Object.assign(paramsEmbed,{applicantIdNo:vm.thongTinChuHoSo["applicantIdNo"],applicantName:vm.thongTinChuHoSo["applicantName"],address:vm.thongTinChuHoSo["address"],cityCode:vm.thongTinChuHoSo["cityCode"],cityName:vm.thongTinChuHoSo["cityName"],districtCode:vm.thongTinChuHoSo["districtCode"],districtName:vm.thongTinChuHoSo["districtName"],wardCode:vm.thongTinChuHoSo["wardCode"],wardName:vm.thongTinChuHoSo["wardName"],contactEmail:vm.thongTinChuHoSo["contactEmail"],contactTelNo:vm.thongTinChuHoSo["contactTelNo"],userType:"1"==vm.thongTinChuHoSo["userType"]?"citizen":"business"})),vm.onlyView&&(paramsEmbed["view_mode"]="view");var fileTemplateNoEmbed=item.fileTemplateNo;eformScript&&eformScript.hasOwnProperty("formCode")&&eformScript.formCode&&(fileTemplateNoEmbed=eformScript.formCode);var urlEmbed=eformScript.eformEmbed+"/"+fileTemplateNoEmbed+"___"+deliverableType+"?originURL="+encodeURIComponent(document.location.origin);for(var key in paramsEmbed)urlEmbed+="&"+key+"="+paramsEmbed[key];setTimeout((function(){document.getElementById("formAlpaca"+item.partNo+vm.id).src="",setTimeout((function(){document.getElementById("formAlpaca"+item.partNo+vm.id).src=urlEmbed}),50)}),300)}else item.embed=!1,vm.$store.dispatch("loadFormData",item).then((function(resData){var formScript,formData;isPending&&(resData=item.formData),window.$('div[id="formAlpaca'+item.partNo+vm.id+'"]').empty(),formScript=resScript?eval("("+resScript+")"):{},resData?(formData=eval("("+resData+")"),item["loaded"]=!0):formData={},formData.templateNo_hidden=item.partNo,formData.dossierId_hidden=vm.thongTinHoSo.dossierId,formData.dossierStatus_hidden=vm.thongTinHoSo.dossierStatus,formData.dossierSubStatus_hidden=vm.thongTinHoSo.dossierSubStatus,formData.fileTemplateNo_hidden=item.fileTemplateNo,formData.deliverableType_hidden=item.deliverableType?item.deliverableType:"",formData.userEmailAddress_hidden=1===vm.originality?vm.userLoginInfomation.applicantContactEmail:vm.userLoginInfomation.employeeEmail,formData.referenceUid=vm.thongTinHoSo.referenceUid,formScript.data=formData,window.$('div[id="formAlpaca'+item.partNo+vm.id+'"]').alpaca(formScript)}))}))},saveAlpacaForm:function(t,e){var a=this,i=a.dossierFilesItems.find((function(e){return e.dossierPartNo===t.partNo&&e.eForm}));i?(i["dossierId"]=a.thongTinHoSo.dossierId,i["id"]=a.id,a.loadingApacal=!0,a.$store.dispatch("putAlpacaForm",i).then((function(t){setTimeout((function(){a.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Thực hiện thành công"),a.loadFiles()}),3e3),a.dossierTemplateItemsFilter[e]["passRequired"]=!0})).catch((function(t){a.loadingApacal=!1}))):(t["dossierId"]=a.thongTinHoSo.dossierId,t["id"]=a.id,a.loadingApacal=!0,a.$store.dispatch("postEform",t).then((function(t){setTimeout((function(){a.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Thực hiện thành công"),a.dossierTemplateItemsFilter[e].daKhai=!0,a.loadFiles()}),3e3),a.dossierTemplateItemsFilter[e]["passRequired"]=!0})).catch((function(t){a.loadingApacal=!1})))},saveAlpacaFormCallBack:function(t){var e=this,a="";try{a=t.data?JSON.parse(t.data):""}catch(o){a=""}if(a&&a.hasOwnProperty("tp")&&a.tp){var i=e.dossierFilesItems.find((function(t){return t.dossierPartNo===a.tp&&t.eForm}));if(e.loadingApacal)return;i?(i["dossierId"]=e.thongTinHoSo.dossierId,i["id"]=e.id,i["formData"]=a,e.loadingApacal=!0,e.$store.dispatch("putAlpacaFormCallBack",i).then((function(t){var i=e.dossierTemplateItemsFilter.findIndex((function(t){return t.partNo===a.tp}));e.dossierTemplateItemsFilter[i]["passRequired"]=!0,setTimeout((function(){e.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Thực hiện thành công"),e.dossierTemplateItemsFilter[i].daKhai=!0,e.showAlpacaJSFORM(e.dossierTemplateItemsFilter[i]),e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then((function(t){e.dossierFilesItems=t})).catch((function(t){}))}),1e3)})).catch((function(t){e.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại")}))):(a["dossierId"]=e.thongTinHoSo.dossierId,a["id"]=e.id,e.loadingApacal=!0,e.$store.dispatch("postEformCallBack",a).then((function(t){var i=e.dossierTemplateItemsFilter.findIndex((function(t){return t.partNo===a.tp}));setTimeout((function(){e.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Thực hiện thành công"),e.dossierTemplateItemsFilter[i].daKhai=!0,e.showAlpacaJSFORM(e.dossierTemplateItemsFilter[i]),e.dossierTemplateItemsFilter[i]["passRequired"]=!0,e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then((function(t){e.dossierFilesItems=t})).catch((function(t){}))}),1e3)})).catch((function(t){e.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))}},onDeleteAttackFiles:function(t){var e=this,a=confirm("Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?");a&&e.dossierTemplateItemsFilter.forEach((function(a){a.dossierPartNo===t.partNo&&(a["dossierId"]=e.thongTinHoSo.dossierId,e.$store.dispatch("deleteAttackFiles",a).then((function(a){e.resetCounterTemplate(t),e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId)})).catch((function(t){})))}))},changeApplicantNote:function(){var t=this;t.$store.commit("setApplicantNote",t.applicantNoteDossier)},pickFile:function(t){var e=this;e.stateAddFileOther=!1,document.getElementById("file"+t.partNo).value="",document.getElementById("file"+t.partNo).click()},onUploadSingleFile:function(t,e,a){var i=this;if(i.dossierTemplatesItemSelect=e,i.progressUploadPart=e.partNo,e["dossierId"]=i.thongTinHoSo.dossierId,e["dossierTemplateNo"]=i.thongTinHoSo.dossierTemplateNo,3!==e.partType)i.$store.dispatch("uploadSingleFile",e).then((function(t){i.progressUploadPart="",i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then((function(t){i.dossierFilesItems=t,i.recountFileTemplates()})),i.dossierTemplateItemsFilter[a]["hasForm"]&&i.requiredEform&&!i.dossierTemplateItemsFilter[a]["multiple"]||(i.dossierTemplateItemsFilter[a]["passRequired"]=!0)})).catch((function(t){i.progressUploadPart="",i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then((function(t){i.dossierFilesItems=t,i.recountFileTemplates()})),i.dossierTemplateItemsFilter[a]["hasForm"]&&i.requiredEform&&!i.dossierTemplateItemsFilter[a]["multiple"]||t.length>0&&(i.dossierTemplateItemsFilter[a]["passRequired"]=!0)}));else{if(0===window.$('input[id="file'+e.partNo+'"]')[0].files.length)return void(i.progressUploadPart="");i.partView=e.partNo,i.stateView=!0,i.dialogAddOtherTemp=!0}},kySoPdfUrlSavis:function(t,e){var a=this;a.fileKySo=t,a.indexFileSelect=e,a.signSavisPdfUrl=t,a.dialogSignDigital=!1,document.getElementById("fileAnhChuKySavis").value="",a.dialogSelectAnhChuKySo=!0},pickFileSavis:function(t){var e=this;e.signSavisPdfUrl=!1,e.stateAddFileOther=!1,document.getElementById("fileSavis"+t.partNo).value="",document.getElementById("fileSavis"+t.partNo).click()},changeFileSavis:function(t,e,a){var i=this;if(i.dossierTemplatesItemSelect=e,e["dossierId"]=i.thongTinHoSo.dossierId,e["dossierTemplateNo"]=i.thongTinHoSo.dossierTemplateNo,3!==e.partType){var o=jquery__WEBPACK_IMPORTED_MODULE_0___default()('input[id="fileSavis'+e.partNo+'"]')[0].files,n=o[0],s=n["name"];n["name"]&&(s=n["name"].replace(/\%/g,""),s=s.replace(/\//g,""),s=s.replace(/\\/g,""));var r=n.type;i.fileKySoSavis={file:n,fileName:s,fileType:r},"application/pdf"==r?(document.getElementById("fileAnhChuKySavis").value="",i.dialogSelectAnhChuKySo=!0):i.getCertSavis()}else{if(0===window.$('input[id="fileSavis'+e.partNo+'"]')[0].files.length)return void(i.progressUploadPart="");i.partView=e.partNo,i.stateView=!0,i.dialogAddOtherTemp=!0}},selectAnhHienThiKySo:function(){document.getElementById("fileAnhChuKySavis").click()},changeFileAnhChuKySavis:function(){var t=this,e=jquery__WEBPACK_IMPORTED_MODULE_0___default()('input[id="fileAnhChuKySavis"]')[0].files,a=e[0],i=a["name"];a["name"]&&(i=a["name"].replace(/\%/g,""),i=i.replace(/\//g,""),i=i.replace(/\\/g,"")),t.fileImageSignPdf={file:a,fileName:i},t.hasAnhChuKySo=!0,t.dialogSelectAnhChuKySo=!1,t.getCertSavis()},getCertSavis:function(){var t=this,e={headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},a="http://127.0.0.1:14423/api/v1/certs";t.mssProcessingSavis="Đang lấy danh sách chứng thư số",t.processingSavis=!0,axios__WEBPACK_IMPORTED_MODULE_1___default.a.get(a,e).then((function(e){t.processingSavis=!1;try{t.listCaSavis=e.data.data.filter((function(t){return null!=t.crlDistributionPoint}))}catch(a){t.listCaSavis=[]}t.listCaSavis&&t.listCaSavis.length?t.dialogSelectCa=!0:(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Không có chứng thư số. Vui lòng cắm token ký số"),t.processingSavis=!1)})).catch((function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Lấy chứng thư số không thành công"),t.dialogTaiSavis=!0,t.processingSavis=!1}))},cancelFileAnhChuKySavis:function(){var t=this;t.hasAnhChuKySo=!1,t.dialogSelectAnhChuKySo=!1,t.getCertSavis()},submitSignSavis:function(t){var e=this;e.signSavisPdfUrl?e.kySavisUrlPdf(t):e.kySavisUploadPdf(t)},kySavisUrlPdf:function(t){var e=this,a=window.location.origin+"/o/rest/v2/dossiers/"+e.thongTinHoSo["dossierId"]+"/files/"+e.signSavisPdfUrl["referenceUid"]+"/preview.pdf",i={headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},o=new FormData,n="http://127.0.0.1:14423/api/v1/sign/pdf";if(o.append("serial",t.serial),o.append("file",""),o.append("fileUrl",a),o.append("isVisible",!0),o.append("page","1"),o.append("llx","150"),o.append("lly","792"),o.append("urx","0"),o.append("ury","750"),o.append("detectString",""),o.append("detail","1,6"),o.append("reason",""),o.append("location",""),o.append("contactInfo",""),e.hasAnhChuKySo)o.append("image",e.fileImageSignPdf.file,e.fileImageSignPdf.fileName);else{var s=new File([new Blob(["/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAQDAwQDAwQEAwQFBAQFBgoHBgYGBg0JCggKDw0QEA8NDw4RExgUERIXEg4PFRwVFxkZGxsbEBQdHx0aHxgaGxr/2wBDAQQFBQYFBgwHBwwaEQ8RGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhr/wAARCABkAGQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAj/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AL+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB//Z"])],"fileAnh");o.append("image",s,"fileAnh")}e.dialogSelectCa=!1,e.mssProcessingSavis="Đang thực hiện ký số",e.processingSavis=!0,axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(n,o,i).then((function(t){var a="";if(200==t.data.code){a=t.data.data;var i={headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:""}},o=new URLSearchParams;o.append("fileName",e.signSavisPdfUrl.hasOwnProperty("eForm")&&e.signSavisPdfUrl.eForm?"TaiLieuKhaiTrucTuyen.pdf":e.signSavisPdfUrl.displayName),o.append("fileBase64",a),o.append("dossierFileId",e.signSavisPdfUrl.dossierFileId);var n="/o/rest/v2/signature/"+e.thongTinHoSo.dossierId+"/savis";axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(n,o,i).then((function(t){var a=t.data.signFileName,i={headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:""}},o=new URLSearchParams;o.append("signFileName",a),o.append("dossierPartNo",e.dossierTemplatesItemSelect.partNo),o.append("dossierTemplateNo",e.thongTinHoSo.dossierTemplateNo),o.append("dossierFileId",e.signSavisPdfUrl.dossierFileId);var n="/o/rest/v2/defaultsignature/"+e.thongTinHoSo.dossierId+"/savis/fileupload";axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(n,o,i).then((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Ký số thành công"),e.progressUploadPart="",e.processingSavis=!1,e.updateSignCheck(e.fileKySo.dossierFileId)})).catch((function(t){e.progressUploadPart="",toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Ký số thất bại"),e.processingSavis=!1}))})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Ký số thất bại"),e.processingSavis=!1}))}else toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Ký số thất bại"),e.processingSavis=!1})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Ký số thất bại"),e.processingSavis=!1}))},kySavisUploadPdf:function(t){var e=this,a={headers:{Accept:"application/json","Content-Type":"multipart/form-data; boundary=<calculated when request is sent>"}},i=new FormData,o="";if(i.append("serial",t.serial),"application/pdf"==e.fileKySoSavis.fileType)if(o="http://127.0.0.1:14423/api/v1/sign/pdf",i.append("file",e.fileKySoSavis.file,e.fileKySoSavis.fileName),i.append("fileUrl",""),i.append("isVisible",!0),i.append("page","1"),i.append("llx","150"),i.append("lly","792"),i.append("urx","0"),i.append("ury","750"),i.append("detectString",""),i.append("detail","1,6"),i.append("reason",""),i.append("location",""),i.append("contactInfo",""),e.hasAnhChuKySo)i.append("image",e.fileImageSignPdf.file,e.fileImageSignPdf.fileName);else{var n=new File([new Blob(["/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAQDAwQDAwQEAwQFBAQFBgoHBgYGBg0JCggKDw0QEA8NDw4RExgUERIXEg4PFRwVFxkZGxsbEBQdHx0aHxgaGxr/2wBDAQQFBQYFBgwHBwwaEQ8RGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhr/wAARCABkAGQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAj/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AL+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB//Z"])],"fileAnh");i.append("image",n,"fileAnh")}else o="http://127.0.0.1:14423/api/v1/sign/binary",i.append("file",e.fileKySoSavis.file,e.fileKySoSavis.fileName),i.append("fileUrl","");e.dialogSelectCa=!1,e.mssProcessingSavis="Đang thực hiện ký số",e.processingSavis=!0,axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(o,i,a).then((function(t){var a="";if(200==t.data.code){a=t.data.data;var i={headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:""}},o=new URLSearchParams;o.append("fileName",e.fileKySoSavis.fileName),o.append("fileBase64",a);var n="/o/rest/v2/signature/"+e.thongTinHoSo.dossierId+"/savis";axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(n,o,i).then((function(t){var a=t.data.signFileName,i={headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:""}},o=new URLSearchParams;o.append("signFileName",a),o.append("dossierPartNo",e.dossierTemplatesItemSelect.partNo),o.append("dossierTemplateNo",e.thongTinHoSo.dossierTemplateNo);var n="/o/rest/v2/defaultsignature/"+e.thongTinHoSo.dossierId+"/savis/fileupload";axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(n,o,i).then((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Tải lên và ký số thành công"),e.progressUploadPart="",e.processingSavis=!1;try{e.updateSignCheck(t.data.dossierFileId)}catch(a){}})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Ký số thất bại"),e.processingSavis=!1}))})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Ký số thất bại"),e.processingSavis=!1}))}else toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Ký số thất bại"),e.progressUploadPart="",e.processingSavis=!1})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Ký số thất bại"),e.progressUploadPart="",e.processingSavis=!1}))},loadAlpcaForm:function(t){var e=this,a=e.dossierFilesItems.find((function(e){return e.dossierPartNo===t.partNo&&e.eForm}));a?(a["id"]=e.id,e.$store.dispatch("loadAlpcaForm",a)):e.dossierTemplateItemsFilter.forEach((function(a){a.hasForm&&t.partNo===a.partNo&&(a["templateFileNo"]=e.thongTinHoSo.dossierTemplateNo,e.showAlpacaJSFORM(a))}))},loadAlpcaFormClick:function(t,e){var a=this;window.removeEventListener("message",a.receiveMessage),window.addEventListener("message",a.receiveMessage),a.currentFormView==="formAlpaca"+t.partNo+a.id?a.currentFormView="":a.currentFormView="formAlpaca"+t.partNo+a.id,a.pstEl=a.endEl=0,setTimeout((function(){window.$('div[id="formAlpaca'+t.partNo+a.id+'"]').height()>200&&(a.pstEl=window.$('div[id="wrapForm'+t.partNo+a.id+'"]').offset().top,a.endEl=window.$('div[id="formAlpaca'+t.partNo+a.id+'"]').height(),jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).scroll((function(){a.pstFixed=jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).scrollTop()})))}),500);var i=a.dossierFilesItems.find((function(e){return e.dossierPartNo===t.partNo&&e.eForm}));i&&!e?i.fileSize?(i["id"]=a.id,t["editForm"]=!1,a.$store.dispatch("viewFile",i).then((function(t){document.getElementById("displayPDF"+i.dossierPartNo+a.id).src=t}))):(t["editForm"]=!1,t.formData=i.formData,t["editForm"]=!0,t["templateFileNo"]=a.thongTinHoSo.dossierTemplateNo,a.showAlpacaJSFORM(t,!0)):a.dossierTemplateItemsFilter.forEach((function(e){e.hasForm&&t.partNo===e.partNo&&(e["templateFileNo"]=a.thongTinHoSo.dossierTemplateNo,a.showAlpacaJSFORM(e))}))},editFormAlpaca:function editFormAlpaca(item){var vm=this;item["editForm"]=!0;var fileFind=vm.dossierFilesItems.find((function(t){return t.dossierPartNo===item.partNo&&t.eForm})),eformScript=eval("("+fileFind.formScript+")");if(eformScript&&eformScript.hasOwnProperty("eformEmbed")&&eformScript.eformEmbed){item.embed=!0;var deliverableType=item.deliverableType?item.deliverableType:"",paramsEmbed={userId:window.themeDisplay.getUserId(),userEmail:1===vm.originality?vm.userLoginInfomation.applicantContactEmail:vm.userLoginInfomation.employeeEmail,referenceUid:vm.thongTinHoSo.referenceUid,code:vm.thongTinHoSo.referenceUid,dossierStatus:vm.thongTinHoSo.dossierStatus,dossierSubStatus:vm.thongTinHoSo.dossierSubStatus,tp:item.partNo,token:localStorage.getItem("jwt_token"),dossierNo:vm.thongTinHoSo.dossierNo,submitDate:vm.thongTinHoSo.submitDate,govAgencyCode:vm.thongTinHoSo.govAgencyCode,govAgencyName:vm.thongTinHoSo.govAgencyName,dossierTemplateNo:vm.thongTinHoSo.dossierTemplateNo,dossierId:vm.thongTinHoSo.dossierId};""!==vm.thongTinHoSo.dossierStatus&&"new"!==vm.thongTinHoSo.dossierStatus||(paramsEmbed=Object.assign(paramsEmbed,{applicantIdNo:vm.thongTinChuHoSo["applicantIdNo"],applicantName:vm.thongTinChuHoSo["applicantName"],address:vm.thongTinChuHoSo["address"],cityCode:vm.thongTinChuHoSo["cityCode"],cityName:vm.thongTinChuHoSo["cityName"],districtCode:vm.thongTinChuHoSo["districtCode"],districtName:vm.thongTinChuHoSo["districtName"],wardCode:vm.thongTinChuHoSo["wardCode"],wardName:vm.thongTinChuHoSo["wardName"],contactEmail:vm.thongTinChuHoSo["contactEmail"],contactTelNo:vm.thongTinChuHoSo["contactTelNo"],userType:"1"==vm.thongTinChuHoSo["userType"]?"citizen":"business"})),vm.onlyView&&(paramsEmbed["view_mode"]="view");var fileTemplateNoEmbed=item.fileTemplateNo;eformScript&&eformScript.hasOwnProperty("formCode")&&eformScript.formCode&&(fileTemplateNoEmbed=eformScript.formCode);var urlEmbed=eformScript.eformEmbed+"/"+fileTemplateNoEmbed+"___"+deliverableType+"?originURL="+encodeURIComponent(document.location.origin);for(var key in paramsEmbed)urlEmbed+="&"+key+"="+paramsEmbed[key];setTimeout((function(){document.getElementById("formAlpaca"+item.partNo+vm.id).src=urlEmbed}),300)}else item.embed=!1,setTimeout((function(){var t=vm.dossierFilesItems.find((function(t){return t.dossierPartNo===item.partNo&&t.eForm}));t["id"]=vm.id,vm.$store.dispatch("loadAlpcaForm",t)}),200)},exportDoc:function(t){var e=this,a=e.dossierFilesItems.find((function(e){return e.dossierPartNo==t.partNo&&e.eForm})),i={dossierId:e.thongTinHoSo.dossierId,referenceUid:a.referenceUid,document:t.partName};e.$store.dispatch("exportDoc",i).then((function(t){})).catch((function(){}))},deleteSingleFileEform:function(t,e){var a=this,i=confirm("Bạn có chắc chắn xóa file?");i&&a.dossierFilesItems.forEach((function(i){i.dossierPartNo===t.partNo&&i.eForm&&(i["dossierId"]=a.thongTinHoSo.dossierId,a.$store.dispatch("deleteDossierFile",i).then((function(i){a.dossierTemplateItemsFilter[e].daKhai=!1,a.$store.dispatch("loadDossierFiles",a.thongTinHoSo.dossierId).then((function(i){if(a.dossierFilesItems=i,a.recountFileTemplates(),t["editForm"]=!0,setTimeout((function(){a.loadAlpcaForm(t)}),200),0!==a.dossierFilesItems.length){var o=a.dossierFilesItems.filter((function(e){return e.dossierPartNo===t.partNo}));a.dossierTemplateItemsFilter[e]["passRequired"]=!!o}else a.dossierTemplateItemsFilter[e]["passRequired"]=!1;a.dossierTemplateItemsFilter[e]["hasForm"]&&a.requiredEform&&!a.dossierTemplateItemsFilter[e]["multiple"]&&(a.dossierTemplateItemsFilter[e]["passRequired"]=!1)}))})))}))},previewFileEfom:function(t,e){var a=this;a.dossierFilesItems.forEach((function(e){e.dossierPartNo===t.partNo&&e.eForm&&!e.removed&&(e["dossierId"]=a.thongTinHoSo.dossierId,a.dialogPDFLoading=!0,a.dialogPDF=!0,a.onlyView?a.$store.dispatch("viewFile",e).then((function(t){a.dialogPDFLoading=!1,e["eForm"]?a.pdfEform=!0:a.pdfEform=!1,document.getElementById("dialogPDFPreview"+a.id).src=t})):(e["id"]=a.id,a.$store.dispatch("putAlpacaForm",e).then((function(t){setTimeout((function(){a.$store.dispatch("viewFile",e).then((function(t){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+a.id).src=t}))}),1e3)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))))}))},previewFormAlpaca:function previewFormAlpaca(item,index){var vm=this;vm.dossierFilesItems.forEach((function(file){if(file.dossierPartNo===item.partNo&&file.eForm&&!file.removed)if(file["dossierId"]=vm.thongTinHoSo.dossierId,vm.onlyView)item["editForm"]=!1,vm.$store.dispatch("viewFile",file).then((function(t){file["eForm"]?vm.pdfEform=!0:vm.pdfEform=!1,document.getElementById("displayPDF"+item.dossierPartNo+vm.id).src=t}));else{var eformScript=eval("("+file.formScript+")");eformScript&&eformScript.hasOwnProperty("eformEmbed")&&eformScript.eformEmbed?(item["editForm"]=!1,setTimeout((function(){vm.$store.dispatch("viewFile",file).then((function(t){document.getElementById("displayPDF"+file.dossierPartNo+vm.id).src=t}))}),500)):(file["id"]=vm.id,vm.$store.dispatch("putAlpacaForm",file).then((function(t){item["editForm"]=!1,setTimeout((function(){vm.$store.dispatch("viewFile",file).then((function(t){document.getElementById("displayPDF"+file.dossierPartNo+vm.id).src=t}))}),500)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))}}))},deleteSingleFile:function(t,e){var a=this,i=confirm("Bạn có chắc chắn xóa file đính kèm ?");i&&(t["dossierId"]=a.thongTinHoSo.dossierId,a.$store.dispatch("deleteDossierFile",t).then((function(i){a.fileViews.splice(e,1),a.partView=t.dossierPartNo,a.$store.dispatch("loadDossierFiles",a.thongTinHoSo.dossierId).then((function(e){a.dossierFilesItems=e,a.setDaKhai(t)}))})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))},downloadSingleFile:function(t){var e=this,a=t.hasOwnProperty("url")&&t.url&&0==t.url.indexOf("{urlKhoSoHoa}/");if(a){var i={id:t.url.split("/").pop()};e.$store.dispatch("getTepDuLieu",i).then((function(t){e.srcDownload=t,setTimeout((function(){document.getElementById("downloadFileKho").click()}),100)})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tải xuống không thành công")}))}else{var o=e.initDataResource.dossierApi+"/"+e.thongTinHoSo.dossierId+"/files/"+t.referenceUid;window.location.assign(o)}},viewFile:function(t){var e=this,a=this;a.dossierFilesItems.forEach((function(i){i["dossierId"]=a.thongTinHoSo.dossierId,i.dossierPartNo===t.partNo&&e.$store.dispatch("viewFile",i)}))},viewFileAlpaca:function(t){var e=this,a=0;e.loadingApacal=!0;var i=function i(){setTimeout((function(){e.$store.dispatch("viewFile",t).then((function(o){"pending"===o&&a<=10?(a+=1,i()):a>10?e.loadingApacal=!1:(e.loadingApacal=!1,setTimeout((function(){document.getElementById("displayPDF"+t.dossierPartNo+e.id).src=o}),100))})).catch((function(){e.loadingApacal=!1}))}),1e3)};i()},setDaKhai:function(t){var e=this,a=e.dossierFilesItems.findIndex((function(e){return e.dossierPartNo===t.dossierPartNo}));if(-1===a){for(var i=0;i<e.dossierTemplateItemsFilter.length;i++)if(e.dossierTemplateItemsFilter[i].partNo===t.dossierPartNo){e.dossierTemplateItemsFilter[i]["passRequired"]=!1;break}}else for(i=0;i<e.dossierTemplateItemsFilter.length;i++)if(e.dossierTemplateItemsFilter[i].partNo===t.dossierPartNo){e.dossierTemplateItemsFilter[i]["passRequired"]=!0;break}},checkPartType3:function(){var t=this;if(0!==t.dossierTemplateItems.length)for(var e=0;e<t.dossierTemplateItems.length;e++)if(3===t.dossierTemplateItems[e].partType)return!0;return!1},viewFile2:function(t,e){var a=this,i=t.hasOwnProperty("url")&&t.url&&0==t.url.indexOf("{urlKhoSoHoa}/");if(i){a.dialogPDFLoading=!0;var o={id:t.url.split("/").pop()};a.$store.dispatch("getTepDuLieu",o).then((function(e){a.dialogPDFLoading=!1,a.dialogPDF=!0;var i=t.displayName.split(".")[1].toLowerCase();"png"===i||"jpg"===i||"jpeg"===i||"pdf"===i||"gif"===i||"tif"===i||"tiff"===i?document.getElementById("dialogPDFPreview"+a.id).src=e:(a.srcDownload=e,setTimeout((function(){document.getElementById("downloadFileKho").click()}),100))})).catch((function(){a.dialogPDFLoading=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tải xuống không thành công")}))}else{if(0===t.fileSize)return;if(t["eForm"]?a.pdfEform=!0:a.pdfEform=!1,"doc"===t.fileType||"docx"===t.fileType||"xlsx"===t.fileType||"xls"===t.fileType||"zip"===t.fileType||"rar"===t.fileType||"txt"===t.fileType||"mp3"===t.fileType||"mp4"===t.fileType){var n=a.initDataResource.dossierApi+"/"+a.thongTinHoSo.dossierId+"/files/"+t.referenceUid;window.location.assign(n)}else t["dossierId"]=a.thongTinHoSo.dossierId,t.referenceUid?(a.dialogPDFLoading=!0,a.dialogPDF=!0,a.dossierFilesItems[e].hasOwnProperty("pdfSigned")&&a.dossierFilesItems[e]["pdfSigned"]?(a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+a.id).src=a.dossierFilesItems[e]["pdfSigned"]):a.$store.dispatch("viewFile",t).then((function(t){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+a.id).src=t}))):(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("File dữ liệu không tồn tại"))}},attachToDossier:function(t,e){var a=this;t["dossierId"]=a.thongTinHoSo.dossierId,3!==t.partType&&(a.progressUploadPart=t.dossierFileId,a.$store.dispatch("copyFile",t).then((function(t){a.progressUploadPart="",a.dossierTemplateItemsFilter[e]["passRequired"]=!0,a.$store.dispatch("loadDossierFiles",a.thongTinHoSo.dossierId).then((function(t){a.dossierFilesItems=t,a.recountFileTemplates()}))})).catch((function(t){a.progressUploadPart="",toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Đính kèm tài liệu thất bại")})))},viewGiayToDaNop:function(t){var e=this;if(0!==t.fileSize)if(t["eForm"]?e.pdfEform=!0:e.pdfEform=!1,"doc"===t.fileType||"docx"===t.fileType||"xlsx"===t.fileType||"xls"===t.fileType||"zip"===t.fileType||"rar"===t.fileType||"txt"===t.fileType||"mp3"===t.fileType||"mp4"===t.fileType){var a=e.initDataResource.dossierApi+"/"+t.dossierId+"/files/"+t.referenceUid;window.location.assign(a)}else t.referenceUid?(e.dialogPDFLoading=!0,e.dialogPDF=!0,e.$store.dispatch("viewFile",t).then((function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+e.id).src=t}))):(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("File dữ liệu không tồn tại"))},viewFileWithPartNo:function(t){var e=this;if(e.dossierFilesItems){var a=e.dossierFilesItems.filter((function(e){return e.dossierPartNo===t.partNo&&!e.eForm}));if(!a)return;e.fileViews=a,e.partView!==t.partNo?(e.stateView=!0,e.partView=t.partNo):(e.stateView=!e.stateView,e.partView=t.partNo)}},saveMark:function(){var t=this;t.onlyView||t.thongTinHoSo["dossierStatus"]||t.dossierTemplateItemsFilter&&t.dossierTemplateItemsFilter.forEach((function(e,a){1===e.partType&&e.fileMark&&!e.recordCountDefault&&(e["dossierId"]=t.thongTinHoSo.dossierId,t.$store.dispatch("postDossierMark",e))}))},changeFileMark:function(t,e){var a=this;if(!a.onlyView){var i=a.dossierTemplateItemsFilter[e];i["dossierId"]=a.thongTinHoSo.dossierId,i["fileMark"]=t,i["checkInput"]=a.checkInput,a.$store.dispatch("postDossierMark",i),a.dossierTemplateItemsFilter[e].fileMark=t,a.dossierTemplateItemsFilter[e].hasTemplate="0"!==String(a.dossierTemplateItemsFilter[e].fileMark),0===t&&(a.dossierTemplateItemsFilter[e].recordCount=0)}},changeHasTemplate:function(t,e){var a=this;e["dossierId"]=a.thongTinHoSo.dossierId,setTimeout((function(){e["hasTemplate"]?(e.fileMark=e.fileMarkDefault?e.fileMarkDefault:3,e.recordCount=1):(e.fileMark=0,e.recordCount=0),a.$store.dispatch("postDossierMark",e)}),100)},changeHasTemplateLienThong:function(t,e){var a=this;setTimeout((function(){if(e["hasTemplateLienThong"])a.dossierTemplateLienThong.push(e.partNo),a.$store.commit("setDossierTemplateLienThong",a.dossierTemplateLienThong);else{var t=a.dossierTemplateLienThong.filter((function(t){return t!==e.partNo}));a.dossierTemplateLienThong=t,a.$store.commit("setDossierTemplateLienThong",a.dossierTemplateLienThong)}}),100)},changeFileCheck:function(t,e){var a=this,i=a.dossierTemplateItemsFilter[e];i["dossierId"]=a.thongTinHoSo.dossierId,i["fileCheck"]=t,i["checkInput"]=a.checkInput,2!==t?(i["fileComment"]="",a.$store.dispatch("postDossierMark",i),a.dossierTemplateItemsFilter[e].fileCheck=t):i["stateEditFileCheck"]=!0},changeFileComment:function(t,e){var a=this;null!==t.fileComment&&void 0!==t.fileComment&&""!==t.fileComment&&(t["dossierId"]=a.thongTinHoSo.dossierId,t["fileComment"]=t.fileComment,t["checkInput"]=a.checkInput,t["stateEditFileCheck"]=!t["stateEditFileCheck"],a.$store.dispatch("postDossierMark",t),a.dossierTemplateItemsFilter[e].fileComment=t.fileComment)},checkStyle:function(t){var e=this;if(1===e.checkInput)return"calc(100% - 140px)";var a=0;return 1===e.originality||1!==t.partType&&3!==t.partType||e.thongTinHoSo.online||1===e.checkInput||(e.onlyView?a+=140:a+=240),t.fileCheck>0&&!e.thongTinHoSo.online&&(a+=20),t.fileCheck>0&&e.thongTinHoSo.online&&(a+=40),e.onlyView||(a+=90),e.khoTaiLieuCongDan&&(a+=80),"calc(100% - "+a+"px)"},checkVisibleTemp:function(t,e){var a=this;if(!a.onlyView)return!0;if(3===t.partType){if(a.dossierFilesItems.length>0){var i=a.dossierFilesItems.findIndex((function(e){return e.dossierPartNo===t.partNo}));return-1!==i}return!1}return!0},changeStateViewResult:function(){var t=this;if(t.dossierFilesItems.length>0){var e=t.dossierFilesItems.findIndex((function(t){return 2===t.dossierPartType||7===t.dossierPartType}));-1!==e?t.$emit("tp:change-state-view-result",!0):t.$emit("tp:change-state-view-result",!1)}else(t.partTypes.includes(2)||t.partTypes.includes(7))&&t.$emit("tp:change-state-view-result",!1)},changeOtherDossierTemp:function(t){var e=this;if(3===e.originality&&e.stateAddFileOther)e.loadingAddOther=!0,e.$store.dispatch("uploadSingleOtherFile",{dossierId:e.thongTinHoSo.dossierId,displayName:t,partNo:e.dossierTemplatesItemSelect.partNo}).then((function(t){e.loadingAddOther=!1,e.dialogAddOtherTemp=!1,e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then((function(t){e.dossierFilesItems=t}))})).catch((function(t){e.loadingAddOther=!1}));else{var a=e.dossierTemplatesItemSelect;a["dossierId"]=e.thongTinHoSo.dossierId,a["displayName"]=t,a["dossierTemplateNo"]=e.thongTinHoSo.dossierTemplateNo,e.$store.dispatch("uploadSingleFile",a).then((function(t){e.progressUploadPart="",e.dialogAddOtherTemp=!1,e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then((function(t){if(e.dossierFilesItems=t,e.recountFileTemplates(),e.stateView&&e.dossierFilesItems){var a=e.dossierFilesItems.filter((function(t){return t.dossierPartNo===e.dossierTemplatesItemSelect.partNo&&!t.eForm}));a&&(e.fileViews=a)}}))})).catch((function(t){e.progressUploadPart=""}))}},downloadFileTemplate:function(t,e){var a=this;if(a.fileTemplateItems.length>0){var i=a.fileTemplateItems.find((function(e){return t.fileTemplateNo===e.fileTemplateNo}));if(i){var o=a.initDataResource.serviceInfoApi+"/"+a.serviceInfoId+"/filetemplates/"+i.fileTemplateNo;window.location.assign(o)}}},addOtherTemplate:function(){var t=this;t.$refs.form.validate()&&t.changeOtherDossierTemp(t.otherDossierTemplate)},editDisplayName:function(t,e){var a=this;a.dossierFileIdView!==t.dossierFileId?(a.dossierFileIdView=t.dossierFileId,a.stateEdit=!0):(a.dossierFileIdView=t.dossierFileId,a.stateEdit=!a.stateEdit)},cancelDialog:function(){var t=this;t.dialogAddOtherTemp=!1,t.progressUploadPart=""},addFileOther:function(t){var e=this;e.dialogAddOtherTemp=!0,e.stateAddFileOther=!0,e.dossierTemplatesItemSelect=t},validDossierTemplate:function(){var t=this;if(t.dossierTemplateItemsFilter.length>0){for(var e=0;e<t.dossierTemplateItemsFilter.length;e++)if(t.dossierTemplateItemsFilter[e]["required"]&&!t.dossierTemplateItemsFilter[e]["passRequired"]&&t.partTypes.includes(t.dossierTemplateItemsFilter[e].partType)){var a="Chú ý :"+t.dossierTemplateItemsFilter[e].partName+" là thành phần bắt buộc!";return toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error(a),!1}return!0}return!0},changeDisplayName:function(t,e){var a=this,i={dossierId:a.thongTinHoSo.dossierId,value:value};a.$store.dispatch("changeDisplayNameFile",i).then((function(t){a.fileViews[e].displayName=t.displayName,a.stateEdit=!1})).catch((function(t){}))},getDossierFileApplicants:function(t,e){var a=this,i={dossierId:a.thongTinHoSo.dossierId,applicantIdNo:t,fileTemplateNo:e,serverCode:a.thongTinHoSo.serverNo};t&&a.khoTaiLieuCongDan&&(a.khoTaiLieuTapTrung||(i["templateNo"]=a.thongTinHoSo.dossierTemplateNo,a.oneApp||3==a.originality?a.$store.dispatch("getDossierFilesApplicantsVer2",i).then((function(t){a.dossierFilesApplicant=t})).catch((function(t){})):a.$store.dispatch("getDossierFilesApplicantsVer2Proxy",i).then((function(t){a.dossierFilesApplicant=t})).catch((function(t){}))))},showFilesApplicant:function(t){jquery__WEBPACK_IMPORTED_MODULE_0___default()("#fileApplicant-"+t).is(":visible")?jquery__WEBPACK_IMPORTED_MODULE_0___default()("#fileApplicant-"+t).hide():jquery__WEBPACK_IMPORTED_MODULE_0___default()("#fileApplicant-"+t).show()},checkKQhasFile:function(t){var e=this;if(e.partTypes.includes(2)){var a=e.dossierFilesItems.find((function(e){return t.partNo===e.dossierPartNo}));return!!a}return!0},checkSoHoa:function(t){var e=this,a=e.dossierFilesApplicant.find((function(e){return e.partNo===t&&e.yeucausohoa}));return!!a},partNoApplicantHasFile:function(t){var e=this;try{var a=e.dossierFilesApplicant.find((function(e){return e.partNo===t}));if(a&&a.hasOwnProperty("applicantDataModels")&&a.applicantDataModels){var i=Array.isArray(a.applicantDataModels)?a.applicantDataModels:[a.applicantDataModels],o=i.find((function(t){return 1==t.status}));return!!o}return!1}catch(n){return!1}},changeRecordCount:function(t){var e=this;if(!e.onlyView){var a=function(){e.doChange[t]=setTimeout((function(){if(!e.onlyView&&Number(e.dossierTemplateItemsFilter[t]["recordCount"])>=0){var a=Object.assign({},e.dossierTemplateItemsFilter[t],{dossierId:e.thongTinHoSo.dossierId});e.$store.dispatch("postDossierMark",a)}}),1e3)};e.dossierTemplateItemsFilter[t].recordCount=e.dossierTemplateItemsFilter[t]["recordCount"]?e.dossierTemplateItemsFilter[t]["recordCount"]:"",clearTimeout(e.doChange[t]),a()}},increaseCounter:function(t){var e=this;function a(){e.doChange[t]=setTimeout((function(){if(!e.onlyView&&Number(e.dossierTemplateItemsFilter[t]["recordCount"])>=0){var a=Object.assign({},e.dossierTemplateItemsFilter[t],{dossierId:e.thongTinHoSo.dossierId});e.$store.dispatch("postDossierMark",a)}}),1e3)}e.dossierTemplateItemsFilter[t].recordCount=e.dossierTemplateItemsFilter[t]["recordCount"]?e.dossierTemplateItemsFilter[t]["recordCount"]:"",e.dossierTemplateItemsFilter[t]["recordCount"]=Number(e.dossierTemplateItemsFilter[t]["recordCount"])+1,clearTimeout(e.doChange[t]),a()},decreaseCounter:function(t){var e=this;function a(){e.doChange[t]=setTimeout((function(){if(!e.onlyView&&Number(e.dossierTemplateItemsFilter[t]["recordCount"])>=0){var a=Object.assign({},e.dossierTemplateItemsFilter[t],{dossierId:e.thongTinHoSo.dossierId});e.$store.dispatch("postDossierMark",a)}}),1e3)}e.dossierTemplateItemsFilter[t].recordCount=e.dossierTemplateItemsFilter[t]["recordCount"]?e.dossierTemplateItemsFilter[t]["recordCount"]:"",e.dossierTemplateItemsFilter[t]["recordCount"]=e.dossierTemplateItemsFilter[t]["recordCount"]?Number(e.dossierTemplateItemsFilter[t]["recordCount"])-1:e.dossierTemplateItemsFilter[t]["recordCount"],clearTimeout(e.doChange[t]),a()},attachFileFromStorage:function(t){var e=this,a=new URL(t.filePath),i={dossierId:e.thongTinHoSo.dossierId,dossierTemplateNo:e.thongTinHoSo.dossierTemplateNo,partNo:e.dossierPartAttach.partNo,filePath:a.pathname,fileName:t.fileName,fileType:t.fileExtension,fileEntryId:t.fileEntryId};3!==e.dossierPartAttach.partType&&e.$store.dispatch("copyFileFromStorage",i).then((function(t){e.dialog_documentApplicant=!1,e.dossierTemplateItemsFilter[e.indexPart]["passRequired"]=!0,e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then((function(t){e.dossierFilesItems=t,e.recountFileTemplates()}))})).catch((function(t){e.dialog_documentApplicant=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Đính kèm tài liệu thất bại")}))},attachFileFromStorageCentralized:function(t){var e=this,a=[];if(t.hasOwnProperty("TepDuLieu")&&t.TepDuLieu&&(a=t.TepDuLieu),a.length){var i=[];a.forEach((function(a){var o={dossierId:e.thongTinHoSo.dossierId,dossierTemplateNo:e.thongTinHoSo.dossierTemplateNo,partNo:e.dossierPartAttach.partNo,fileName:a.TenTep+"."+a.Ext,fileType:a.DinhDangTep,fileSize:a.KichThuocTep,fileTemplateNo:e.dossierPartAttach.fileTemplateNo,referenceUid:"{urlKhoSoHoa}/"+t.MaDinhDanh+"/"+a.MaDinhDanh};i.push(e.$store.dispatch("cloneFileFromStorageCentralized",o))})),Promise.all(i).then((function(t){e.dialog_documentApplicant=!1,e.dossierTemplateItemsFilter[e.indexPart]["passRequired"]=!0,e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then((function(t){e.dossierFilesItems=t,e.recountFileTemplates()}))})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Đính kèm tài liệu thất bại")}))}else toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Giấy tờ, tài liệu không có tệp")},getDocumentTypeIcon:function(t){var e=t.fileType;t.hasOwnProperty("url")&&t.url&&0==t.url.indexOf("{urlKhoSoHoa}/")&&(e=t.displayName.split(".")[1].toLowerCase());var a="doc,docx",i="xls,xlsx",o="png,jpg,jpeg";return e?a.indexOf(String(e).toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:i.indexOf(String(e).toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===String(e).toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:o.indexOf(String(e).toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}},showDocumentApplicant:function(t,e){var a=this;a.fileTemplateNoScope="",a.statusApplicantData=1,a.dossierPartAttach=t,a.indexPart=e,a.dialog_documentApplicant=!0,setTimeout((function(){a.$refs.khotailieu&&a.$refs.khotailieu.initData(),a.$refs.khotailieutaptrung&&a.$refs.khotailieutaptrung.initData()}),200)},cancelDialogKhoTaiLieu:function(){var t=this;t.khoTaiLieuTapTrung&&t.$refs.khotailieutaptrung.showDetail?t.$refs.khotailieutaptrung.showDetail=!1:t.dialog_documentApplicant=!1},guiYeuCauSoHoa:function(t,e){var a=this;a.progress_sohoa=!0;var i={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},o=new FormData,n="/o/rest/v2/applicantdatas";o.append("fileTemplateNo",t.fileTemplateNo),o.append("status",0),o.append("fileNo",""),o.append("fileName",t.partName),o.append("applicantIdNo",a.applicantId),o.append("file",""),o.append("applicantName",a.thongTinChuHoSo["applicantName"]?a.thongTinChuHoSo["applicantName"]:""),o.append("govAgencyName",a.thongTinHoSo.govAgencyName),o.append("serviceCode",a.thongTinHoSo["serviceCode"]),o.append("templateNo",t.fileTemplateNo),o.append("issueDate",""),o.append("expireDate",""),o.append("desciption",""),o.append("dossierNo",""),axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(n,o,i).then((function(t){a.progress_sohoa=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu số hóa đã được gửi")})).catch((function(t){a.progress_sohoa=!1}))},changeAllFileMark:function(t){var e=this;e.dossierTemplateItemsFilter&&(e.render=!1,e.dossierTemplateItemsFilter.forEach((function(a,i){e.dossierTemplateItemsFilter[i]["dossierId"]=e.thongTinHoSo.dossierId,t?(e.dossierTemplateItemsFilter[i].fileMark="0"===String(e.dossierTemplateItemsFilter[i].fileMarkDefault)?3:e.dossierTemplateItemsFilter[i].fileMarkDefault,e.dossierTemplateItemsFilter[i].recordCount=1,e.dossierTemplateItemsFilter[i].hasTemplate=!0):(e.dossierTemplateItemsFilter[i].fileMark=0,e.dossierTemplateItemsFilter[i].recordCount=0,e.dossierTemplateItemsFilter[i].hasTemplate=!1),e.$store.dispatch("postDossierMark",e.dossierTemplateItemsFilter[i])}))),e.render=!0},vgcaSignAction:function(t,e,a){var i=this;i.dialogSignDigital=!1;var o=function(e){var a=JSON.parse(e);if(0===a.Status){var o;try{o=JSON.parse(a.FileServer)}catch(s){}var n={dossierId:i.thongTinHoSo["dossierId"],fileEntries:o.fileEntryId,dossierFiles:t.dossierFileId};i.$store.dispatch("updateFileKySoPlugin",n).then((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Tài liệu đã được ký duyệt"),i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then((function(t){i.dossierFilesItems=t}))}))}else a.Message?(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error(a.Message)):(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Ký duyệt không thành công"))},n={};n["FileUploadHandler"]=window.themeDisplay.getPortalURL()+"/o/rest/v2/vgca/fileupload",n["SessionId"]="",n["FileName"]=window.themeDisplay.getPortalURL()+"/o/rest/v2/dossiers/"+i.thongTinHoSo["dossierId"]+"/files/"+t["referenceUid"]+"/preview.pdf";var s=JSON.stringify(n);"approved"===a?vgca_sign_approved(s,o):"issued"===a?vgca_sign_issued(s,o):"income"===a?vgca_sign_income(s,o):vgca_sign_copy(s,o)},showSelectDigitalSign:function(t,e){var a=this;if("pdf"===String(t.fileType).toLowerCase()){a.dialogSignDigital=!0,a.fileKySo=t,a.indexFileSelect=e;var i="citizen";try{i=JSON.parse(localStorage.getItem("userInfo"))["applicantType"]}catch(o){}a.typeUserMySign="citizen"===i?"CMT":"MST"}else toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Ký số chỉ áp dụng giấy tờ định dạng *.pdf")},loadFiles:function(){var t=this;t.loadingFile=!0,setTimeout((function(){t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId).then((function(e){t.loadingFile=!1,t.dossierFilesItems=e})).catch((function(e){t.loadingFile=!1}))}),100)},getHashStringFile:function(){var t=this;function e(){return a.apply(this,arguments)}function a(){return a=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){while(1)switch(t.prev=t.next){case 0:VtPluginSocket.getCert();case 1:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)}VtPluginSocket?VtPluginSocket.initPlugin():toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Máy chưa cài đặt Viettel-CA SignPlugin"),e().then((function(){t.fileKySo["certChain"]=certChainUserVtCa,t.fileKySo["dossierId"]=t.thongTinHoSo.dossierId,t.$store.dispatch("getHashStringFile",t.fileKySo).then((function(e){var a,i,o;try{a=e.base64Hash,i=e.fileName,o=e.fileEntryId}catch(s){}if(a){var n=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){while(1)switch(t.prev=t.next){case 0:VtPluginSocket.signHash(a,0);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n().then((function(){var e=signatureBase64VtCa,a={fileName:i,fileEntryId:o,signatureBase64:e};t.$store.dispatch("insertSignatureVtCa",a).then((function(e){var a={signedFileName:e["signedFileName"]?e["signedFileName"]:""};t.$store.dispatch("uploadSignatureVtCa",a).then((function(e){var a;try{a=JSON.parse(e.FileServer)}catch(s){}var i={fileEntryIdStr:a?a["fileEntryId"]:"",dossierFileIdStr:t.fileKySo.dossierFileId};t.$store.dispatch("updateSignatureVtCa",i).then((function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Thực hiện ký số thành công"),t.dialogSignDigital=!1,t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId).then((function(e){t.dossierFilesItems=e})).catch((function(t){}))})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Lỗi trong quá trình cập nhật tài liệu ký số")}))})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Lỗi trong quá trình cập nhật tài liệu ký số")}))})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Lỗi trong quá trình cập nhật tài liệu ký số")}))}))}else toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tải tài liệu ký số lên không thành công")})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tải tài liệu ký số lên không thành công")}))}))},signSimCa:function(t,e){var a=this;a.useSimPKI=!0,a.useMySignVT=!1,a.dialogSignDigital=!1,a.dialogInputMobile=!0},mySignViettel:function(t,e){var a=this;"pdf"===String(t.fileType).toLowerCase()?(a.fileKySo=t,a.indexFileSelect=e,a.useSimPKI=!1,a.useMySignVT=!0,a.dialogSignDigital=!1,a.dialogInputMobile=!0):toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Ký số chỉ áp dụng giấy tờ định dạng *.pdf")},getCertMySign:function(){var t=this;if(t.typeUserMySign&&String(t.userIdMySign).trim()){var e={user_id:String(t.userIdMySign).trim(),ca_name:t.donViCapCA,serial_number:""};t.loadingAction=!0,t.$store.dispatch("getCertMySign",e).then((function(e){t.loadingAction=!1,t.listCertMySign=[];try{t.listCertMySign=e.data.user_certificates}catch(a){}t.listCertMySign.length||toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Không có thông tin chứng thư số")})).catch((function(){t.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Không có thông tin chứng thư số")}))}},submitMySign:function(t){var e=this;if(e.certSelected=t,!e.loadingAction){var a={user_id:String(e.userIdMySign).trim(),ca_name:e.donViCapCA,serial_number:t.serial_number,dossierId:e.fileKySo.dossierId,referenceUid:e.fileKySo.referenceUid,cert_data:t.cert_data};e.loadingAction=!0,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu đã được gửi. Vui lòng thực hiện ký số trên thiết bị."),e.dialogChoKySoBatDongBo=!0,e.dialogInputMobile=!1,e.$store.dispatch("signatureMySign",a).then((function(t){e.loadingAction=!1;var a={fileEntryIdStr:t?t["fileEntryIdStr"]:"",dossierFileIdStr:e.fileKySo.dossierFileId};e.$store.dispatch("updateSignatureVtCa",a).then((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Thực hiện ký số thành công"),e.dialogChoKySoBatDongBo=!1,e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then((function(t){e.dossierFilesItems=t})).catch((function(t){}))})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Lỗi trong quá trình cập nhật tài liệu ký số"),e.dialogChoKySoBatDongBo=!1}))})).catch((function(){e.loadingAction=!1,e.dialogChoKySoBatDongBo=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Gửi yêu cầu ký số thất bại")}))}},getResultMySign:function(){var t=this,e={dossierId:t.thongTinHoSo["dossierId"],fileReferenceUid:t.fileKySo.referenceUid,credentialID:t.certSelected.credentialId,applicantIdNo:t.typeUserMySign+"_"+String(t.userIdMySign).trim(),transactionId:t.transactionInfo["transactionId"]};t.loadingAction=!0,t.$store.dispatch("getResultMySign",e).then((function(e){t.loadingAction=!1;var a=!0,i="";if(e.hasOwnProperty("status")&&4e3==e.status&&(a=!1,i="Người dùng chưa thực hiện ký số trên thiết bị"),e.hasOwnProperty("status")&&4001==e.status&&(a=!1,i="Yêu cầu ký số hết thời gian chờ"),e.hasOwnProperty("status")&&4002==e.status&&(a=!1,i="Yêu cầu ký số đã bị từ chối"),e.hasOwnProperty("status")&&4004==e.status&&(a=!1,i="Ký số thất bại. Có lỗi xảy ra"),e.hasOwnProperty("status")&&5e4==e.status&&(a=!1,i="Có lỗi xảy ra khi lấy thông tin"),!a)return toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),void toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error(i);var o={fileEntryIdStr:e?e["fileEntryIdStr"]:"",dossierFileIdStr:t.fileKySo.dossierFileId};t.$store.dispatch("updateSignatureVtCa",o).then((function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Thực hiện ký số thành công"),t.dialogChoKySoBatDongBo=!1,t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId).then((function(e){t.dossierFilesItems=e})).catch((function(t){}))})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Lỗi trong quá trình cập nhật tài liệu ký số")}))})).catch((function(){t.loadingAction=!1}))},submitSignSimCa:function(){var t=this;if(t.mobileCA){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Yêu cầu đã được gửi. Vui lòng xác nhận ký số trên thiết bị.");var e={dossierId:t.thongTinHoSo["dossierId"],referenceUid:t.fileKySo.referenceUid,mobile:"84"+String(t.mobileCA).substring(1)};t.loadingAction=!0,t.$store.dispatch("signatureVtSimCa",e).then((function(e){if(t.loadingAction=!1,"success"==e.message&&"200"==e.status&&e["signedFileName"]){var a={signedFileName:e["signedFileName"]?e["signedFileName"]:""};t.$store.dispatch("uploadSignatureVtCa",a).then((function(e){var a;try{a=JSON.parse(e.FileServer);var i={fileEntryIdStr:a?a["fileEntryId"]:"",dossierFileIdStr:t.fileKySo.dossierFileId};t.$store.dispatch("updateSignatureVtCa",i).then((function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Thực hiện ký số thành công"),t.dialogInputMobile=!1,t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId).then((function(e){t.dossierFilesItems=e})).catch((function(t){}))})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Lỗi trong quá trình cập nhật tài liệu ký số")}))}catch(o){}})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tải tài liệu ký số lên không thành công")}))}else toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Thực hiện ký số thất bại. Vui lòng thử lại.")})).catch((function(){t.loadingAction=!1}))}},showEditorPdf:function(t){var e=this;if(e.showViewerPdfEditor=!0,jquery__WEBPACK_IMPORTED_MODULE_0___default()(".toolbar .text-color").html(""),jquery__WEBPACK_IMPORTED_MODULE_0___default()(".toolbar .pen-color").html(""),"undefined"!==typeof Storage)for(var a in localStorage)a.indexOf("/preview.pdf/")>0&&localStorage.removeItem(a);e.fileEditor=t;var i=window.themeDisplay.getPortalURL()+"/o/rest/v2/dossiers/"+e.thongTinHoSo["dossierId"]+"/files/"+t["referenceUid"]+"/preview.pdf",o={};if(o[i+"/text/size"]="14",o[i+"/text/color"]="#EF4437",o[i+"/pen/size"]="1",o[i+"/pen/color"]="#EF4437",o[i+"/tooltype"]="text",o[i+"/scale"]="1.33",o[i+"/rotate"]="0",e.fileEditor["signInfo"]&&(o[i+"/annotations"]=e.fileEditor["signInfo"]),"undefined"!==typeof Storage)for(var n in o)localStorage.setItem(n,o[n]);e.dialog_editor_pdf=!0,setTimeout((function(){initPdf(i)}),200)},saveEditor:function(){var t=this,e=confirm("Bạn có chắc chắn lưu các ghi chú cho giấy tờ này?");if(e){var a=window.themeDisplay.getPortalURL()+"/o/rest/v2/dossiers/"+t.thongTinHoSo["dossierId"]+"/files/"+t.fileEditor["referenceUid"]+"/preview.pdf";if("undefined"!==typeof Storage){var i=localStorage.getItem(a+"/annotations"),o={dossierFileId:t.fileEditor.dossierFileId,annotation:i};t.$store.dispatch("saveEditor",o).then((function(e){t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId).then((function(e){t.dossierFilesItems=e})).catch((function(t){})),t.dialog_editor_pdf=!1,t.showViewerPdfEditor=!1})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Lưu ghi chú thất bại")}))}}},closeEditorPdf:function(){var t=this;if(t.onlyView)t.dialog_editor_pdf=!1,t.showViewerPdfEditor=!1;else{var e=confirm("Bạn có muốn lưu các ghi chú cho giấy tờ này?");if(e){var a=window.themeDisplay.getPortalURL()+"/o/rest/v2/dossiers/"+t.thongTinHoSo["dossierId"]+"/files/"+t.fileEditor["referenceUid"]+"/preview.pdf";if("undefined"!==typeof Storage){var i=localStorage.getItem(a+"/annotations"),o={dossierFileId:t.fileEditor.dossierFileId,annotation:i};t.$store.dispatch("saveEditor",o).then((function(e){t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId).then((function(e){t.dossierFilesItems=e})).catch((function(t){})),t.dialog_editor_pdf=!1,t.showViewerPdfEditor=!1})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Lưu ghi chú thất bại")}))}}else t.dialog_editor_pdf=!1,t.showViewerPdfEditor=!1}},resetMessage:function(){},showXacThucVnptSmartCa:function(t,e){var a=this,i=a.$cookies.get("access_token_vnpt_smartca");a.fileKySo=t,a.indexFileSelect=e,i?(a.access_token_vnpt=i,a.sendRequestSignVnptSmartCa()):(a.dialogXacThucVnptSmartCa=!0,a.detailUserSmartVnpt=!1)},submitLoginCaVnpt:function(){var t=this;if(String(t.userNameSmartCa).trim()&&String(t.passWordSmartCa).trim()){var e={headers:{"Content-Type":"application/x-www-form-urlencoded",groupId:window.themeDisplay.getScopeGroupId()}},a=new URLSearchParams;a.append("username",t.userNameSmartCa),a.append("password",t.passWordSmartCa);var i="/o/rest/v2/signature/smartCA/token";t.loadingAction=!0,axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(i,a,e).then((function(e){if(t.loadingAction=!1,e.data.hasOwnProperty("message")&&e.data.message){var a=JSON.parse(e.data.message);t.access_token_vnpt=a.access_token,t.$cookies.set("access_token_vnpt_smartca",a.access_token,a.expires_in),t.getUserInfoSmartCa()}else toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tên đăng nhập hoặc mật khẩu không chính xác")})).catch((function(){t.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tên đăng nhập hoặc mật khẩu không chính xác")}))}},getUserInfoSmartCa:function(){var t=this,e={headers:{groupId:window.themeDisplay.getScopeGroupId(),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},a=new URLSearchParams;a.append("token",t.access_token_vnpt),axios__WEBPACK_IMPORTED_MODULE_1___default.a.post("/o/rest/v2/signature/smartCA/userInfo",a,e).then((function(e){if(e.data.hasOwnProperty("message")&&e.data.message){var a=JSON.parse(e.data.message);t.userSignSmartVnpt=a.content,t.detailUserSmartVnpt=!0,window.localStorage.setItem("userNameSignSmartVnpt",t.userSignSmartVnpt.fullName)}})).catch((function(){}))},sendRequestSignVnptSmartCa:function(){var t=this,e={headers:{groupId:window.themeDisplay.getScopeGroupId(),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},a=new URLSearchParams;a.append("dossierFileIdStr",t.fileKySo.dossierFileId),a.append("token",t.access_token_vnpt),a.append("fullName",t.userSignSmartVnpt?t.userSignSmartVnpt.fullName:window.localStorage.getItem("userNameSignSmartVnpt")),axios__WEBPACK_IMPORTED_MODULE_1___default.a.post("/o/rest/v2/signature/smartCA/signHash",a,e).then((function(e){e.hasOwnProperty("data")&&e.data&&(t.tranId_vnpt=e.data.tranId,t.dialogXacThucVnptSmartCa=!1,t.dialogChoKySoBatDongBo=!0)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Quá trình ký số thất bại")}))},getTransInfo:function(){var t=this,e={headers:{groupId:window.themeDisplay.getScopeGroupId(),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},a=new URLSearchParams;a.append("tranId",t.tranId_vnpt),a.append("token",t.access_token_vnpt),t.loadingAction=!0,axios__WEBPACK_IMPORTED_MODULE_1___default.a.post("/o/rest/v2/signature/smartCA/getTranInfo",a,e).then((function(e){var a=e.hasOwnProperty("data")?e.data:"";if(a&&null!=a){var i=a.signFileNameStr,o=a.dossierFileIdStr;t.updateSignedVnptCa(i,o),t.dialogChoKySoBatDongBo=!1}else toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Vui lòng thực hiện ký số trên thiết bị");t.loadingAction=!1})).catch((function(){t.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Quá trình ký số thất bại")}))},updateSignedVnptCa:function(t,e){var a=this,i={headers:{groupId:window.themeDisplay.getScopeGroupId(),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},o=new URLSearchParams;o.append("signFileNameStr",t),o.append("dossierFileIdStr",e),axios__WEBPACK_IMPORTED_MODULE_1___default.a.post("/o/rest/v2/defaultsignature/smartca/fileupload",o,i).then((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.success("Giấy tờ đã được ký số"),a.$store.dispatch("loadDossierFiles",a.thongTinHoSo.dossierId).then((function(t){a.dossierFilesItems=t})).catch((function(t){}))})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Lỗi cập nhật tài liệu")}))},updateSignCheck:function(t){var e=this,a={headers:{groupId:window.themeDisplay.getScopeGroupId(),Accept:"application/json","Content-Type":"application/json"}};axios__WEBPACK_IMPORTED_MODULE_1___default.a.post("/o/rest/v2/dossiers/"+t+"/signCheck/1",{},a).then((function(t){e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then((function(t){e.dossierFilesItems=t})).catch((function(t){}))})).catch((function(){e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then((function(t){e.dossierFilesItems=t})).catch((function(t){}))}))},downloadSavisMsi:function(){var t=this;t.dialogTaiSavis=!1,document.getElementById("downloadCaiDatSavis").click()}}}},"826a":function(t,e,a){"use strict";var i,o=a("0798"),n=a("c6a6"),s=a("8336"),r=a("b0af"),l=a("99d9"),c=a("ac7c"),d=a("8fea"),p=a("2e4b"),u=a("169a"),h=a("ce7e"),m=a("cd55"),g=a("49e2"),f=a("0e8f"),_=a("4bd4"),C=a("132d"),v=a("a722"),y=a("5d23"),T=a("e449"),S=a("490a"),I=a("67b6"),N=a("43a6"),A=a("9910"),D=a("7e85"),x=a("e516"),w=a("9c54"),b=a("56a4"),E=a("e0c7"),k=a("2677"),P=a("a844"),F=a("71d9"),H=a("2a7f"),O=a("3a2f"),L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(_["a"],{ref:"formChuHoSo",attrs:{id:"form_applicantInfo","lazy-validation":""},model:{value:t.valid_thongtinchuhoso,callback:function(e){t.valid_thongtinchuhoso=e},expression:"valid_thongtinchuhoso"}},[a("div",[a("div",{staticStyle:{position:"relative"}},[t.showApplicant?t._e():a(m["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(g["a"],[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(C["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v(" Thông tin chủ hồ sơ")]),a(r["a"],[("2"===t.thongTinChuHoSo.userType||1===t.originality&&"business"===t.thongTinChuHoSo.applicantIdType)&&t.bussinessExits?a(O["a"],{staticStyle:{position:"absolute",right:"5px","z-index":"101"},attrs:{left:""}},[a(s["a"],{staticClass:"my-0 mt-1",staticStyle:{width:"32px!important",height:"32px!important"},attrs:{slot:"activator",fab:"",icon:"",small:"",dark:"",color:"primary"},nativeOn:{click:function(e){return t.getApplicantInfos()}},slot:"activator"},[a(C["a"],{attrs:{dark:""}},[t._v("account_balance")])],1),a("span",[t._v("Đối chiếu thông tin doanh nghiệp")])],1):t._e(),a(l["b"],{class:3===t.originality&&"2"===t.thongTinChuHoSo.userType&&t.traCuuLgsp?"pt-0":"pt-3"},[3===t.originality&&"2"===t.thongTinChuHoSo.userType&&t.traCuuLgsp?a(f["a"],{staticClass:"text-right",attrs:{xs12:""}},[a(s["a"],{staticClass:"mx-0",attrs:{color:"primary"},on:{click:function(e){return e.stopPropagation(),t.showDialogSearchLgspDoanhNghiep()}}},[a(C["a"],[t._v("fas fa fa-search-plus")]),t._v("  \n                    Tra cứu CSDL Quốc Gia\n                  ")],1)],1):t._e(),3===t.originality&&"1"===t.thongTinChuHoSo.userType&&t.traCuuLgspCongDan?a(f["a"],{staticClass:"text-right",attrs:{xs12:""}},[t.traCuuAI?a(s["a"],{staticClass:"mx-0 mr-3",style:t.loadingSearchLgsp?"pointer-events: none;margin-top: -8px;":"margin-top: -8px;",attrs:{color:"primary"},on:{click:function(e){return t.showDialogAISearch()}}},[a("span",[t._v("Tra cứu AI")])]):t._e(),t.quyenTraCuuLgsp&&"037"==t.serviceCheckCsdldc?a(s["a"],{staticClass:"mx-0",style:t.loadingSearchLgsp?"pointer-events: none;margin-top: -8px;":"margin-top: -8px;",attrs:{color:"primary"},on:{click:function(e){return e.stopPropagation(),t.showDialogSearchLgspCongDan()}}},[t.loadingSearchLgsp?t._e():a(C["a"],[t._v("fas fa fa-search-plus")]),t.loadingSearchLgsp?a(S["a"],{attrs:{size:24,indeterminate:"",color:"white"}}):t._e(),t._v(" \n                    "),t.loadingSearchLgsp?t._e():a("span",[t._v("Kiểm tra thông tin công dân")]),t.loadingSearchLgsp?a("span",[t._v("Đang kiểm tra thông tin công dân")]):t._e()],1):t._e()],1):t._e(),3===t.originality&&"2"===t.thongTinChuHoSo.userType&&t.traCuuLgspDoanhNghiep?a(f["a"],{staticClass:"text-right",attrs:{xs12:""}},[a(s["a"],{staticClass:"mx-0",style:t.loadingSearchLgsp?"pointer-events: none;margin-top: -8px;":"margin-top: -8px;",attrs:{color:"primary"},on:{click:function(e){return e.stopPropagation(),t.showDialogSearchLgspDoanhNghiep()}}},[t.loadingSearchLgsp?t._e():a(C["a"],[t._v("fas fa fa-search-plus")]),t.loadingSearchLgsp?a(S["a"],{attrs:{size:24,indeterminate:"",color:"white"}}):t._e(),t._v(" \n                    "),t.loadingSearchLgsp?t._e():a("span",[t._v("Kiểm tra thông tin doanh nghiệp")]),t.loadingSearchLgsp?a("span",[t._v("Đang kiểm tra thông tin doanh nghiệp")]):t._e()],1)],1):t._e(),a(u["a"],{attrs:{persistent:"","max-width":"680"},model:{value:t.dialog_aiSearch,callback:function(e){t.dialog_aiSearch=e},expression:"dialog_aiSearch"}},[a(F["a"],{attrs:{dark:"",color:"primary"}},[a(H["b"],[t._v("Chụp ảnh khuôn mặt")]),a(A["a"]),a(s["a"],{attrs:{icon:"",dark:""},on:{click:t.closeDialogAiSearch}},[a(C["a"],[t._v("close")])],1)],1),a(r["a"],[a("div",{staticClass:"camera-box-login"},[a("video",{directives:[{name:"show",rawName:"v-show",value:!t.hasPhoto,expression:"!hasPhoto"}],ref:"camera",attrs:{width:680,height:510,autoplay:""}}),a("canvas",{directives:[{name:"show",rawName:"v-show",value:t.hasPhoto,expression:"hasPhoto"}],ref:"canvas",attrs:{id:"photoTaken",width:680,height:510}}),a("div",{staticClass:"camera-shot",staticStyle:{"text-align":"center"}},[a(s["a"],{directives:[{name:"show",rawName:"v-show",value:!t.hasPhoto,expression:"!hasPhoto"}],staticClass:"btn-50px",attrs:{fab:""},on:{click:t.takePhoto}},[a(C["a"],[t._v("camera_alt")])],1),a(s["a"],{directives:[{name:"show",rawName:"v-show",value:t.hasPhoto,expression:"hasPhoto"}],staticClass:"btn-50px",attrs:{fab:""},on:{click:t.turnOnCamera}},[a(C["a"],[t._v("replay")])],1)],1)])])],1),a(u["a"],{attrs:{width:"400"},model:{value:t.dialog_identifyConfirm,callback:function(e){t.dialog_identifyConfirm=e},expression:"dialog_identifyConfirm"}},[a(r["a"],[a(l["b"],{staticClass:"text-center"},[t._v("Tài khoản công dân chưa thực hiện định danh điện tử.")]),a(v["a"],{attrs:{"align-center":"","justify-center":""}},[a(s["a"],{attrs:{color:"error"},nativeOn:{click:function(e){t.dialog_identifyConfirm=!1}}},[a("span",{staticClass:"px-2"},[t._v("Đóng")])]),a(s["a"],{staticStyle:{"margin-left":"15px"},attrs:{color:"primary"},on:{click:t.showDialogAiIdentify}},[a("span",{staticClass:"px-2"},[t._v("Định danh điện tử")])])],1)],1)],1),a(u["a"],{attrs:{width:"1000"},model:{value:t.dialog_aiIdentify,callback:function(e){t.dialog_aiIdentify=e},expression:"dialog_aiIdentify"}},[a(F["a"],{attrs:{dark:"",color:"primary"}},[a(H["b"],{staticClass:"body-1"},[t._v("Định danh điện tử")]),a(A["a"]),a(s["a"],{attrs:{icon:"",dark:""},on:{click:t.endIdentifyProcess}},[a(C["a"],[t._v("close")])],1)],1),a(r["a"],[a(D["a"],{attrs:{"alt-labels":""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a(w["a"],[a(b["a"],{attrs:{complete:t.step>1,step:"1"}},[t._v("Chụp CMND/ CCCD mặt trước")]),a(h["a"]),a(b["a"],{attrs:{complete:t.step>2,step:"2"}},[t._v("Chụp CMND/ CCCD mặt sau")]),a(h["a"]),a(b["a"],{attrs:{complete:t.step>3,step:"3"}},[t._v("Xác thực khuôn mặt")])],1),a(w["b"],[a(x["a"],{attrs:{step:"1"}},[a(F["a"],{attrs:{flat:"",color:"#fff"}},[a(v["a"],{attrs:{column:"","justify-center":"","text-center":""}},[a(H["b"],[t._v("Chụp CMND/ CCCD mặt trước")]),a("p",{staticStyle:{color:"red"}},[t._v("\n                                * Xin vui lòng đặt giấy tờ nằm vừa khung chữ nhật, chụp đủ sáng\n                                và rõ nét, không bị cắt góc\n                              ")])],1)],1),a(v["a"],{staticClass:"mt-4",attrs:{row:"",wrap:""}},[a(f["a"],{attrs:{xs6:"",sm4:""}},[a(r["a"],{attrs:{elevation:"0"}},[a("attached-front-image",{ref:"attachedFrontImage",attrs:{type:"image"},on:{loadFrontData:t.loadFrontData,changeLoading:t.changeLoading,clearFrontData:t.clearFrontData}})],1)],1),a(A["a"]),a(f["a"],{attrs:{xs6:"",sm7:""}},[a(f["a"],{staticStyle:{height:"280px"}},[a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Họ và tên")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{loading:t.loadingDialogInfo,disabled:""},model:{value:t.user["name"],callback:function(e){t.$set(t.user,"name",e)},expression:"user['name']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Số CMND/ CCCD")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{loading:t.loadingDialogInfo,disabled:""},model:{value:t.user["id"],callback:function(e){t.$set(t.user,"id",e)},expression:"user['id']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Ngày sinh")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{loading:t.loadingDialogInfo,disabled:""},model:{value:t.user["birthday"],callback:function(e){t.$set(t.user,"birthday",e)},expression:"user['birthday']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Nơi thường trú")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{loading:t.loadingDialogInfo,disabled:""},model:{value:t.user["address"],callback:function(e){t.$set(t.user,"address",e)},expression:"user['address']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Nơi cấp")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:""},model:{value:t.user["issue_by"],callback:function(e){t.$set(t.user,"issue_by",e)},expression:"user['issue_by']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Ngày cấp")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:""},model:{value:t.user["issue_date"],callback:function(e){t.$set(t.user,"issue_date",e)},expression:"user['issue_date']"}})],1)],1)],1),a(f["a"],[a(v["a"],{staticClass:"mt-3",attrs:{"align-center":"","justify-end":""}},[a(s["a"],{attrs:{color:"primary",disabled:t.disabled},on:{click:t.nextStep}},[a(C["a"],[t._v("check")]),a("span",{staticClass:"px-2"},[t._v("Tiếp tục")])],1)],1)],1)],1)],1)],1),a(x["a"],{attrs:{step:"2"}},[a(F["a"],{attrs:{flat:"",color:"#fff"}},[a(v["a"],{attrs:{column:"","justify-center":"","text-center":""}},[a(H["b"],[t._v("Chụp CMND/ CCCD mặt sau")]),a("p",{staticStyle:{color:"red"}},[t._v("\n                                * Xin vui lòng đặt giấy tờ nằm vừa khung chữ nhật, chụp đủ sáng\n                                và rõ nét, không bị cắt góc\n                              ")])],1)],1),a(v["a"],{staticClass:"mt-4",attrs:{row:"",wrap:""}},[a(f["a"],{attrs:{xs6:"",sm4:""}},[a(r["a"],{attrs:{elevation:"0"}})],1),a(A["a"]),a(f["a"],{attrs:{xs6:"",sm7:""}},[a(f["a"],{staticStyle:{height:"280px"}},[a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Họ và tên")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:""},model:{value:t.user["name"],callback:function(e){t.$set(t.user,"name",e)},expression:"user['name']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Số CMND/ CCCD")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:""},model:{value:t.user["id"],callback:function(e){t.$set(t.user,"id",e)},expression:"user['id']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Ngày sinh")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:""},model:{value:t.user["birthday"],callback:function(e){t.$set(t.user,"birthday",e)},expression:"user['birthday']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Nơi thường trú")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:""},model:{value:t.user["address"],callback:function(e){t.$set(t.user,"address",e)},expression:"user['address']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Nơi cấp")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:"",loading:t.loadingDialogInfo},model:{value:t.user["issue_by"],callback:function(e){t.$set(t.user,"issue_by",e)},expression:"user['issue_by']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Ngày cấp")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{loading:t.loadingDialogInfo,disabled:""},model:{value:t.user["issue_date"],callback:function(e){t.$set(t.user,"issue_date",e)},expression:"user['issue_date']"}})],1)],1)],1),a(f["a"],[a(v["a"],{staticClass:"mt-3",attrs:{"align-center":"","justify-end":""}},[a(s["a"],{attrs:{color:"primary"},on:{click:t.previousStep}},[a(C["a"],[t._v("reply")]),a("span",{staticClass:"px-2"},[t._v("Quay lại")])],1),a(s["a"],{attrs:{color:"primary",disabled:t.disabled},on:{click:t.nextStep}},[a(C["a"],[t._v("check")]),a("span",{staticClass:"px-2"},[t._v("Tiếp tục")])],1)],1)],1)],1)],1)],1),a(x["a"],{attrs:{step:"3"}},[a(F["a"],{attrs:{flat:"",color:"#fff"}},[a(v["a"],{attrs:{column:"","justify-center":"","text-center":""}},[a(H["b"],[t._v("Xác thực khuôn mặt")]),a("p",{staticStyle:{color:"red"}},[t._v("\n                                * Xin vui lòng điều chỉnh sao cho khuôn mặt nằm trong khung\n                                hình\n                              ")])],1)],1),a(v["a"],{staticClass:"mt-4",attrs:{row:"",wrap:""}},[a(f["a"],{attrs:{xs6:"",sm4:""}},[a(r["a"],{attrs:{elevation:"0"}},[a("attached-selfie-image",{ref:"attachedSelfieImage",attrs:{type:"image",userData:t.user},on:{loadSelfieData:t.loadSelfieData,clearSelfieData:t.clearSelfieData,updateUserInfomation:t.updateUserInfomation}})],1)],1),a(A["a"]),a(f["a"],{attrs:{xs6:"",sm7:""}},[a(f["a"],{staticStyle:{height:"280px"}},[a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Họ và tên")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:""},model:{value:t.user["name"],callback:function(e){t.$set(t.user,"name",e)},expression:"user['name']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Số CMND/ CCCD")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:""},model:{value:t.user["id"],callback:function(e){t.$set(t.user,"id",e)},expression:"user['id']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Ngày sinh")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:""},model:{value:t.user["birthday"],callback:function(e){t.$set(t.user,"birthday",e)},expression:"user['birthday']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Nơi thường trú")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:""},model:{value:t.user["address"],callback:function(e){t.$set(t.user,"address",e)},expression:"user['address']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Nơi cấp")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:""},model:{value:t.user["issue_by"],callback:function(e){t.$set(t.user,"issue_by",e)},expression:"user['issue_by']"}})],1)],1),a(v["a"],{attrs:{row:"","align-center":""}},[a(f["a"],{attrs:{sm4:""}},[t._v("Ngày cấp")]),a(f["a"],{attrs:{sm8:""}},[a(k["a"],{attrs:{disabled:""},model:{value:t.user["issue_date"],callback:function(e){t.$set(t.user,"issue_date",e)},expression:"user['issue_date']"}})],1)],1)],1),a(f["a"],[a(v["a"],{staticClass:"mt-3",attrs:{"align-center":"","justify-end":""}},[a(s["a"],{attrs:{color:"primary"},on:{click:t.endIdentifyProcess}},[a("span",{staticClass:"px-2"},[t._v("Kết thúc")])])],1)],1)],1)],1)],1)],1)],1)],1)],1),a(v["a"],{attrs:{wrap:""}},["3"==t.originality&&"1"==t.thongTinChuHoSo.userType&&t.traCuuLgspCongDan&&t.warningLgsp?a(f["a"],{staticClass:"mb-2",attrs:{xs12:""}},[a(o["a"],{staticClass:"px-2 py-2",staticStyle:{"max-width":"570px"},attrs:{value:!0,color:t.lgspAlertColor,icon:"warning",outline:""}},[a("span",[t._v(t._s(t.messageLgsp))])])],1):t._e(),t.validateSameApplicantIdNo&&t.sameApplicantIdNo?a(f["a"],{staticClass:"mb-3 text-xs-center",attrs:{xs12:""}},[a("div",[a("span",{staticClass:"mr-2"},[a(C["a"],{attrs:{color:"warning"}},[t._v("error_outline")])],1),a("span",{},[t._v("Chủ hồ sơ CMND/ Hộ chiếu/ Mã số thuế ")]),a("span",{staticClass:"text-bold"},[t._v(t._s(t.thongTinChuHoSo.applicantIdNo))]),a("span",[t._v(" đang được tiếp nhận, giải quyết tại hồ sơ số: ")]),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.sameApplicantIdNo))])])]):t._e(),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChuHoSo.userType&&t.labelSwitch[t.thongTinChuHoSo.userType]?t.labelSwitch[t.thongTinChuHoSo.userType].cmtnd:"CMND/ Hộ chiếu")+" "),t.requiredOptions["applicantIdNo"]||1===t.originality&&t.requiredOptions["applicantIdNo"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{staticStyle:{position:"relative"},attrs:{xs12:"",sm2:""}},[1!=t.originality||t.disableEditApplicant?t._e():a(k["a"],{attrs:{disabled:t.loadingVerify,rules:[t.rules.required,t.rules.varchar100],required:""},on:{input:t.changeApplicantInfos,change:function(e){t.thongTinChuHoSo.applicantIdNo=String(t.thongTinChuHoSo.applicantIdNo).trim()}},model:{value:t.thongTinChuHoSo.applicantIdNo,callback:function(e){t.$set(t.thongTinChuHoSo,"applicantIdNo",e)},expression:"thongTinChuHoSo.applicantIdNo"}}),1==t.originality&&t.disableEditApplicant?a("p",{staticClass:"pl-0 pt-2"},[t._v(" "+t._s(t.thongTinChuHoSo.applicantIdNo))]):t._e(),3===t.originality||"3"===t.originality?a("suggestions",{class:t.loadingVerify?"input-group--disabled":"",style:t.loadingVerify?"color:#00000061":"",attrs:{options:t.searchOptions,onItemSelected:t.onSearchItemSelected,onInputChange:t.onInputChange},on:{change:t.changeSuggess},scopedSlots:t._u([{key:"item",fn:function(e){return a("div",{staticClass:"single-item"},[a(y["a"],[a(y["c"],{domProps:{innerHTML:t._s(e.item.applicantName)}}),a(y["b"],{domProps:{innerHTML:t._s(e.item.applicantIdNo)}})],1)],1)}}],null,!1,3395392337),model:{value:t.thongTinChuHoSo.applicantIdNo,callback:function(e){t.$set(t.thongTinChuHoSo,"applicantIdNo",e)},expression:"thongTinChuHoSo.applicantIdNo"}}):t._e(),3!==t.originality&&"3"!==t.originality||!t.requiredOptions["applicantIdNo"]||t.applicantIdRequired||t.thongTinChuHoSo.applicantIdNo?t._e():a("span",{staticStyle:{color:"#ff5252","font-size":"12px"}},[t._v("Thông tin bắt buộc")]),3!==t.originality&&"3"!==t.originality||!t.applicantConfig?t._e():a(O["a"],{attrs:{top:""}},[a(s["a"],{staticClass:"mx-0 my-0",staticStyle:{position:"absolute",top:"0",right:"-5px"},attrs:{slot:"activator",flat:"",icon:"",color:"primary"},on:{click:function(e){return t.showDialogApplicantList("ChuHoSo")}},slot:"activator"},[a(C["a"],{attrs:{size:"14"}},[t._v("fas fa fa-address-card")])],1),a("span",[t._v("Danh sách công dân, tổ chức, doanh nghiệp")])],1)],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChuHoSo.userType&&t.labelSwitch[t.thongTinChuHoSo.userType]?t.labelSwitch[t.thongTinChuHoSo.userType].nguoi_nop:"Họ và tên")),t.requiredOptions["applicantName"]?a("span",{staticStyle:{color:"red"}},[t._v("  *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm6:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loading||3!=t.originality&&(1!=t.originality||t.disableEditApplicant)?t._e():a(k["a"],{attrs:{disabled:t.loadingVerify,rules:t.requiredOptions["applicantName"]?[t.rules.required,t.rules.varchar500]:"",required:t.requiredOptions["applicantName"]},on:{input:t.changeApplicantInfos,change:function(e){t.thongTinChuHoSo.applicantName=String(t.thongTinChuHoSo.applicantName).trim()}},model:{value:t.thongTinChuHoSo.applicantName,callback:function(e){t.$set(t.thongTinChuHoSo,"applicantName",e)},expression:"thongTinChuHoSo.applicantName"}}),1==t.originality&&t.disableEditApplicant?a("p",{staticClass:"pl-0 pt-2"},[t._v(" "+t._s(t.thongTinChuHoSo.applicantName))]):t._e()],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Địa chỉ "),t.requiredOptions["address"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm10:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(P["a"],{attrs:{"aria-label":"Địa chỉ chi tiết",rows:"2",rules:t.requiredOptions["address"]?[t.rules.required,t.rules.varchar500]:"",required:t.requiredOptions["address"]},on:{change:function(e){t.thongTinChuHoSo.address=String(t.thongTinChuHoSo.address).trim()}},model:{value:t.thongTinChuHoSo.address,callback:function(e){t.$set(t.thongTinChuHoSo,"address",e)},expression:"thongTinChuHoSo.address"}})],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Tỉnh/Thành phố "),t.requiredOptions["cityCode"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(n["a"],{attrs:{"aria-label":"Tỉnh, thành phố","aria-autocomplete":"list","aria-required":"true",items:t.citys,"item-text":"itemName","item-value":"itemCode","hide-no-data":"",rules:t.requiredOptions["cityCode"]?[t.rules.required]:"",required:t.requiredOptions["cityCode"]},on:{change:t.onChangeCity},model:{value:t.thongTinChuHoSo.cityCode,callback:function(e){t.$set(t.thongTinChuHoSo,"cityCode",e)},expression:"thongTinChuHoSo.cityCode"}})],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Quận/Huyện "),t.requiredOptions["districtCode"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(n["a"],{attrs:{"aria-label":"Quận, huyện","aria-autocomplete":"list","aria-required":"true",items:t.districts,"item-text":"itemName","item-value":"itemCode",rules:t.requiredOptions["districtCode"]?[t.rules.required]:"",required:t.requiredOptions["districtCode"],"hide-no-data":""},on:{change:t.onChangeDistrict},model:{value:t.thongTinChuHoSo.districtCode,callback:function(e){t.$set(t.thongTinChuHoSo,"districtCode",e)},expression:"thongTinChuHoSo.districtCode"}})],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Xã/Phường "),t.requiredOptions["wardCode"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(n["a"],{attrs:{"aria-label":"Phường, xã","aria-autocomplete":"list","aria-required":"true",items:t.wards,"item-text":"itemName","item-value":"itemCode",rules:t.requiredOptions["wardCode"]?[t.rules.required]:"",required:t.requiredOptions["wardCode"],"hide-no-data":""},on:{change:t.onChangeWard},model:{value:t.thongTinChuHoSo.wardCode,callback:function(e){t.$set(t.thongTinChuHoSo,"wardCode",e)},expression:"thongTinChuHoSo.wardCode"}})],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Số điện thoại "),t.requiredOptions["contactTelNo"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(k["a"],{attrs:{"aria-label":"Số điện thoại","append-icon":"phone",rules:t.requiredOptions["contactTelNo"]?[t.rules.telNo,t.rules.required]:[t.rules.telNo],required:t.requiredOptions["contactTelNo"]},on:{change:function(e){t.thongTinChuHoSo.contactTelNo=String(t.thongTinChuHoSo.contactTelNo).trim()}},model:{value:t.thongTinChuHoSo.contactTelNo,callback:function(e){t.$set(t.thongTinChuHoSo,"contactTelNo",e)},expression:"thongTinChuHoSo.contactTelNo"}})],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Địa chỉ email "),t.requiredOptions["contactEmail"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm6:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(k["a"],{attrs:{"aria-label":"Địa chỉ email",rules:t.requiredOptions["contactEmail"]?[t.rules.email,t.rules.required,t.rules.varchar100]:t.thongTinChuHoSo.contactEmail?[t.rules.email,t.rules.varchar100]:"",required:t.requiredOptions["contactEmail"]},on:{change:function(e){t.thongTinChuHoSo.contactEmail=String(t.thongTinChuHoSo.contactEmail).trim()}},model:{value:t.thongTinChuHoSo.contactEmail,callback:function(e){t.$set(t.thongTinChuHoSo,"contactEmail",e)},expression:"thongTinChuHoSo.contactEmail"}})],1)],1)],1)],1)],1)],1),1!==t.originality?a("div",{staticClass:"absolute__btn",style:t.hasOrganization?"width: 420px;":"width: 350px;"},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loading||t.hasOrganization?t._e():a(N["a"],{staticClass:"mt-2",attrs:{row:""},on:{change:t.checkUserType},model:{value:t.thongTinChuHoSo.userType,callback:function(e){t.$set(t.thongTinChuHoSo,"userType",e)},expression:"thongTinChuHoSo.userType"}},[a(I["a"],{attrs:{label:"Công dân",value:"1"}}),a(I["a"],{attrs:{label:"Tổ chức, doanh nghiệp",value:"2"}})],1),!t.loading&&t.hasOrganization?a(N["a"],{staticClass:"mt-2",attrs:{row:""},on:{change:t.checkUserType},model:{value:t.thongTinChuHoSo.userType,callback:function(e){t.$set(t.thongTinChuHoSo,"userType",e)},expression:"thongTinChuHoSo.userType"}},[a(I["a"],{attrs:{label:"Công dân",value:"1"}}),a(I["a"],{attrs:{label:"Doanh nghiệp",value:"2"}}),a(I["a"],{attrs:{label:"Cơ quan, tổ chức",value:"3"}})],1):t._e()],1):t._e(),1===t.originality||t.showDelegate?t._e():a("div",{staticStyle:{position:"relative"}},[a(m["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(g["a"],[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(C["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v(" Thông tin người nộp hồ sơ")]),a(r["a"],[a(l["b"],[a(v["a"],{attrs:{wrap:""}},[a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("CMND/Hộ chiếu "),t.requiredOptions["delegateIdNo"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{staticStyle:{position:"relative"},attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),1===t.originality||"1"===t.originality?a(k["a"],{attrs:{rules:[t.rules.required,t.rules.varchar100],required:"",disabled:t.thongTinNguoiNopHoSo.sameUser},on:{change:function(e){t.thongTinNguoiNopHoSo.delegateIdNo=String(t.thongTinNguoiNopHoSo.delegateIdNo).trim()}},model:{value:t.thongTinNguoiNopHoSo.delegateIdNo,callback:function(e){t.$set(t.thongTinNguoiNopHoSo,"delegateIdNo",e)},expression:"thongTinNguoiNopHoSo.delegateIdNo"}}):t._e(),3===t.originality||"3"===t.originality?a("suggestions",{style:t.thongTinNguoiNopHoSo.sameUser?"pointer-events: none;opacity: 0.7":"",attrs:{options:t.searchOptions,onItemSelected:t.onSearchItemSelected1,onInputChange:t.onInputChange1},scopedSlots:t._u([{key:"item",fn:function(e){return a("div",{staticClass:"single-item"},[a(y["a"],[a(y["c"],{domProps:{innerHTML:t._s(e.item.applicantName)}}),a(y["b"],{domProps:{innerHTML:t._s(e.item.applicantIdNo)}})],1)],1)}}],null,!1,3395392337),model:{value:t.thongTinNguoiNopHoSo.delegateIdNo,callback:function(e){t.$set(t.thongTinNguoiNopHoSo,"delegateIdNo",e)},expression:"thongTinNguoiNopHoSo.delegateIdNo"}}):t._e(),3!==t.originality&&"3"!==t.originality||!t.requiredOptions["delegateIdNo"]||t.applicantIdRequired||t.thongTinNguoiNopHoSo.delegateIdNo?t._e():a("span",{staticStyle:{color:"#ff5252","font-size":"12px"}},[t._v("Thông tin bắt buộc")]),3!==t.originality&&"3"!==t.originality||!t.applicantConfig?t._e():a(O["a"],{attrs:{top:""}},[a(s["a"],{staticClass:"mx-0 my-0",staticStyle:{position:"absolute",top:"0",right:"-5px"},attrs:{slot:"activator",flat:"",icon:"",color:"primary"},on:{click:function(e){return t.showDialogApplicantList("NguoiNop")}},slot:"activator"},[a(C["a"],{attrs:{size:"14"}},[t._v("fas fa fa-address-card")])],1),a("span",[t._v("Danh sách công dân, tổ chức, doanh nghiệp")])],1)],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Họ và tên "),t.requiredOptions["delegateName"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm6:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(k["a"],{attrs:{rules:t.requiredOptions["delegateName"]?[t.rules.required,t.rules.varchar500]:"",required:t.requiredOptions["delegateName"],disabled:t.thongTinNguoiNopHoSo.sameUser},on:{change:function(e){t.thongTinNguoiNopHoSo.delegateName=String(t.thongTinNguoiNopHoSo.delegateName).trim()}},model:{value:t.thongTinNguoiNopHoSo.delegateName,callback:function(e){t.$set(t.thongTinNguoiNopHoSo,"delegateName",e)},expression:"thongTinNguoiNopHoSo.delegateName"}})],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Địa chỉ "),t.requiredOptions["delegateAddress"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm10:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(P["a"],{attrs:{"aria-label":"Địa chỉ chi tiết",rows:"2",rules:t.requiredOptions["delegateAddress"]?[t.rules.required,t.rules.varchar500]:"",required:t.requiredOptions["delegateAddress"],disabled:t.thongTinNguoiNopHoSo.sameUser},on:{change:function(e){t.thongTinNguoiNopHoSo.delegateAddress=String(t.thongTinNguoiNopHoSo.delegateAddress).trim()}},model:{value:t.thongTinNguoiNopHoSo.delegateAddress,callback:function(e){t.$set(t.thongTinNguoiNopHoSo,"delegateAddress",e)},expression:"thongTinNguoiNopHoSo.delegateAddress"}})],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Tỉnh/Thành phố "),t.requiredOptions["delegateCityCode"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(n["a"],{attrs:{"aria-label":"Tỉnh, thành phố","aria-autocomplete":"list","aria-required":"true",items:t.citys,"item-text":"itemName","item-value":"itemCode",rules:t.requiredOptions["delegateCityCode"]?[t.rules.required]:"",required:t.requiredOptions["delegateCityCode"],disabled:t.thongTinNguoiNopHoSo.sameUser,"hide-no-data":""},on:{change:t.onChangeDelegateCity},model:{value:t.thongTinNguoiNopHoSo.delegateCityCode,callback:function(e){t.$set(t.thongTinNguoiNopHoSo,"delegateCityCode",e)},expression:"thongTinNguoiNopHoSo.delegateCityCode"}})],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Quận/Huyện "),t.requiredOptions["delegateDistrictCode"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(n["a"],{attrs:{"aria-label":"Quận, huyện","aria-autocomplete":"list","aria-required":"true",items:t.delegateDistricts,"item-text":"itemName","item-value":"itemCode",rules:t.requiredOptions["delegateDistrictCode"]?[t.rules.required]:"",required:t.requiredOptions["delegateDistrictCode"],disabled:t.thongTinNguoiNopHoSo.sameUser,"hide-no-data":""},on:{change:t.onChangeDelegateDistrict},model:{value:t.thongTinNguoiNopHoSo.delegateDistrictCode,callback:function(e){t.$set(t.thongTinNguoiNopHoSo,"delegateDistrictCode",e)},expression:"thongTinNguoiNopHoSo.delegateDistrictCode"}})],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Xã/Phường "),t.requiredOptions["delegateWardCode"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(n["a"],{attrs:{"aria-label":"Phường, xã","aria-autocomplete":"list","aria-required":"true",items:t.delegateWards,"item-text":"itemName","item-value":"itemCode",rules:t.requiredOptions["delegateWardCode"]?[t.rules.required]:"",required:t.requiredOptions["delegateWardCode"],disabled:t.thongTinNguoiNopHoSo.sameUser,"hide-no-data":""},model:{value:t.thongTinNguoiNopHoSo.delegateWardCode,callback:function(e){t.$set(t.thongTinNguoiNopHoSo,"delegateWardCode",e)},expression:"thongTinNguoiNopHoSo.delegateWardCode"}})],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Số điện thoại "),t.requiredOptions["delegateTelNo"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(k["a"],{attrs:{"aria-label":"Số điện thoại","append-icon":"phone",rules:t.requiredOptions["delegateTelNo"]?[t.rules.telNo,t.rules.required]:[t.rules.telNo],required:t.requiredOptions["delegateTelNo"],disabled:t.thongTinNguoiNopHoSo.sameUser},on:{change:function(e){t.thongTinNguoiNopHoSo.delegateName=String(t.thongTinNguoiNopHoSo.delegateName).trim()}},model:{value:t.thongTinNguoiNopHoSo.delegateTelNo,callback:function(e){t.$set(t.thongTinNguoiNopHoSo,"delegateTelNo",e)},expression:"thongTinNguoiNopHoSo.delegateTelNo"}})],1),a(f["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(E["a"],{staticClass:"pl-0"},[t._v("Địa chỉ email "),t.requiredOptions["delegateEmail"]?a("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e(),t._v(": ")])],1),a(f["a"],{attrs:{xs12:"",sm6:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(k["a"],{attrs:{"aria-label":"Địa chỉ email",rules:t.requiredOptions["delegateEmail"]?[t.rules.email,t.rules.required]:t.thongTinNguoiNopHoSo.delegateEmail?[t.rules.email]:"",required:t.requiredOptions["delegateEmail"],disabled:t.thongTinNguoiNopHoSo.sameUser},on:{change:function(e){t.thongTinNguoiNopHoSo.delegateEmail=String(t.thongTinNguoiNopHoSo.delegateEmail).trim()}},model:{value:t.thongTinNguoiNopHoSo.delegateEmail,callback:function(e){t.$set(t.thongTinNguoiNopHoSo,"delegateEmail",e)},expression:"thongTinNguoiNopHoSo.delegateEmail"}})],1)],1)],1)],1)],1)],1),t.showApplicant?t._e():a("div",{staticClass:"absolute__btn",staticStyle:{width:"200px","margin-top":"4px"}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(c["a"],{staticClass:"mt-1",attrs:{label:"Là chủ hồ sơ"},model:{value:t.thongTinNguoiNopHoSo.sameUser,callback:function(e){t.$set(t.thongTinNguoiNopHoSo,"sameUser",e)},expression:"thongTinNguoiNopHoSo.sameUser"}})],1)],1)],1)])]),a(u["a"],{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog_applicantInfos,callback:function(e){t.dialog_applicantInfos=e},expression:"dialog_applicantInfos"}},[a(r["a"],[a(F["a"],{attrs:{dark:"",color:"primary"}},[a(H["b"],[t._v("Thông tin doanh nghiệp")]),a(A["a"]),a(s["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialog_applicantInfos=!1}}},[a(C["a"],[t._v("close")])],1)],1),a(l["b"],{staticClass:"py-1"},[a(v["a"],{staticClass:"py-1 align-center",attrs:{wrap:""}},[a(f["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2"},[a("span",{staticClass:"text-bold"},[t._v("Tên tổ chức, doanh nghiệp: ")]),a("span",[t._v(t._s(t.applicantInfos.applicantName))])])]),a(f["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2"},[a("span",{staticClass:"text-bold"},[t._v("Mã số thuế: ")]),a("span",[t._v(t._s(t.applicantInfos.applicantIdNo))])])]),a(f["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2"},[a("span",{staticClass:"text-bold"},[t._v("Loại hình doanh nghiệp: ")]),a("span",[t._v(t._s(t.applicantInfos.companyType))])])]),a(f["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2"},[a("span",{staticClass:"text-bold"},[t._v("Địa chỉ:")]),a("span",[t._v(t._s(t.applicantInfos.address))])])]),a(f["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2"},[a("span",{staticClass:"text-bold"},[t._v("Người đại diện: ")]),a("span",[t._v(t._s(t.applicantInfos.representatives))])])]),a(f["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2"},[a("span",{staticClass:"text-bold"},[t._v("Tình trạng: ")]),a("span",[t._v(t._s(t.applicantInfos.companyStatus))])])])],1)],1),a(l["a"],[a(A["a"]),a(s["a"],{staticClass:"mr-3",attrs:{color:"primary"},nativeOn:{click:function(e){t.dialog_applicantInfos=!1}}},[a(C["a"],[t._v("clear")]),t._v("  \n          Thoát\n        ")],1)],1)],1)],1),a(u["a"],{attrs:{scrollable:"",persistent:"","max-width":"1200px"},model:{value:t.dialog_applicantList,callback:function(e){t.dialog_applicantList=e},expression:"dialog_applicantList"}},[a(r["a"],[a(F["a"],{attrs:{dark:"",color:"primary"}},[a(H["b"],[t._v("Danh sách công dân, tổ chức, doanh nghiệp")]),a(A["a"]),a(s["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialog_applicantList=!1}}},[a(C["a"],[t._v("close")])],1)],1),a(l["b"],{staticClass:"py-1"},[a(v["a"],{staticClass:"mt-3",attrs:{wrap:""}},[a(f["a"],{staticClass:"pr-2 input-group--text-field-box",attrs:{xs12:"",sm7:""}},[a(k["a"],{attrs:{label:"Tìm kiếm theo tên người dùng","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchKeyword.apply(null,arguments)},"click:clear":t.clearKeySearch,"click:append":t.searchKeyword},model:{value:t.keySearch,callback:function(e){t.keySearch=e},expression:"keySearch"}})],1),a(f["a"],{staticClass:"pl-2 pr-2",attrs:{xs12:"",sm5:""}},[a("div",{staticStyle:{position:"relative"}},[a(N["a"],{staticClass:"mt-1",attrs:{row:""},on:{change:t.changeTypeSearch},model:{value:t.typeSearch,callback:function(e){t.typeSearch=e},expression:"typeSearch"}},[a(I["a"],{attrs:{label:"Tất cả",value:""}}),a(I["a"],{attrs:{label:"Công dân",value:"citizen"}}),a(I["a"],{attrs:{label:"Doanh nghiệp",value:"business"}}),a(I["a"],{attrs:{label:"Cơ quan, tổ chức",value:"organization"}})],1)],1)])],1),a(d["a"],{staticClass:"table-landing table-bordered",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.applicantListHeader,items:t.applicantLists,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{active:e.index%2==1},staticStyle:{cursor:"pointer"}},[a("td",{staticClass:"text-xs-center",staticStyle:{width:"50px",height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(t.applicantPage*t.numberPerPage-t.numberPerPage+e.index+1))])])],1),a("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.applicantName))])])],1),a("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s("citizen"===e.item.applicantIdType?"Công dân":"business"===e.item.applicantIdType?"Doanh nghiệp":"Cơ quan, tổ chức"))])])],1),a("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.applicantIdNo))])])],1),a("td",{staticClass:"text-xs-left",staticStyle:{height:"36px","min-width":"200px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(t.fullAddress(e.item["address"],e.item["cityName"],e.item["districtName"],e.item["wardName"])))])])],1),a("td",{staticClass:"text-xs-center",staticStyle:{height:"36px",width:"100px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loadingTable?t._e():a(O["a"],{attrs:{top:""}},[a(s["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(a){return t.showEditApplicant(e.item)}},slot:"activator"},[a(C["a"],[t._v("edit")])],1),a("span",[t._v("Sửa thông tin")])],1),t.loadingTable?t._e():a(O["a"],{attrs:{top:""}},[a(s["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(a){return t.bindInfoApplicant(e.item)}},slot:"activator"},[a(C["a"],[t._v("beenhere")])],1),a("span",[t._v("Sử dụng")])],1)],1)])]}}])}),t.totalApplicantSearch>t.numberPerPage?a("div",{staticClass:"my-2"},[a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table px-2"},[a("tiny-pagination",{attrs:{total:t.totalApplicantSearch,page:t.applicantPage,numberPerPage:t.numberPerPage,nameRecord:"người dùng","custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.changePage}})],1)])]):t._e()],1),a(l["a"],[a(A["a"]),a(s["a"],{staticClass:"mr-4",attrs:{color:"primary"},nativeOn:{click:function(e){t.dialog_applicantList=!1}}},[a(C["a"],[t._v("clear")]),t._v("  \n          Thoát\n        ")],1)],1)],1)],1),a(u["a"],{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog_editApplicant,callback:function(e){t.dialog_editApplicant=e},expression:"dialog_editApplicant"}},[a(r["a"],[a(F["a"],{attrs:{dark:"",color:"primary"}},[a(H["b"],[t._v(t._s(t.titleEdit))]),a(A["a"]),a(s["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialog_editApplicant=!1}}},[a(C["a"],[t._v("close")])],1)],1),a(l["b"],{staticClass:"py-1"},[a(_["a"],{ref:"form",staticClass:"py-3 px-0 grid-list",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a(v["a"],{staticClass:"px-0 py-3",attrs:{row:"",wrap:""}},[a(f["a"],{attrs:{xs12:"",sm12:""}},[a(k["a"],{attrs:{box:"",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},on:{change:function(e){t.applicantEdit["applicantName"]=String(t.applicantEdit["applicantName"]).trim()}},model:{value:t.applicantEdit["applicantName"],callback:function(e){t.$set(t.applicantEdit,"applicantName",e)},expression:"applicantEdit['applicantName']"}},[a("template",{slot:"label"},["business"===t.applicantEdit["applicantIdType"]?a("span",[t._v("Tên doanh nghiệp")]):t._e(),"citizen"===t.applicantEdit["applicantIdType"]?a("span",[t._v("Họ tên")]):t._e(),"organization"===t.applicantEdit["applicantIdType"]?a("span",[t._v("Tên cơ quan, tổ chức")]):t._e(),a("span",{staticClass:"red--text darken-3"},[t._v(" *")])])],2)],1),a(f["a"],{attrs:{xs12:"",sm6:""}},[a(k["a"],{staticStyle:{"pointer-events":"none"},attrs:{box:"",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:"",disabled:""},on:{change:function(e){t.applicantEdit["applicantIdNo"]=t.applicantEdit["applicantIdNo"].trim()}},model:{value:t.applicantEdit["applicantIdNo"],callback:function(e){t.$set(t.applicantEdit,"applicantIdNo",e)},expression:"applicantEdit['applicantIdNo']"}},[a("template",{slot:"label"},["business"===t.applicantEdit["applicantIdType"]?a("span",[t._v("Mã số thuế")]):t._e(),"citizen"===t.applicantEdit["applicantIdType"]?a("span",[t._v("Số CMND/ Căn cước")]):t._e(),"organization"===t.applicantEdit["applicantIdType"]?a("span",[t._v("Mã cơ quan, tổ chức")]):t._e(),a("span",{staticClass:"red--text darken-3"},[t._v(" *")])])],2)],1),a(f["a"],{attrs:{xs12:"",sm6:""}},[a(T["a"],{ref:"menuBirthDate",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"fade-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:t.menuBirthDate,callback:function(e){t.menuBirthDate=e},expression:"menuBirthDate"}},[a(k["a"],{attrs:{slot:"activator",box:"","append-icon":"event",label:"Ngày cấp"},on:{change:function(e){t.applicantEdit["applicantIdDate"]=String(t.applicantEdit["applicantIdDate"]).trim()},blur:function(e){t.ngayCap=t.parseDate(t.applicantEdit["applicantIdDate"])}},slot:"activator",model:{value:t.applicantEdit["applicantIdDate"],callback:function(e){t.$set(t.applicantEdit,"applicantIdDate",e)},expression:"applicantEdit['applicantIdDate']"}}),a(p["a"],{ref:"picker",attrs:{min:"1950-01-01",max:t.getMaxdate(),"first-day-of-week":1,locale:"vi","no-title":""},on:{input:t.changeBirthDate},model:{value:t.ngayCap,callback:function(e){t.ngayCap=e},expression:"ngayCap"}})],1)],1),a(f["a"],{attrs:{xs12:"",sm6:""}},[a(k["a"],{attrs:{label:"Số điện thoại",box:""},on:{change:function(e){t.applicantEdit["contactTelNo"]=String(t.applicantEdit["contactTelNo"]).trim()}},model:{value:t.applicantEdit["contactTelNo"],callback:function(e){t.$set(t.applicantEdit,"contactTelNo",e)},expression:"applicantEdit['contactTelNo']"}})],1),a(f["a"],{attrs:{xs12:"",sm6:""}},[a(k["a"],{attrs:{label:"Thư điện tử",box:"",disabled:""},on:{change:function(e){t.applicantEdit["contactEmail"]=String(t.applicantEdit["contactEmail"]).trim()}},model:{value:t.applicantEdit["contactEmail"],callback:function(e){t.$set(t.applicantEdit,"contactEmail",e)},expression:"applicantEdit['contactEmail']"}})],1),a(f["a"],{attrs:{xs12:"",sm12:""}},[a(k["a"],{attrs:{label:"Địa chỉ",box:"",clearable:""},on:{change:function(e){t.applicantEdit["address"]=String(t.applicantEdit["address"]).trim()}},model:{value:t.applicantEdit["address"],callback:function(e){t.$set(t.applicantEdit,"address",e)},expression:"applicantEdit['address']"}})],1),a(f["a"],{attrs:{xs12:"",sm4:""}},[a(n["a"],{attrs:{items:t.cityItems,"hide-no-data":"",label:"Tỉnh/thành phố","item-text":"itemName","item-value":"itemCode","hide-selected":!0,box:""},on:{change:function(e){return t.onChangeCityEditApplicant(e)}},model:{value:t.applicantEdit["cityCode"],callback:function(e){t.$set(t.applicantEdit,"cityCode",e)},expression:"applicantEdit['cityCode']"}})],1),a(f["a"],{attrs:{xs12:"",sm4:""}},[a(n["a"],{attrs:{items:t.districtItems,"hide-no-data":"",label:"Quận/huyện","item-text":"itemName","item-value":"itemCode","hide-selected":!0,box:""},on:{change:function(e){return t.onChangeDistrictEditApplicant(e)}},model:{value:t.applicantEdit["districtCode"],callback:function(e){t.$set(t.applicantEdit,"districtCode",e)},expression:"applicantEdit['districtCode']"}})],1),a(f["a"],{attrs:{xs12:"",sm4:""}},[a(n["a"],{attrs:{label:"Xã/phường","hide-no-data":"",items:t.wardItems,"item-text":"itemName","item-value":"itemCode","hide-selected":!0,box:""},on:{change:function(e){return t.onChangeWardEditApplicant(e)}},model:{value:t.applicantEdit["wardCode"],callback:function(e){t.$set(t.applicantEdit,"wardCode",e)},expression:"applicantEdit['wardCode']"}})],1)],1)],1)],1),a(l["a"],[a(A["a"]),a(s["a"],{staticClass:"mr-2",attrs:{color:"primary"},nativeOn:{click:function(e){return t.exitDialogEditApplicant.apply(null,arguments)}}},[a(C["a"],[t._v("clear")]),t._v("  \n          Thoát\n        ")],1),a(s["a"],{staticClass:"mr-3",attrs:{loading:t.loadingUpdateLgsp,disabled:t.loadingUpdateLgsp,color:"primary"},nativeOn:{click:function(e){return t.updateApplicant.apply(null,arguments)}}},[a(C["a"],[t._v("save")]),t._v("  \n          Cập nhật\n        ")],1)],1)],1)],1),a(u["a"],{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog_create_acc,callback:function(e){t.dialog_create_acc=e},expression:"dialog_create_acc"}},[a(r["a"],[a(F["a"],{attrs:{dark:"",color:"primary"}},[a(H["b"],[t.activeCreateAcc?a("span",[t._v("Tạo tài khoản")]):a("span",[t._v("Thông tin tài khoản")])]),a(A["a"]),a(s["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialog_create_acc=!1}}},[a(C["a"],[t._v("close")])],1)],1),a(l["b"],{staticClass:"py-1"},[t.activeCreateAcc?a(_["a"],{ref:"formCreateAcc",staticClass:"py-3 px-0 grid-list",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a(v["a"],{staticClass:"px-0 py-0",attrs:{row:"",wrap:""}},[a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{label:"business"===t.lgspType?"Mã số thuế doanh nghiệp":"Số CCCD hoặc số CMND",box:"",clearable:"",rules:"business"===t.lgspType?[t.rules.required]:[t.rules.required,t.rules.credit]},model:{value:t.applicantIdNoCreateAcc,callback:function(e){t.applicantIdNoCreateAcc=e},expression:"applicantIdNoCreateAcc"}})],1),a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{label:"Họ và tên",rules:[t.rules.required],box:"",clearable:""},model:{value:t.applicantNameCreateAcc,callback:function(e){t.applicantNameCreateAcc=e},expression:"applicantNameCreateAcc"}})],1),a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{label:"Số điện thoại",rules:[t.rules.required],box:"",clearable:""},model:{value:t.applicantTelNoCreateAcc,callback:function(e){t.applicantTelNoCreateAcc=e},expression:"applicantTelNoCreateAcc"}})],1),a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{label:"Thư điện tử",box:"",clearable:""},model:{value:t.applicantEmailCreateAcc,callback:function(e){t.applicantEmailCreateAcc=e},expression:"applicantEmailCreateAcc"}})],1),a(f["a"],{staticClass:"text-right",attrs:{xs12:""}},[a(s["a"],{staticClass:"mx-0 my-0",attrs:{color:"primary",loading:t.loadingCreateAcc,disabled:t.loadingCreateAcc},on:{click:t.createAccount}},[a(C["a"],{attrs:{size:"20"}},[t._v("add")]),t._v("\n                 \n                Tạo tài khoản\n                "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1)],1)],1):a("div",[a(v["a"],{staticClass:"px-0 py-3",attrs:{row:"",wrap:""}},[a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{label:"business"===t.lgspType?"Mã số thuế doanh nghiệp":"Số CCCD hoặc số CMND",box:"",rules:"business"===t.lgspType?[t.rules.required]:[t.rules.required,t.rules.credit]},model:{value:t.applicantIdNoCreateAcc,callback:function(e){t.applicantIdNoCreateAcc=e},expression:"applicantIdNoCreateAcc"}})],1),a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{label:"Họ và tên",rules:[t.rules.required],box:""},model:{value:t.applicantNameCreateAcc,callback:function(e){t.applicantNameCreateAcc=e},expression:"applicantNameCreateAcc"}})],1),a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{label:"Số điện thoại",rules:[t.rules.required],box:""},model:{value:t.applicantTelNoCreateAcc,callback:function(e){t.applicantTelNoCreateAcc=e},expression:"applicantTelNoCreateAcc"}})],1),a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{label:"Thư điện tử",box:""},model:{value:t.applicantEmailCreateAcc,callback:function(e){t.applicantEmailCreateAcc=e},expression:"applicantEmailCreateAcc"}})],1)],1)],1)],1)],1)],1),a(u["a"],{attrs:{scrollable:"",persistent:"","max-width":"1000px"},model:{value:t.dialog_searchLgsp,callback:function(e){t.dialog_searchLgsp=e},expression:"dialog_searchLgsp"}},[a(r["a"],[a(F["a"],{attrs:{dark:"",color:"primary"}},["business"===t.lgspType?a(H["b"],[t._v("Tra cứu CSDL Quốc Gia về thông tin doanh nghiệp")]):t._e(),"citizen"===t.lgspType?a(H["b"],[t._v("Tra cứu CSDL Quốc Gia về dân cư")]):t._e(),a(A["a"]),a(s["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialog_searchLgsp=!1}}},[a(C["a"],[t._v("close")])],1)],1),a(l["b"],{staticClass:"py-1"},[a(_["a"],{ref:"formLgsp",staticClass:"py-3 px-0 grid-list",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a(v["a"],{staticClass:"px-0 py-0",attrs:{row:"",wrap:""}},[a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{id:"soCanCuocTraCuu",label:"business"===t.lgspType?"Mã số thuế doanh nghiệp":"Số CCCD hoặc số CMND",box:"",clearable:"",rules:"business"===t.lgspType?[t.rules.required]:[t.rules.required,t.rules.credit],autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.genDataQrCode.apply(null,arguments)}},model:{value:t.applicantIdNoLgsp,callback:function(e){t.applicantIdNoLgsp=e},expression:"applicantIdNoLgsp"}})],1),t.dataQrCode?a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{label:"Ngày cấp",box:"",readonly:""},model:{value:t.dataQrCode["ngayCap"],callback:function(e){t.$set(t.dataQrCode,"ngayCap",e)},expression:"dataQrCode['ngayCap']"}})],1):t._e(),"citizen"===t.lgspType?a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{label:"Họ và tên",rules:[t.rules.required],box:"",clearable:""},model:{value:t.applicantNameLgsp,callback:function(e){t.applicantNameLgsp=e},expression:"applicantNameLgsp"}})],1):t._e(),t.dataQrCode?a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{label:"Giới tính",box:"",readonly:""},model:{value:t.dataQrCode["gioiTinh"],callback:function(e){t.$set(t.dataQrCode,"gioiTinh",e)},expression:"dataQrCode['gioiTinh']"}})],1):t._e(),"citizen"===t.lgspType?a(f["a"],{attrs:{xs12:""}},[a(T["a"],{ref:"menuApplicantIdDate",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:t.menuApplicantIdDate,callback:function(e){t.menuApplicantIdDate=e},expression:"menuApplicantIdDate"}},[a(k["a"],{attrs:{slot:"activator",label:"Ngày sinh",rules:[t.rules.required],box:"","append-icon":"event",placeholder:"dd/mm/yyyy",mask:"##/##/####"},on:{blur:function(e){t.ngaysinh=t.parseDate(t.applicantBirthDate)}},slot:"activator",model:{value:t.applicantBirthDate,callback:function(e){t.applicantBirthDate=e},expression:"applicantBirthDate"}}),a(p["a"],{ref:"picker",attrs:{min:"1900-01-01",max:t.getMaxdate(),"first-day-of-week":1,locale:"vi","no-title":""},on:{input:function(e){t.menuApplicantIdDate=!1}},model:{value:t.ngaysinh,callback:function(e){t.ngaysinh=e},expression:"ngaysinh"}})],1)],1):t._e(),t.dataQrCode?a(f["a"],{attrs:{xs12:""}},[a(k["a"],{attrs:{label:"Địa chỉ thường trú",box:"",readonly:""},model:{value:t.dataQrCode["thuongTru"],callback:function(e){t.$set(t.dataQrCode,"thuongTru",e)},expression:"dataQrCode['thuongTru']"}})],1):t._e(),a(f["a"],{staticClass:"text-right",attrs:{xs12:""}},["business"===t.lgspType?a(s["a"],{staticClass:"mx-0 my-0",attrs:{color:"primary",loading:t.loadingSearchLgsp,disabled:t.loadingSearchLgsp},on:{click:t.searchLgspDoanhNghiep}},[a(C["a"],{attrs:{size:"20"}},[t._v("search")]),t._v("\n                 \n                Tra cứu\n                "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1):t._e(),"citizen"===t.lgspType?a(s["a"],{staticClass:"mx-0 my-0",attrs:{color:"primary",loading:t.loadingSearchLgsp,disabled:t.loadingSearchLgsp},on:{click:t.searchLgspCongDan}},[a(C["a"],{attrs:{size:"20"}},[t._v("search")]),t._v("\n                 \n                Tra cứu CSDL dân cư\n                "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Đang tải...")])],1):t._e()],1)],1)],1),a("div",["business"===t.lgspType&&t.applicantLgspInfomation?a("table",{staticClass:"datatable table",staticStyle:{"border-top":"1px solid #dedede"}},[a("tbody",[a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Tên doanh nghiệp")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.NAME))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Mã số thuế")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.ENTERPRISE_GDT_CODE))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Người đại diện")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.FULL_NAME))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Địa chỉ")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.AddressFullText))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Ngày thành lập")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.FOUNDING_DATE))])])]),a("tr",[a("td",{staticClass:"pt-2"},[a("span",{staticClass:"text-bold"},[t._v("Loại hình doanh nghiệp")])]),a("td",{staticClass:"pt-2"},[a("span",{domProps:{innerHTML:t._s(t.applicantLgspInfomation.ENTERPRISE_TYPE_NAME)}})])]),a("tr",[a("td",{staticClass:"pt-2"},[a("span",{staticClass:"text-bold"},[t._v("Tình trạng hoạt động")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.ENTERPRISE_STATUS_NAME))])])])])]):t._e(),t.applicantLgspInfomation&&"business"===t.lgspType?a(f["a"],{staticClass:"text-right my-2",attrs:{xs12:""}},[a(s["a"],{staticClass:"mx-0 my-0",attrs:{color:"primary"},on:{click:t.addApplicantLgsp}},[a(C["a"],{attrs:{size:"20"}},[t._v("save_alt")]),t._v("\n               \n              Lấy thông tin\n            ")],1)],1):t._e(),!1===t.applicantLgspInfomation&&"business"===t.lgspType?a("div",{staticClass:"mx-1 flex mb-3"},["business"===t.lgspType?a(o["a"],{attrs:{outline:"",color:"primary",icon:"priority_high",value:!0}},[t._v("\n              Không có thông tin doanh nghiệp\n            ")]):t._e()],1):t._e(),"citizen"===t.lgspType&&""!==t.applicantLgspInfomation?a("div",{staticClass:"mx-1 flex mb-3"},[a(o["a"],{attrs:{outline:"",color:t.lgspAlertColor,icon:"warning",value:!0}},[t._v("\n              "+t._s(t.messageLgsp)+"\n            ")])],1):t._e(),"citizen"===t.lgspType&&t.applicantLgspInfomation&&"green"==t.lgspAlertColor?a(v["a"],{attrs:{wrap:""}},[a(f["a"],{staticClass:"pr-2",attrs:{xs12:"",md6:""}},[a("div",[a("table",{staticClass:"datatable table my-3",staticStyle:{"border-top":"1px solid #dedede"}},[a("tbody",[a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Họ và tên công dân")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.HoVaTen.Ten))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Số định danh cá nhân/ CCCD")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.SoDinhDanh))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Số chứng minh nhân dân")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.SoCMND))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Ngày sinh")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.formatNgaySinh(t.applicantLgspInfomation.NgayThangNamSinh.NgayThangNam)))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Giới tính")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s("1"==t.applicantLgspInfomation.GioiTinh?"Nam":"2"==t.applicantLgspInfomation.GioiTinh?"Nữ":"Chưa có thông tin"))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Quốc tịch")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s("VN"==t.applicantLgspInfomation.QuocTich?"Việt Nam":t.applicantLgspInfomation.QuocTich))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Dân tộc")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.getTenDanhMuc(t.applicantLgspInfomation.DanToc,"dantoc")))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Tôn giáo")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.getTenDanhMuc(t.applicantLgspInfomation.TonGiao,"tongiao")))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Địa chỉ thường trú")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.ThuongTru.ChiTiet))]),a("span",[t._v(", "+t._s(t.diaChiThuongTruTraCuuQr))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Nơi ở hiện tại")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.noiOHienTaiTraCuuQr))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Nhóm máu")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.getNhomMau(t.applicantLgspInfomation.NhomMau)))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Tình trạng hôn nhân")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.getTinhTrangHonNhan(t.applicantLgspInfomation.TinhTrangHonNhan)))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Họ và tên vợ/ chồng")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.VoChong.HoVaTen))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Quốc tịch")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s("VN"==t.applicantLgspInfomation.VoChong.QuocTich?"Việt Nam":t.applicantLgspInfomation.VoChong.QuocTich))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Số định danh cá nhân/ CCCD")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.VoChong.SoDinhDanh))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Số chứng minh nhân dân")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.VoChong.SoCMND))])])])])])])]),a(f["a"],{staticClass:"pl-2",attrs:{xs12:"",md6:""}},[a("div",[a("table",{staticClass:"datatable table my-3",staticStyle:{"border-top":"1px solid #dedede"}},[a("tbody",[a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Số sổ hộ khẩu")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.SoSoHoKhau))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Chủ hộ")])]),a("td",{staticClass:"pt-2"},[a("p",[t._v(t._s(t.applicantLgspInfomation.ChuHo.HoVaTen))]),a("p",[t._v("Quan hệ: "+t._s(t.applicantLgspInfomation.ChuHo.QuanHe))]),a("p",[t._v("Số CMND: "+t._s(t.applicantLgspInfomation.ChuHo.SoCMND))]),a("p",[t._v("Số định danh: "+t._s(t.applicantLgspInfomation.ChuHo.SoDinhDanh))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Họ và tên cha")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.Cha.HoVaTen))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Quốc tịch")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s("VN"==t.applicantLgspInfomation.Cha.QuocTich?"Việt Nam":t.applicantLgspInfomation.Cha.QuocTich))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Số định danh cá nhân/ CCCD")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.Cha.SoDinhDanh))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Số chứng minh nhân dân")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.Cha.SoCMND))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Họ và tên mẹ")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.Me.HoVaTen))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Quốc tịch")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s("VN"==t.applicantLgspInfomation.Me.QuocTich?"Việt Nam":t.applicantLgspInfomation.Me.QuocTich))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Số định danh cá nhân/ CCCD")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.Me.SoDinhDanh))])])]),a("tr",[a("td",{staticClass:"pt-2",attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Số chứng minh nhân dân")])]),a("td",{staticClass:"pt-2"},[a("span",[t._v(t._s(t.applicantLgspInfomation.Me.SoCMND))])])])])])])])],1):t._e(),t.applicantLgspInfomation&&"citizen"===t.lgspType?a(f["a"],{staticClass:"text-right my-2",attrs:{xs12:""}},[t.applicantLgspInfomation&&"citizen"===t.lgspType?a(s["a"],{staticClass:"mx-0 my-0 mr-2",attrs:{color:"primary"},on:{click:t.addApplicantLgsp}},[a(C["a"],{attrs:{size:"20"}},[t._v("save_alt")]),t._v("\n               \n              Lấy thông tin\n            ")],1):t._e(),a(s["a"],{staticClass:"mx-0 my-0 white--text",attrs:{color:"primary"},on:{click:function(e){t.dialog_searchLgsp=!1}}},[a(C["a"],{staticClass:"white--text",attrs:{size:"20"}},[t._v("clear")]),t._v("\n               \n              Đóng\n            ")],1)],1):t._e()],1)],1)],1)],1)],1)},M=[],V=a("bc3a"),K=a.n(V),U=a("c4f6"),R=a.n(U),B=a("854a"),q=a.n(B),W=a("e722"),z=a("bbd0");function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function Q(t,e,a){return e=j(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function j(t){var e=Y(t,"string");return"symbol"===G(e)?e:String(e)}function Y(t,e){if("object"!==G(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||"default");if("object"!==G(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function X(t,e){return at(t)||et(t,e)||Z(t,e)||J()}function J(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z(t,e){if(t){if("string"===typeof t)return tt(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?tt(t,e):void 0}}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function et(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i,o,n,s,r=[],l=!0,c=!1;try{if(n=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;l=!1}else for(;!(l=(i=n.call(a)).done)&&(r.push(i.value),r.length!==e);l=!0);}catch(d){c=!0,o=d}finally{try{if(!l&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(c)throw o}}return r}}function at(t){if(Array.isArray(t))return t}q.a.options={closeButton:!0,timeOut:"5000",positionClass:"toast-top-center"};var it={components:{suggestions:R.a,"tiny-pagination":W["a"]},props:["requiredConfig","showApplicant","showDelegate","formCode","applicantIdRequired","detailDossier"],data:function(){return{danhmuctongiao:z.danhmuctongiao,danhmucdantoc:z.danhmucdantoc,dialog_aiIdentify:!1,step:1,user:[],validateSameApplicantIdNo:!1,sameApplicantIdNo:"",checkDelegateIdNo:!1,checkApplicantId:!1,requiredOptions:{applicantIdNo:!0,applicantName:!0,address:!0,cityCode:!0,districtCode:!0,wardCode:!0,contactTelNo:!0,contactEmail:!1,delegateIdNo:!0,delegateName:!0,delegateAddress:!0,delegateCityCode:!0,delegateDistrictCode:!0,delegateWardCode:!0,delegateTelNo:!0,delegateEmail:!1},valid_thongtinchuhoso:!1,loadingVerify:!1,citys:z.danhMucTinhThanh,delegateDistricts:[],districts:[],delegateWards:[],wards:[],applicantItems:[],applicantItems2:[],applicantIdNo:"",applicantLists:[],applicantListHeader:[{text:"STT",align:"center",sortable:!1},{text:"Tên công dân, tổ chức, doanh nghiệp",align:"center",sortable:!1},{text:"Loại thông tin người dùng",align:"center",sortable:!1},{text:"Số CMND/ căn cước, mã tổ chức, doanh nghiệp",align:"center",sortable:!1},{text:"Địa chỉ",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}],labelSwitch:{1:{cmtnd:"CCCD/ CMND/ Hộ chiếu",nguoi_nop:"Họ và tên"},2:{cmtnd:"Mã số thuế",nguoi_nop:"Tên tổ chức, doanh nghiệp"}},thongTinChuHoSo:{userType:"1",cityCode:"",districtCode:"",wardCode:"",applicantIdNo:"",applicantIdType:"",contactEmail:"",contactTelNo:"",contactName:"",address:"",applicantName:""},thongTinNguoiNopHoSo:{sameUser:!1,delegateName:"",delegateCityCode:"",delegateAddress:"",delegateDistrictCode:"",delegateWardCode:"",delegateEmail:"",delegateTelNo:"",delegateIdNo:""},applicantInfos:{applicantName:"",applicantIdNo:"",companyType:"",companyStatus:"",address:"",representatives:""},numberPerPage:10,applicantPage:1,totalApplicantSearch:0,bussinessExits:!1,validBussinessInfos:!0,messageCheckApplicant:"",search:null,search2:null,searchQuery:"",selectedSearchItem:null,searchOptions:{},functionTimeOut:null,functionTimeOutApplicant:!1,dialog_applicantInfos:!1,dialog_applicantList:!1,applicantConfig:!1,titleEdit:"Thông tin công dân, tổ chức, doanh nghiệp",applicantEdit:"",dialog_editApplicant:!1,dialog_aiSearch:!1,isCameraOpen:!1,hasPhoto:!1,disabled:!0,loadingDialogInfo:!1,dialog_identifyConfirm:!1,diaChiThuongTruTraCuuQr:"",noiOHienTaiTraCuuQr:"",danTocTraCuuQr:"",dataQrCode:"",rules:{required:function(t){return!!t||"Thông tin bắt buộc"},cmndHoChieu:function(t){var e=/^(?![0-9]{4,12})[0-9a-zA-Z]{4,12}$/;return e.test(t)||"Gồm các ký tự 0-9, a-z và ít nhất 4-12 ký tự"},email:function(t){t=t.trim();var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Địa chỉ Email không hợp lệ"},passWord:function(t){var e=/^(?![0-9]{6,})[0-9a-zA-Z]{6,}$/;return e.test(t)||"Gồm các ký tự 0-9, a-z và ít nhất 6 ký tự"},telNo:function(t){var e=/^([0-9]{0,})$/;return"string"===typeof t&&(t=t.trim()),e.test(t)||"Gồm các ký tự 0-9"},credit:function(t){if(t){if(9===t.length){var e=/^(([0-9]{9,9}))$/;return e.test(t)||"Số CCCD, số CMND gồm 9 hoặc 12 ký tự 0-9"}var a=/^(([0-9]{12,12}))$/;return a.test(t)||"Số CCCD, số CMND gồm 9 hoặc 12 ký tự 0-9"}return!0},varchar50:function(t){return!t||(t=String(t).trim(),t.length<=50||"Không được nhập quá 50 ký tự")},varchar100:function(t){return!t||(t=String(t).trim(),t.length<=100||"Không được nhập quá 100 ký tự")},varchar255:function(t){return!t||(t=String(t).trim(),t.length<=255||"Không được nhập quá 255 ký tự")},varchar500:function(t){return!t||(t=String(t).trim(),t.length<=500||"Không được nhập quá 500 ký tự")},varchar5000:function(t){return!t||(t=String(t).trim(),t.length<=5e3||"Không được nhập quá 5000 ký tự")}},typeSearch:"",keySearch:"",menuBirthDate:!1,ngayCap:null,toDateFormatted:null,cityItems:[],districtItems:[],wardItems:[],valid:!1,loadingTable:!1,hasOrganization:!1,traCuuLgsp:!1,statusAccount:"",applicantIdNoCreateAcc:"",applicantNameCreateAcc:"",applicantEmailCreateAcc:"",applicantTelNoCreateAcc:"",dialog_create_acc:!1,dialog_searchLgsp:!1,loadingCheckAcc:!1,activeCreateAcc:!1,loadingSearchLgsp:!1,loadingCreateAcc:!1,loadingUpdateLgsp:!1,applicantIdNoLgsp:"",applicantNameLgsp:"",applicantBirthDate:null,ngaysinh:null,menuApplicantIdDate:!1,applicantLgspInfomation:"",defaultCityCode:!1,traCuuLgspCongDan:!1,traCuuLgspDoanhNghiep:!1,traCuuAI:!1,checkAccSso:!1,lgspType:"business",warningLgsp:!1,messageLgsp:"",lgspAlertColor:"primary",userSsoInfo:"",quyenTraCuuLgsp:!1,serviceCheckCsdldc:"",disableEditApplicant:!1,SCAN_QR_CCCD:!1}},computed:{loading:function(){return this.$store.getters.loading},forGroupDossier:function(){return this.$store.getters.getForGroupDossier},originality:function(){var t=this;return t.getOriginality()},viaPostal:function(){return this.$store.getters.viaPostal},dichVuChuyenPhatKetQua:function(){return this.$store.getters.dichVuChuyenPhatKetQua},ThongTinChuHoSoBindChuyenPhat:function(){var t={cityCode:this.thongTinChuHoSo.cityCode,address:this.thongTinChuHoSo.address,districtCode:this.thongTinChuHoSo.districtCode,wardCode:this.thongTinChuHoSo.wardCode,contactTelNo:this.thongTinChuHoSo.contactTelNo};return t},userLoginInfomation:function(){return this.$store.getters.getUserLogin}},created:function(){var t=this;try{t.disableEditApplicant=disableEditApplicant}catch(e){}try{t.traCuuLgspCongDan=traCuuLgspCongDan}catch(e){}try{t.SCAN_QR_CCCD=SCAN_QR_CCCD}catch(e){}try{t.traCuuLgspDoanhNghiep=traCuuLgspDoanhNghiep}catch(e){}try{t.checkAccSso=checkAccSso}catch(e){}try{t.traCuuAI=truCuuAi}catch(e){}try{t.validateSameApplicantIdNo=checkTrungChuHoSo}catch(e){}try{t.defaultCityCode=defaultCityCode}catch(e){}try{t.applicantConfig=applicantConfig}catch(e){}try{t.hasOrganization=hasOrganization}catch(e){}if("NEW"===t.formCode)try{t.thongTinNguoiNopHoSo.sameUser=applicantSameDelegate}catch(e){}t.hasOrganization&&(t.labelSwitch={1:{cmtnd:"CCCD/ CMND/ Hộ chiếu",nguoi_nop:"Họ và tên"},2:{cmtnd:"Mã số thuế",nguoi_nop:"Tên doanh nghiệp"},3:{cmtnd:"Mã cơ quan, tổ chức",nguoi_nop:"Tên cơ quan, tổ chức"}});try{requiredOptionConfig&&(t.requiredOptions=Object.assign(t.requiredOptions,requiredOptionConfig))}catch(e){}t.requiredConfig&&t.requiredConfig["applicant"]&&(t.requiredOptions=Object.assign(t.requiredOptions,t.requiredConfig["applicant"])),t.$store.dispatch("checkLgsp").then((function(e){t.traCuuLgsp=!!(e&&e.hasOwnProperty("enabled")&&e.enabled)})).catch((function(e){t.traCuuLgsp=!1}))},watch:{thongTinChuHoSo:{handler:function(t){var e=this;t["applicantIdNo"]=String(t["applicantIdNo"]).trim(),t.applicantIdNo||(e.checkApplicantId=!0),e.$store.commit("setThongTinChuHoSo",t);var a={delegateName:t.applicantName,delegateCityCode:t.cityCode,delegateAddress:t.address,delegateDistrictCode:t.districtCode,delegateWardCode:t.wardCode,delegateEmail:t.contactEmail,delegateTelNo:t.contactTelNo,delegateIdNo:t.applicantIdNo};e.thongTinNguoiNopHoSo.sameUser&&(t.cityCode&&t.cityCode!==e.thongTinNguoiNopHoSo["delegateCityCode"]&&e.onChangeDelegateCity(t.cityCode),t.districtCode&&t.districtCode!==e.thongTinNguoiNopHoSo["delegateDistrictCode"]&&e.onChangeDelegateDistrict(t.districtCode),e.thongTinNguoiNopHoSo=Object.assign(e.thongTinNguoiNopHoSo,a))},deep:!0},thongTinNguoiNopHoSo:{handler:function(t){var e=this,a=e.thongTinChuHoSo;if(t["delegateIdNo"]=String(t["delegateIdNo"]).trim(),t.delegateIdNo||(e.checkDelegateIdNo=!0),t.sameUser){var i={delegateName:a.applicantName,delegateCityCode:a.cityCode,delegateAddress:a.address,delegateDistrictCode:a.districtCode,delegateWardCode:a.wardCode,delegateEmail:a.contactEmail,delegateTelNo:a.contactTelNo,delegateIdNo:a.applicantIdNo};a.cityCode&&a.cityCode!==e.thongTinNguoiNopHoSo["delegateCityCode"]&&e.onChangeDelegateCity(a.cityCode),a.districtCode&&a.districtCode!==e.thongTinNguoiNopHoSo["delegateDistrictCode"]&&e.onChangeDelegateDistrict(a.districtCode),e.thongTinNguoiNopHoSo=Object.assign(e.thongTinNguoiNopHoSo,i)}else this.$store.dispatch("resetThongTinNguoiNopHoSo")},deep:!0},ThongTinChuHoSoBindChuyenPhat:function(t){this.$store.commit("setThongTinChuHoSoBindChuyenPhat",t)},search:function(t){t&&this.querySelections(t)},search2:function(t){t&&this.querySelections2(t)},typeSearch:function(t){var e=this;""===t?(e.applicantListHeader[1].text="Tên công dân, tổ chức, doanh nghiệp",e.applicantListHeader[3].text="Số CMND/ căn cước, mã số thuế doanh nghiệp"):"citizen"===t?(e.applicantListHeader[1].text="Tên công dân",e.applicantListHeader[3].text="Số CMND/ căn cước"):"business"===t?(e.applicantListHeader[1].text="Tên doanh nghiệp",e.applicantListHeader[3].text="Mã số thuế doanh nghiệp"):(e.applicantListHeader[1].text="Tên cơ quan, tổ chức",e.applicantListHeader[3].text="Mã cơ quan, tổ chức")},ngayCap:function(t){this.toDateFormatted=this.formatDate(t),this.applicantEdit["applicantIdDate"]=this.toDateFormatted},ngaysinh:function(t){this.applicantBirthDate=this.formatDate(t)},menuApplicantIdDate:function(t){var e=this;t&&this.$nextTick((function(){return e.$refs.picker.activePicker="YEAR"}))}},methods:(i={changeSuggess:function(t){},initData:function(t){var e=this;e.$store.commit("setApplicantId",t.applicantIdNo);var a={delegateName:t.delegateName,delegateCityCode:t.delegateCityCode,delegateAddress:t.delegateAddress,delegateDistrictCode:t.delegateDistrictCode,delegateWardCode:t.delegateWardCode,delegateEmail:t.delegateEmail,delegateTelNo:t.delegateTelNo,delegateIdNo:t.delegateIdNo},i=Object.assign(e.thongTinNguoiNopHoSo,a);e.thongTinNguoiNopHoSo=i;var o="1";"business"===t.applicantIdType?o="2":"organization"===t.applicantIdType&&(o="3");var n={userType:o,cityCode:t.cityCode,districtCode:t.districtCode,wardCode:t.wardCode,applicantIdNo:t.applicantIdNo,applicantIdType:t.applicantIdType,contactEmail:t.contactEmail,contactName:t.contactName,contactTelNo:t.contactTelNo,address:t.address,applicantName:t.applicantName,cityName:t.cityName,districtName:t.districtName,wardName:t.wardName},s=Object.assign(e.thongTinChuHoSo,n);if(e.thongTinChuHoSo=s,e.checkApplicantInfos(),e.$nextTick((function(){"NEW"===e.formCode&&!s["cityCode"]&&e.defaultCityCode&&(e.thongTinChuHoSo["cityCode"]=e.defaultCityCode?e.defaultCityCode:"",e.thongTinChuHoSo["cityName"]=defaultCityName||""),(t.cityCode||e.defaultCityCode)&&e.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t.cityCode?t.cityCode:e.defaultCityCode}).then((function(t){e.districts=t.data})),t.districtCode&&e.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t.districtCode}).then((function(t){e.wards=t.data})),t.delegateCityCode&&e.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t.delegateCityCode}).then((function(t){e.delegateDistricts=t.data})),t.delegateDistrictCode&&e.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t.delegateDistrictCode}).then((function(t){e.delegateWards=t.data}))})),e.$refs.formChuHoSo.resetValidation(),e.traCuuLgspCongDan&&3==e.originality){var r=!1,l={serviceCode:t.serviceCode};try{r=checkThuTucTraCuuCsdlConfig}catch(c){}r&&(l={serviceCode:t.serviceCode,isServiceCode:r}),e.$store.dispatch("checkRoleSearchLgsp",l).then((function(t){e.quyenTraCuuLgsp=!0,t.hasOwnProperty("serviceCode")&&(e.quyenTraCuuLgsp=t.serviceCode),t.hasOwnProperty("serviceDvcqg")&&(e.serviceCheckCsdldc=t.serviceDvcqg)})).catch((function(t){e.quyenTraCuuLgsp=!1}))}},onChangeCity:function(t,e){var a=this;try{a.thongTinChuHoSo.cityName=a.citys.filter((function(e){return e["itemCode"]==t}))[0]["itemName"]}catch(o){a.thongTinChuHoSo.cityName=""}var i={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t};e||(a.thongTinChuHoSo.districtCode="",a.thongTinChuHoSo.wardCode="",a.thongTinChuHoSo.districtName="",a.thongTinChuHoSo.wardName="",a.$store.commit("setCityVal",t)),a.$store.getters.getDictItems(i).then((function(t){e||(a.districts=t.data,a.wards=[]),(e||a.thongTinNguoiNopHoSo.sameUser||!a.thongTinNguoiNopHoSo.sameUser&&a.showApplicant&&!a.showDelegate)&&(a.delegateDistricts=t.data,a.delegateWards=[])}))},onChangeDistrict:function(t,e){var a=this;try{a.thongTinChuHoSo.districtName=a.districts.filter((function(e){return e["itemCode"]==t}))[0]["itemName"]}catch(o){a.thongTinChuHoSo.districtName=""}var i={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t};e||(a.thongTinChuHoSo.wardCode="",a.thongTinChuHoSo.wardName="",a.$store.commit("setDistrictVal",t)),a.$store.getters.getDictItems(i).then((function(t){e||(a.wards=t.data),(e||a.thongTinNguoiNopHoSo.sameUser||!a.thongTinNguoiNopHoSo.sameUser&&a.showApplicant&&!a.showDelegate)&&(a.delegateWards=t.data)}))},onChangeWard:function(t){var e=this;try{e.thongTinChuHoSo.wardName=e.wards.filter((function(e){return e["itemCode"]==t}))[0]["itemName"]}catch(a){e.thongTinChuHoSo.wardName=""}this.$store.commit("setWardVal",t)},querySelections:function(t){var e=this,a={idNo:t};e.$store.dispatch("getUserInfoFromApplicantIdNo",a).then((function(t){e.applicantItems=t})).catch((function(t){}))},querySelections2:function(t){var e=this,a={idNo:t};e.$store.dispatch("getUserInfoFromApplicantIdNo",a).then((function(t){e.applicantItems2=t})).catch((function(t){}))},onChangeDelegateCity:function(t){var e=this;e.thongTinNguoiNopHoSo.delegateDistrictCode="",e.thongTinNguoiNopHoSo.delegateWardCode="";var a={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t};e.$store.getters.getDictItems(a).then((function(t){e.delegateDistricts=t.data,e.thongTinNguoiNopHoSo.sameUser&&(e.districts=t.data)}))},showValid:function(){var t=this,e=!0;t.requiredOptions["applicantIdNo"]&&!t.thongTinChuHoSo.applicantIdNo&&(e=!1),1===t.originality||t.showDelegate||!t.requiredOptions["delegateIdNo"]||t.thongTinNguoiNopHoSo.delegateIdNo||(e=!1);var a={validForm:t.$refs.formChuHoSo.validate()&&e,message:t.messageCheckApplicant,validApplicant:t.validBussinessInfos,applicantIdRequired:e};return a},onChangeDelegateDistrict:function(t){var e=this;e.thongTinNguoiNopHoSo.delegateWardCode="";var a={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t};e.$store.getters.getDictItems(a).then((function(t){e.delegateWards=t.data,e.thongTinNguoiNopHoSo.sameUser&&(e.wards=t.data)}))},onInputChange:function(t){var e=this;if(e.thongTinChuHoSo.applicantIdNo=t.trim(),e.functionTimeOut&&clearTimeout(e.functionTimeOut),e.functionTimeOut=setTimeout((function(){3===e.originality&&e.checkApplicantInfos(),e.$store.commit("setApplicantId",t)}),2e3),0===t.trim().length)return e.thongTinChuHoSo.applicantIdNo="",null;var a="/o/rest/v2/applicants?start=0&end=10&idNo=".concat(t);return new Promise((function(t){e.$store.dispatch("loadInitResource").then((function(e){var i={headers:{}};K.a.get(a,i).then((function(e){var a=[];e.data.hasOwnProperty("data")&&(a=e.data.data),t(a)}))}))}))},onInputChange1:function(t){var e=this;if(e.thongTinNguoiNopHoSo.delegateIdNo=t.trim(),0===t.trim().length)return e.thongTinNguoiNopHoSo.delegateIdNo="",null;var a="/o/rest/v2/applicants?start=0&end=10&idNo=".concat(t);return new Promise((function(t){e.$store.dispatch("loadInitResource").then((function(e){var i={headers:{}};K.a.get(a,i).then((function(e){var a=[];e.data.hasOwnProperty("data")&&(a=e.data.data),t(a)}))}))}))},onSearchItemSelected:function(t){var e=this;function a(t){return new Promise((function(a,i){setTimeout((function(){e.onChangeCity(t),a()}),Math.floor(100*Math.random())+1)}))}function i(t){return new Promise((function(a,i){setTimeout((function(){e.onChangeDistrict(t),a()}),Math.floor(100*Math.random())+1)}))}e.selectedSearchItem=t,"business"===t["applicantIdType"]?e.thongTinChuHoSo.userType="2":"citizen"===t["applicantIdType"]?e.thongTinChuHoSo.userType="1":e.thongTinChuHoSo.userType="3",e.thongTinChuHoSo["applicantIdNo"]=t.applicantIdNo.toString(),e.thongTinChuHoSo["applicantName"]=t["applicantName"]?t["applicantName"]:"",e.thongTinChuHoSo["address"]=t["address"]?t["address"]:"",e.thongTinChuHoSo["contactTelNo"]=t["contactTelNo"]?t["contactTelNo"]:"",e.thongTinChuHoSo["contactEmail"]=t["contactEmail"]?t["contactEmail"]:"",e.thongTinChuHoSo.cityCode=t["cityCode"]?t["cityCode"]:"",e.functionTimeOut&&clearTimeout(e.functionTimeOut),setTimeout((function(){e.$store.commit("setApplicantId",e.thongTinChuHoSo["applicantIdNo"]),e.checkApplicantInfos()}),2e3),""!==e.thongTinChuHoSo["cityCode"]&&null!==e.thongTinChuHoSo["cityCode"]&&void 0!==e.thongTinChuHoSo["cityCode"]&&0!==e.thongTinChuHoSo["cityCode"]&&"0"!==e.thongTinChuHoSo["cityCode"]&&a(e.thongTinChuHoSo["cityCode"]).then((function(){e.thongTinChuHoSo.districtCode=t["districtCode"]?t["districtCode"]:"",""!==e.thongTinChuHoSo["districtCode"]&&null!==e.thongTinChuHoSo["districtCode"]&&void 0!==e.thongTinChuHoSo["districtCode"]&&0!==e.thongTinChuHoSo["districtCode"]&&"0"!==e.thongTinChuHoSo["districtCode"]&&i(e.thongTinChuHoSo["districtCode"]).then((function(){e.thongTinChuHoSo.wardCode=t["wardCode"]?t["wardCode"]:""}))}))},onSearchItemSelected1:function(t){var e=this;function a(t){return new Promise((function(a,i){setTimeout((function(){e.onChangeCity(t,"true"),a()}),Math.floor(100*Math.random())+1)}))}function i(t){return new Promise((function(a,i){setTimeout((function(){e.onChangeDistrict(t,"true"),a()}),Math.floor(100*Math.random())+1)}))}e.selectedSearchItem=t,e.thongTinNguoiNopHoSo["delegateIdNo"]=t.applicantIdNo.toString(),e.thongTinNguoiNopHoSo["delegateName"]=t["applicantName"]?t["applicantName"]:"",e.thongTinNguoiNopHoSo["delegateAddress"]=t["address"]?t["address"]:"",e.thongTinNguoiNopHoSo["delegateTelNo"]=t["contactTelNo"]?t["contactTelNo"]:"",e.thongTinNguoiNopHoSo["delegateEmail"]=t["contactEmail"]?t["contactEmail"]:"",e.thongTinNguoiNopHoSo["delegateCityCode"]=t["cityCode"]?t["cityCode"]:"",e.thongTinNguoiNopHoSo["delegateCityCode"]&&"0"!==e.thongTinNguoiNopHoSo["delegateCityCode"]&&a(e.thongTinNguoiNopHoSo["delegateCityCode"]).then((function(){e.thongTinNguoiNopHoSo["delegateDistrictCode"]=t["districtCode"]?t["districtCode"]:"",e.thongTinNguoiNopHoSo["delegateDistrictCode"]&&"0"!==e.thongTinNguoiNopHoSo["delegateDistrictCode"]&&i(e.thongTinNguoiNopHoSo["delegateDistrictCode"]).then((function(){e.thongTinNguoiNopHoSo["delegateWardCode"]=t["wardCode"]?t["wardCode"]:""}))}))},getThongTinChuHoSo:function(){return this.thongTinChuHoSo},getThongTinNguoiNopHoSo:function(){return this.thongTinNguoiNopHoSo},changeApplicantInfos:function(){var t=this;t.functionTimeOut&&clearTimeout(t.functionTimeOut),t.functionTimeOut=setTimeout((function(){3===t.originality&&t.checkApplicantInfos(),t.$store.commit("setApplicantId",t.thongTinChuHoSo.applicantIdNo)}),2e3)},checkApplicantInfos:function(){var t=this;if(t.validateSameApplicantIdNo&&3===t.originality&&t.thongTinChuHoSo.applicantIdNo){var e={applicantIdNo:t.thongTinChuHoSo.applicantIdNo,status:"new,waiting,processing"};t.$store.dispatch("getDossiers",e).then((function(e){var a=e.filter((function(e){return e.applicantIdNo==t.thongTinChuHoSo.applicantIdNo}));if(a.length>0){var i=a.map((function(t){return t.dossierNo})).join(",");t.sameApplicantIdNo=i}else t.sameApplicantIdNo=""}))}},getApplicantInfos:function(){var t=this,e={applicantIdNo:t.thongTinChuHoSo.applicantIdNo};t.$store.dispatch("getApplicantInfos",e).then((function(e){t.applicantInfos["applicantName"]=e["MainInformation"]["NAME"],t.applicantInfos["applicantIdNo"]=e["MainInformation"]["ENTERPRISE_GDT_CODE"],t.applicantInfos["address"]=e["HOAdress"]["AddressFullText"],t.applicantInfos["representatives"]=e["Representatives"]["FULL_NAME"],t.applicantInfos["companyType"]=e["MainInformation"]["ENTERPRISE_TYPE_NAME"],t.applicantInfos["companyStatus"]=e["MainInformation"]["ENTERPRISE_STATUS_NAME"],t.dialog_applicantInfos=!0}))},getApplicantList:function(){var t=this,e="/o/rest/v2/applicants";return t.loadingTable=!0,new Promise((function(a){t.$store.dispatch("loadInitResource").then((function(i){var o={headers:{},params:{start:t.applicantPage*t.numberPerPage-t.numberPerPage,end:t.applicantPage*t.numberPerPage,type:t.typeSearch,applicantName:t.keySearch}};K.a.get(e,o).then((function(e){var i=[];e.data.hasOwnProperty("data")&&(i=e.data.data);var o={data:i,total:e.data["total"]};t.loadingTable=!1,a(o)})).catch((function(){t.loadingTable=!1}))}))}))},showDialogApplicantList:function(t){var e=this;e.typeApplicantBind=t,e.applicantPage=1,e.getApplicantList().then((function(t){e.totalApplicantSearch=t["total"],e.applicantLists=t["data"],e.dialog_applicantList=!0})).catch((function(){q.a.error("Không lấy được danh sách công dân, tổ chức, doanh nghiệp")}))},searchKeyword:function(){var t=this;setTimeout((function(){String(t.keySearch).length>=3&&(t.applicantPage=1,t.getApplicantList().then((function(e){t.totalApplicantSearch=e["total"],t.applicantLists=e["data"]})).catch((function(){})))}),200)},clearKeySearch:function(){var t=this;t.keySearch="",setTimeout((function(){t.applicantPage=1,t.getApplicantList().then((function(e){t.totalApplicantSearch=e["total"],t.applicantLists=e["data"]})).catch((function(){}))}),200)},changeTypeSearch:function(){var t=this;setTimeout((function(){t.applicantPage=1,t.getApplicantList().then((function(e){t.totalApplicantSearch=e["total"],t.applicantLists=e["data"]})).catch((function(){}))}),200)},changePage:function(t){var e=this;e.applicantPage=t.page,e.getApplicantList().then((function(t){e.totalApplicantSearch=t["total"],e.applicantLists=t["data"]})).catch((function(){}))},bindInfoApplicant:function(t){var e=this;"ChuHoSo"===e.typeApplicantBind?e.onSearchItemSelected(t):"NguoiNop"===e.typeApplicantBind&&e.onSearchItemSelected1(t),e.dialog_applicantList=!1},showEditApplicant:function(t){var e=this;if(e.applicantEdit=t,0===e.cityItems.length){var a={collectionCode:"ADMINISTRATIVE_REGION",level:0,parent:0,commit:""};e.$store.dispatch("loadDictItems",a).then((function(t){e.cityItems=t.data}))}e.applicantEdit["cityCode"]&&e.$store.dispatch("loadDictItems",{collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e.applicantEdit["cityCode"]}).then((function(t){e.districtItems=t.data})),e.applicantEdit["districtCode"]&&e.$store.dispatch("loadDictItems",{collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e.applicantEdit["districtCode"]}).then((function(t){e.wardItems=t.data})),"citizen"===e.applicantEdit["applicantIdType"]?e.titleEdit="Thông tin công dân":"business"===e.applicantEdit["applicantIdType"]&&(e.titleEdit="Thông tin tổ chức, doanh nghiệp"),e.dialog_editApplicant=!0,e.$refs.form.resetValidation()},changeBirthDate:function(){var t=this;t.menuBirthDate=!1,t.applicantEdit["applicantIdDate"]=t.formatDate(t.ngayCap)},formatDate:function(t){if(!t)return null;var e=t.split("-"),a=X(e,3),i=a[0],o=a[1],n=a[2];return"".concat(n,"/").concat(o,"/").concat(i)},getMaxdate:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0"))},parseDateInput:function(t){if(t){var e="";e=isNaN(t)?new Date(t):new Date(Number(t));var a="".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear());return a}},parseDate:function(t){if(!t)return null;var e=t.split("/"),a=X(e,3),i=a[0],o=a[1],n=a[2];return"".concat(n,"-").concat(o.padStart(2,"0"),"-").concat(i.padStart(2,"0"))},onChangeCityEditApplicant:function(t){var e=this;e.applicantEdit["cityName"]=e.cityItems.filter((function(e){return e["itemCode"]===t}))[0]["itemName"];var a={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t};e.$store.dispatch("loadDictItems",a).then((function(t){e.districtItems=t.data,e.wardItems=[]}))},onChangeDistrictEditApplicant:function(t){var e=this;e.applicantEdit["districtName"]=e.districtItems.filter((function(e){return e["itemCode"]===t}))[0]["itemName"];var a={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t};e.$store.dispatch("loadDictItems",a).then((function(t){e.wardItems=t.data}))},onChangeWardEditApplicant:function(t){var e=this;e.applicantEdit["wardName"]=e.wardItems.filter((function(e){return e["itemCode"]===t}))[0]["itemName"]},updateApplicant:function(){var t=this;t.$refs.form.validate()&&(t.loading=!0,t.$store.dispatch("putUser",t.applicantEdit).then((function(){q.a.clear(),q.a.success("Yêu cầu thực hiện thành công"),t.dialog_editApplicant=!1})).catch((function(){q.a.clear(),q.a.error("Yêu cầu thực hiện thất bại")})))},exitDialogEditApplicant:function(){var t=this;t.dialog_editApplicant=!1,t.getApplicantList().then((function(e){t.totalApplicantSearch=e["total"],t.applicantLists=e["data"]})).catch((function(){q.a.error("Không lấy được danh sách công dân, tổ chức, doanh nghiệp")}))},fullAddress:function(t,e,a,i){var o="";return t&&(o+=t+", "),i&&(o+=i+" - "),a&&(o+=a+" - "),e&&(o+=e),o},checkUserType:function(){var t=this;t.thongTinChuHoSo["cityCode"]="",t.thongTinChuHoSo["districtCode"]="",t.thongTinChuHoSo["wardCode"]="",t.thongTinChuHoSo["applicantIdNo"]="",t.thongTinChuHoSo["applicantIdType"]="",t.thongTinChuHoSo["contactEmail"]="",t.thongTinChuHoSo["contactTelNo"]="",t.thongTinChuHoSo["contactName"]="",t.thongTinChuHoSo["address"]="",t.thongTinChuHoSo["applicantName"]="","NEW"===t.formCode&&t.defaultCityCode&&(t.thongTinChuHoSo["cityCode"]=t.defaultCityCode?t.defaultCityCode:"",t.thongTinChuHoSo["cityName"]=defaultCityName||"")},checkInfoAccount:function(){var t=this;if(t.thongTinChuHoSo["applicantIdNo"]){t.loadingCheckAcc=!0;var e={maSoCaNhan:t.thongTinChuHoSo["applicantIdNo"],type:"2"==t.thongTinChuHoSo.userType?"business":"citizen"};t.$store.dispatch("getStatusAccount",e).then((function(e){if(t.statusAccount=e.status,t.loadingCheckAcc=!1,e)t.userSsoInfo=e,t.userSsoInfo["mappingSso"]&&t.userSsoInfo["mappingUserId"]?t.activeCreateAcc=!1:t.activeCreateAcc=!0,t.showDialogCreateAcc("exits");else{var a=confirm("Chưa có tài khoản trên hệ thống. Bạn có muốn tạo tài khoản?");a&&(t.activeCreateAcc=!0,t.showDialogCreateAcc())}})).catch((function(t){}))}else t.loadingCheckAcc=!1},showDialogCreateAcc:function(t){var e=this;e.dialog_create_acc=!0,t?(e.applicantIdNoCreateAcc=e.userSsoInfo.applicantIdNo,e.applicantNameCreateAcc=e.userSsoInfo.applicantName?e.userSsoInfo.applicantName:"",e.applicantEmailCreateAcc=e.userSsoInfo.contactEmail,e.applicantTelNoCreateAcc=e.userSsoInfo.contactTelNo):(e.applicantIdNoCreateAcc=e.thongTinChuHoSo.applicantIdNo,e.applicantNameCreateAcc=e.thongTinChuHoSo.applicantName,e.applicantEmailCreateAcc=e.thongTinChuHoSo.contactEmail,e.applicantTelNoCreateAcc=e.thongTinChuHoSo.contactTelNo)},createAccount:function(){var t=this,e={applicantIdNo:t.applicantIdNoCreateAcc,hoVaTen:t.applicantNameCreateAcc,ngaySinh:"1990-12-13T04:01:36.920Z",soDienThoai:t.applicantTelNoCreateAcc,thuDienTu:t.applicantEmailCreateAcc,status:t.statusAccount,id:"",applicantIdType:"2"==t.thongTinChuHoSo.userType?"business":"citizen"};t.loadingCreateAcc=!0,t.$store.dispatch("createAccountCaNhan",e).then((function(e){if(t.loadingCreateAcc=!1,200==e.status)try{var a=JSON.parse(e.responseText);"00"==a["errorCode"]?(t.dialog_create_acc=!1,q.a.success("Tạo tài khoản thành công")):q.a.error("Tạo tài khoản thất bại")}catch(i){q.a.error("Tạo tài khoản thất bại")}else q.a.error("Tạo tài khoản thất bại")})).catch((function(e){if(200==e.status)try{var a=JSON.parse(e.responseText);"00"==a["errorCode"]?(t.dialog_create_acc=!1,q.a.success("Tạo tài khoản thành công")):q.a.error("Tạo tài khoản thất bại")}catch(i){q.a.error("Tạo tài khoản thất bại")}else q.a.error("Tạo tài khoản thất bại");t.loadingCreateAcc=!1}))},showDialogSearchLgspDoanhNghiep:function(){var t=this;t.lgspType="business",t.applicantIdNoLgsp=t.thongTinChuHoSo["applicantIdNo"],t.applicantLgspInfomation="",t.dialog_searchLgsp=!0,t.applicantIdNoLgsp.trim()&&t.searchLgspDoanhNghiep()},showDialogSearchLgspCongDan:function(){var t=this;if(t.lgspType="citizen",t.applicantIdNoLgsp=t.thongTinChuHoSo["applicantIdNo"]?t.thongTinChuHoSo["applicantIdNo"]:"",t.applicantNameLgsp=t.thongTinChuHoSo["applicantName"]?t.thongTinChuHoSo["applicantName"]:"",t.applicantBirthDate=null,t.applicantLgspInfomation="",t.checkAccSso){var e={maSoCaNhan:t.thongTinChuHoSo["applicantIdNo"],type:"citizen"};t.$store.dispatch("getStatusAccount",e).then((function(e){if(e&&e.profile){var a=JSON.parse(e.profile);a&&a.hasOwnProperty("ngaySinh")&&a.ngaySinh&&"01/01/1970"!==a.ngaySinh&&(t.applicantBirthDate=a.ngaySinh)}t.dialog_searchLgsp=!0})).catch((function(){t.dialog_searchLgsp=!0}))}else t.dialog_searchLgsp=!0;setTimeout((function(){$("#soCanCuocTraCuu").focus(),t.dataQrCode=""}),200)},searchLgspDoanhNghiep:function(){var t=this,e={applicantIdNo:t.applicantIdNoLgsp.trim()};t.applicantIdNoLgsp.trim()?(t.loadingSearchLgsp=!0,t.traCuuLgspDoanhNghiep?t.$store.dispatch("searchLgspDoanhNghiepVer2",e).then((function(e){t.loadingSearchLgsp=!1,t.applicantLgspInfomation=e})).catch((function(e){t.loadingSearchLgsp=!1,t.applicantLgspInfomation=!1})):t.$store.dispatch("searchLgspDoanhNghiep",e).then((function(e){t.loadingSearchLgsp=!1,t.applicantLgspInfomation=e})).catch((function(e){t.loadingSearchLgsp=!1,t.applicantLgspInfomation=!1}))):t.applicantLgspInfomation=!1},genDataQrCode:function(){var t=this;if("1"===t.thongTinChuHoSo.userType&&t.SCAN_QR_CCCD){var e=String(t.applicantIdNoLgsp).trim();try{var a=e?e.split("|"):"";a&&a.length>=6&&(t.applicantIdNoLgsp=a[0],t.applicantNameLgsp=a[2],t.applicantBirthDate=a[3],t.dataQrCode={gioiTinh:a[4],ngayCap:a[6].slice(0,2)+"/"+a[6].slice(2,4)+"/"+a[6].slice(4,8),thuongTru:a[5]})}catch(i){}}},searchLgspCongDan:function(t){var e=this;if(e.applicantIdNoLgsp&&e.applicantNameLgsp&&String(e.applicantIdNoLgsp).trim()&&String(e.applicantNameLgsp).trim()&&e.applicantBirthDate&&8===String(e.applicantBirthDate).length){var a="";if(String(e.applicantBirthDate).indexOf("/")>0){var i=String(e.applicantBirthDate).split("/");a=i[2]+"-"+i[1]+"-"+i[0]}else a=String(e.applicantBirthDate).substring(4,8)+"-"+String(e.applicantBirthDate).substring(2,4)+"-"+String(e.applicantBirthDate).substring(0,2);var o={applicantIdNo:"auto"===t?String(e.thongTinChuHoSo.applicantIdNo).trim():String(e.applicantIdNoLgsp).trim(),applicantName:"auto"===t?e.convertString(String(e.thongTinChuHoSo.applicantName).trim()).toUpperCase():e.convertString(String(e.applicantNameLgsp).trim()).toUpperCase(),birthDate:a,StaffEmail:e.userLoginInfomation&&e.userLoginInfomation.hasOwnProperty("employeeEmail")?e.userLoginInfomation.employeeEmail:"",GovAgencyCode:e.detailDossier?e.detailDossier.govAgencyCode:"",MaDVC:e.detailDossier?e.detailDossier.serviceCode:""};e.loadingSearchLgsp=!0,e.$store.dispatch("searchLgspCongDan",o).then((function(t){if(e.loadingSearchLgsp=!1,e.applicantLgspInfomation=t,e.warningLgsp=!1,e.applicantLgspInfomation&&e.applicantLgspInfomation.hasOwnProperty("SoLuongCongDan")&&"0"!=String(e.applicantLgspInfomation["SoLuongCongDan"])){e.lgspAlertColor="green",e.warningLgsp=!0,e.messageLgsp='Số CCCD/ CMND: "'+e.applicantIdNoLgsp+'", họ tên: "'+e.applicantNameLgsp+'" có thông tin trên CSDL quốc gia về dân cư';var a={ThuongTruTinhThanh:"",ThuongTruQuanHuyen:"",ThuongTruXaPhuong:""},i=e.citys.find((function(t){return t.itemCode==e.applicantLgspInfomation.ThuongTru.MaTinhThanh}));a.ThuongTruTinhThanh=i?i.itemName:"",i&&e.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:i.itemCode}).then((function(t){var i=t.data.find((function(t){return t.itemCode==e.applicantLgspInfomation.ThuongTru.MaQuanHuyen}));a.ThuongTruQuanHuyen=i?i.itemName:"",i&&e.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:i.itemCode}).then((function(t){var i=t.data.find((function(t){return t.itemCode==e.applicantLgspInfomation.ThuongTru.MaPhuongXa}));a.ThuongTruXaPhuong=i?i.itemName:"",e.diaChiThuongTruTraCuuQr=a.ThuongTruXaPhuong+", "+a.ThuongTruQuanHuyen+", "+a.ThuongTruTinhThanh}))}));var o={TinhThanh:"",QuanHuyen:"",XaPhuong:""},n=e.citys.find((function(t){return t.itemCode==e.applicantLgspInfomation.NoiOHienTai.MaTinhThanh}));o.TinhThanh=n?n.itemName:"",n&&e.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:n.itemCode}).then((function(t){var a=t.data.find((function(t){return t.itemCode==e.applicantLgspInfomation.NoiOHienTai.MaQuanHuyen}));o.QuanHuyen=a?a.itemName:"",a&&e.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:a.itemCode}).then((function(t){var a=t.data.find((function(t){return t.itemCode==e.applicantLgspInfomation.NoiOHienTai.MaPhuongXa}));o.XaPhuong=a?a.itemName:"",e.noiOHienTaiTraCuuQr=e.applicantLgspInfomation.NoiOHienTai.ChiTiet+" "+o.XaPhuong+", "+o.QuanHuyen+", "+o.TinhThanh}))}))}else e.lgspAlertColor="red",e.warningLgsp=!0,e.messageLgsp='Số CCCD/ CMND: "'+e.applicantIdNoLgsp+'", họ tên: "'+e.applicantNameLgsp+'" không có thông tin trên CSDL quốc gia về dân cư'})).catch((function(t){if(e.lgspAlertColor="red",e.loadingSearchLgsp=!1,e.applicantLgspInfomation=!1,e.warningLgsp=!0,e.messageLgsp="Số CCCD/ CMND: "+String(e.applicantIdNoLgsp).trim()+", họ tên: "+String(e.applicantNameLgsp).trim()+" không có thông tin trên CSDL quốc gia về dân cư",t.hasOwnProperty("errorCode")){var a=t.errorCode;switch(a){case"004":e.messageLgsp="Thủ tục chưa được cấp phép khai thác CSDL dân cư";break;case"005":e.messageLgsp="Tài khoản cán bộ không có quyền thao tác";break;default:e.messageLgsp="Số CCCD/ CMND: "+String(e.applicantIdNoLgsp).trim()+", họ tên: "+String(e.applicantNameLgsp).trim()+" không có thông tin trên CSDL quốc gia về dân cư"}}}))}else q.a.error("Vui lòng nhập đầy đủ số CCCD/ CMND, họ tên và ngày sinh để tra cứu")},closeSearchLgsp:function(){var t=this;"citizen"===t.lgspType&&(t.thongTinChuHoSo["applicantIdNo"]=String(t.applicantIdNoLgsp).trim(),t.thongTinChuHoSo["applicantName"]=String(t.applicantNameLgsp).trim()),t.dialog_searchLgsp=!1},addApplicantLgsp:function(){var t=this;if("business"===t.lgspType&&(t.thongTinChuHoSo["applicantIdNo"]=t.applicantLgspInfomation.ENTERPRISE_GDT_CODE,t.thongTinChuHoSo["applicantName"]=t.applicantLgspInfomation.NAME,t.thongTinChuHoSo["address"]=t.applicantLgspInfomation.AddressFullText),"citizen"===t.lgspType){t.thongTinChuHoSo["applicantIdNo"]=t.applicantLgspInfomation.SoDinhDanh?t.applicantLgspInfomation.SoDinhDanh:t.applicantLgspInfomation.SoCMND,t.thongTinChuHoSo["applicantName"]=t.applicantLgspInfomation.HoVaTen.Ten,t.thongTinChuHoSo["address"]=t.applicantLgspInfomation.ThuongTru.ChiTiet,t.thongTinChuHoSo["cityCode"]=Number(t.applicantLgspInfomation.ThuongTru.MaTinhThanh),t.thongTinChuHoSo["districtCode"]=Number(t.applicantLgspInfomation.ThuongTru.MaQuanHuyen),t.thongTinChuHoSo["wardCode"]=Number(t.applicantLgspInfomation.ThuongTru.MaPhuongXa);try{t.thongTinChuHoSo.cityName=t.citys.filter((function(e){return e["itemCode"]==t.thongTinChuHoSo["cityCode"]}))[0]["itemName"]}catch(a){t.thongTinChuHoSo.cityName=""}t.$store.commit("setCityVal",t.thongTinChuHoSo["cityCode"]),t.$store.commit("setDistrictVal",t.thongTinChuHoSo["districtCode"]),t.$store.commit("setWardVal",t.thongTinChuHoSo["wardCode"]);var e={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t.thongTinChuHoSo["cityCode"]};t.$store.getters.getDictItems(e).then((function(e){t.districts=e.data,t.wards=[];try{t.thongTinChuHoSo.districtName=t.districts.filter((function(e){return e["itemCode"]==t.thongTinChuHoSo["cityCode"]}))[0]["itemName"]}catch(a){t.thongTinChuHoSo.districtName=""}var i={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t.thongTinChuHoSo["districtCode"]};t.$store.getters.getDictItems(i).then((function(e){t.wards=e.data;try{t.thongTinChuHoSo.wardName=t.wards.filter((function(e){return e["itemCode"]==t.thongTinChuHoSo["wardCode"]}))[0]["itemName"]}catch(a){t.thongTinChuHoSo.wardName=""}}))}))}t.dialog_searchLgsp=!1},addApplicant:function(t,e){var a={headers:{groupId:window.themeDisplay.getScopeGroupId()}};vm.loadingUpdateLgsp=!0;var i=new URLSearchParams,o="/o/rest/v2/applicants";i.append("applicantName",t.hasOwnProperty("applicantName")?t["applicantName"]:""),i.append("applicantIdNo",t.hasOwnProperty("applicantIdNo")?t["applicantIdNo"]:""),i.append("applicantIdDate",t.hasOwnProperty("applicantIdDate")?t["applicantIdDate"]:""),i.append("applicantIdType",t.hasOwnProperty("applicantIdType")?t["applicantIdType"]:""),i.append("contactTelNo",t.hasOwnProperty("contactTelNo")?t["contactTelNo"]:""),i.append("address",t.hasOwnProperty("address")?t["address"]:""),i.append("contactEmail",t.hasOwnProperty("contactEmail")?t["contactEmail"]:""),i.append("cityCode",t.hasOwnProperty("cityCode")?t["cityCode"]:""),i.append("cityName",t.hasOwnProperty("cityName")?t["cityName"]:""),i.append("districtCode",t.hasOwnProperty("districtCode")?t["districtCode"]:""),i.append("districtName",t.hasOwnProperty("districtName")?t["districtName"]:""),i.append("wardCode",t.hasOwnProperty("wardCode")?t["wardCode"]:""),i.append("wardName",t.hasOwnProperty("wardName")?t["wardName"]:""),K.a.post(o,i,a).then((function(a){vm.loadingUpdateLgsp=!1,q.a.success("Đồng bộ thành công"),"bind"===e&&(vm.thongTinChuHoSo["applicantName"]=t["applicantName"],vm.dialog_searchLgsp=!1,vm.warningLgsp=!1)})).catch((function(t){q.a.error("Đồng bộ thất bại"),vm.loadingUpdateLgsp=!1}))}},Q(i,"updateApplicant",(function(t,e){var a={headers:{groupId:window.themeDisplay.getScopeGroupId()}};vm.loadingUpdateLgsp=!0;var i=new URLSearchParams,o="/o/rest/v2/applicants/"+t["applicantId"],n=["applicantName","applicantIdDate","applicantIdType","contactTelNo","address","cityCode","cityName","districtCode","districtName","wardCode","wardName"];for(var s in n)t.hasOwnProperty(n[s])&&t[n[s]]&&i.append(n[s],t[n[s]]);K.a.put(o,i,a).then((function(a){vm.loadingUpdateLgsp=!1,q.a.success("Đồng bộ thành công"),"bind"===e&&(vm.thongTinChuHoSo["applicantName"]=t["applicantName"],vm.dialog_searchLgsp=!1,vm.warningLgsp=!1)})).catch((function(t){q.a.error("Đồng bộ thất bại"),vm.loadingUpdateLgsp=!1}))})),Q(i,"syncApplicantLgsp",(function(){var t=this,e={headers:{}},a={QuocTich:t.applicantLgspInfomation["QuocTich"],GioiTinh:t.applicantLgspInfomation["GioiTinh"],DanToc:t.applicantLgspInfomation["TonGiao"],TonGiao:t.applicantLgspInfomation["QuocTich"],TinhTrangHonNhan:t.applicantLgspInfomation["TinhTrangHonNhan"],NhomMau:t.applicantLgspInfomation["NhomMau"],NgayThangNamSinh:t.applicantLgspInfomation["NgayThangNamSinh"],NoiDangKyKhaiSinh:t.applicantLgspInfomation["NoiDangKyKhaiSinh"],QueQuan:t.applicantLgspInfomation["QueQuan"],ThuongTru:t.applicantLgspInfomation["ThuongTru"],NoiOHienTai:t.applicantLgspInfomation["NoiOHienTai"],Cha:t.applicantLgspInfomation["Cha"],Me:t.applicantLgspInfomation["Me"],VoChong:t.applicantLgspInfomation["VoChong"],NguoiDaiDien:t.applicantLgspInfomation["NguoiDaiDien"],ChuHo:t.applicantLgspInfomation["ChuHo"],TrangThai:t.applicantLgspInfomation["TrangThai"]};K.a.get("/o/rest/v2/applicants?start=0&end=1&idNo="+t.thongTinChuHoSo["applicantIdNo"],e).then((function(e){var i=[];if(e.data.hasOwnProperty("data")&&(i=e.data.data),0!==i.length){var o={applicantId:t.thongTinChuHoSo["applicantIdNo"],applicantName:t.parserFullName(t.applicantLgspInfomation["HoVaTen"]),applicantIdType:"citizen",profile:JSON.stringify(a)};t.updateApplicant(o,"bind")}else{var n={applicantName:t.parserFullName(t.applicantLgspInfomation["HoVaTen"]),applicantIdType:"citizen",profile:JSON.stringify(a)};t.addApplicant(n,"bind")}}))})),Q(i,"parserFullName",(function(t){var e=t.toLocaleLowerCase().split(" ");for(var a in e)e[a]=e[a].charAt(0).toUpperCase()+letter.slice(1);return e.join(" ")})),Q(i,"getTinhTrangHonNhan",(function(t){return"2"==t?"Đang có vợ/ chồng":"1"==t?"Chưa kết hôn":"3"==t?"Đã ly hôn hoặc góa vợ/ chồng":"Chưa có thông tin"})),Q(i,"getTenDanhMuc",(function(t,e){var a=this;if(t){if("tongiao"===e){var i=a.danhmuctongiao.find((function(e){return Number(e.TONGIAO)==Number(t)}));return i?i.TENTONGIAO:""}if("dantoc"===e){var o=a.danhmucdantoc.find((function(e){return Number(e.MADANTOC)==Number(t)}));return o?o.TENGOI:""}return""}return""})),Q(i,"getNhomMau",(function(t){return"00"==t?"Chưa có thông tin":"01"==t?"Nhóm máu A":"02"==t?"Nhóm máu B":"03"==t?"Nhóm máu AB":"04"==t?"Nhóm máu O":"Chưa có thông tin"})),Q(i,"convertString",(function(t){return t=t.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),t=t.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),t=t.replace(/ì|í|ị|ỉ|ĩ/g,"i"),t=t.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),t=t.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),t=t.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),t=t.replace(/đ/g,"d"),t=t.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A"),t=t.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E"),t=t.replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I"),t=t.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O"),t=t.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U"),t=t.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y"),t=t.replace(/Đ/g,"D"),t=t.toLocaleLowerCase().replace(/\s/g,""),t})),Q(i,"showDialogAISearch",(function(){this.turnOnCamera()})),Q(i,"takePhoto",(function(){var t=this.$refs.canvas.getContext("2d");t.drawImage(this.$refs.camera,0,0,680,510);var e=this.$refs.camera.srcObject.getTracks();this.hasPhoto=!0,e.forEach((function(t){t.stop()}));var a=document.getElementById("photoTaken").toDataURL("image/jpeg").replace("data:image/jpeg;base64,",""),i={image_live:a},o=this;this.$store.dispatch("aiSearch",i).then((function(t){var e=t.data;if("1"==e.code){o.thongTinChuHoSo.applicantIdNo=e.applicantIdNo,o.thongTinChuHoSo.applicantName=e.applicantName,o.thongTinChuHoSo.address=e.address,o.thongTinChuHoSo.cityCode=e.cityCode,o.thongTinChuHoSo.districtCode=e.districtCode,o.thongTinChuHoSo.wardCode=e.wardCode,void 0!=e.contactTelNo&&""!=e.contactTelNo&&(o.thongTinChuHoSo.contactTelNo=e.contactTelNo),o.thongTinChuHoSo.userType="1";try{o.thongTinChuHoSo.wardCode.startsWith("0")?o.thongTinChuHoSo.wardCode=e.wardCode:o.thongTinChuHoSo.wardCode=parseInt(e.wardCode)}catch(n){o.thongTinChuHoSo.wardCode=parseInt(e.wardCode)}try{o.thongTinChuHoSo.cityCode.startsWith("0")?o.thongTinChuHoSo.cityCode=e.cityCode:o.thongTinChuHoSo.cityCode=parseInt(e.cityCode)}catch(s){o.thongTinChuHoSo.cityCode=parseInt(e.cityCode)}try{o.thongTinChuHoSo.districtCode.startsWith("0")?o.thongTinChuHoSo.districtCode=e.districtCode:o.thongTinChuHoSo.districtCode=parseInt(e.districtCode)}catch(r){o.thongTinChuHoSo.districtCode=parseInt(e.districtCode)}var a={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:o.thongTinChuHoSo.cityCode};o.$store.dispatch("loadDictItems",a).then((function(t){o.districts=t.data}));var i={collectionCode:"ADMINISTRATIVE_REGION",level:2,parent:o.thongTinChuHoSo.districtCode};o.$store.dispatch("loadDictItems",i).then((function(t){o.wards=t.data})),setTimeout((function(){o.dialog_aiSearch=!1}),1e3),q.a.clear(),q.a.success("Nhận diện khuôn mặt thành công")}else"2"==e.code?o.dialog_identifyConfirm=!0:(q.a.clear(),q.a.error(e.message))})).catch((function(t){q.a.clear(),q.a.error("Nhận diện khuôn mặt thất bại. Vui lòng thử lại")}))})),Q(i,"turnOnCamera",(function(){var t=this;return new Promise((function(e,a){var i=window.constraints={audio:!1,video:!0};navigator.mediaDevices.getUserMedia(i).then((function(a){t.dialog_aiSearch=!0,t.$refs.camera.srcObject=a,t.isCameraOpen=!0,t.hasPhoto=!1,e("")})).catch((function(e){t.isCameraOpen=!1,alert("Trình duyệt không hỗ trợ hoặc thiết bị không có camera."),a(e)}))}))})),Q(i,"closeDialogAiSearch",(function(){var t=this;t.dialog_aiSearch=!1;var e=t.$refs.camera.srcObject.getTracks();e.forEach((function(t){t.stop()}))})),Q(i,"showDialogAiIdentify",(function(){this.dialog_identifyConfirm=!1,this.dialog_aiSearch=!1,this.dialog_aiIdentify=!0})),Q(i,"changeLoading",(function(){var t=this;t.loadingDialogInfo=!0})),Q(i,"nextStep",(function(){this.disabled=!0,this.step++,this.checkEnableNextStep()})),Q(i,"previousStep",(function(){this.disabled=!1,this.step--})),Q(i,"loadFrontData",(function(t){var e=this,a=t.information;e.user["name"]=a.name,e.user["id"]=a.id,e.user["birthday"]=a.birthday,e.user["address"]=a.address,e.user["front_image"]=t.front_image,e.user["wardCode"]=a.ward_code,e.user["wardName"]=a.ward,e.user["districtCode"]=a.district_code,e.user["districtName"]=a.district,e.user["cityCode"]=a.province_code,e.user["cityName"]=a.province,e.loadingDialogInfo=!1,e.disabled=!1})),Q(i,"changeLoading",(function(){var t=this;t.loadingDialogInfo=!0})),Q(i,"clearFrontData",(function(){var t=this;t.user["name"]="",t.user["id"]="",t.user["birthday"]="",t.user["address"]="",t.user["front_image"]="",this.disabled=!0,this.loadingDialogInfo=!1})),Q(i,"loadBackData",(function(t){var e=this,a=t.information;e.user["issue_by"]=a.issue_by,e.user["issue_date"]=a.issue_date,e.user["back_image"]=t.back_image,e.loadingDialogInfo=!1,e.disabled=!1})),Q(i,"loadSelfieData",(function(t){var e=this;e.disabled=!1,e.user["ekycId"]=t.user_id,e.user["live_image"]=t.live_image})),Q(i,"clearBackData",(function(){var t=this;t.user["issue_by"]="",t.user["issue_date"]="",t.user["back_image"]="",this.disabled=!0,this.loadingDialogInfo=!1})),Q(i,"clearSelfieData",(function(){var t=this;t.disabled=!0,t.user["live_image"]=""})),Q(i,"endIdentifyProcess",(function(){var t=this;t.user["name"]="",t.user["id"]="",t.user["birthday"]="",t.user["address"]="",t.user["front_image"]="",t.user["issue_by"]="",t.user["issue_date"]="",t.user["back_image"]="",t.user["live_image"]="",t.loadingDialogInfo=!1,t.dialog_aiIdentify=!1,t.step=1,t.$refs.attachedFrontImage.deleteImageWhenClosePopup(),t.$refs.attachedBackImage.deleteImageWhenClosePopup(),t.$refs.attachedSelfieImage.deleteImageWhenClosePopup()})),Q(i,"updateUserInfomation",(function(t){var e=this;e.thongTinChuHoSo.applicantIdNo=t.applicantIdNo,e.thongTinChuHoSo.applicantName=t.applicantName,e.thongTinChuHoSo.address=t.address,e.thongTinChuHoSo.cityCode=t.cityCode,e.thongTinChuHoSo.districtCode=t.districtCode,e.thongTinChuHoSo.wardCode=t.wardCode,void 0!=t.contactTelNo&&""!=t.contactTelNo&&(e.thongTinChuHoSo.contactTelNo=t.contactTelNo),e.thongTinChuHoSo.userType="1";try{e.thongTinChuHoSo.wardCode.startsWith("0")?e.thongTinChuHoSo.wardCode=t.wardCode:e.thongTinChuHoSo.wardCode=parseInt(t.wardCode)}catch(o){e.thongTinChuHoSo.wardCode=parseInt(t.wardCode)}try{e.thongTinChuHoSo.cityCode.startsWith("0")?e.thongTinChuHoSo.cityCode=t.cityCode:e.thongTinChuHoSo.cityCode=parseInt(t.cityCode)}catch(n){e.thongTinChuHoSo.cityCode=parseInt(t.cityCode)}try{e.thongTinChuHoSo.districtCode.startsWith("0")?e.thongTinChuHoSo.districtCode=t.districtCode:e.thongTinChuHoSo.districtCode=parseInt(t.districtCode)}catch(s){e.thongTinChuHoSo.districtCode=parseInt(t.districtCode)}var a={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e.thongTinChuHoSo.cityCode};e.$store.dispatch("loadDictItems",a).then((function(t){e.districts=t.data}));var i={collectionCode:"ADMINISTRATIVE_REGION",level:2,parent:e.thongTinChuHoSo.districtCode};e.$store.dispatch("loadDictItems",i).then((function(t){e.wards=t.data})),setTimeout((function(){e.dialog_aiSearch=!1}),1e3)})),Q(i,"checkEnableNextStep",(function(){var t=this;1==t.step&&""!=t.user["front_image"]&&void 0!=t.user["front_image"]&&""!=t.user["name"]&&void 0!=t.user["name"]&&""!=t.user["id"]&&void 0!=t.user["id"]&&""!=t.user["address"]&&void 0!=t.user["address"]&&""!=t.user["birthday"]&&void 0!=t.user["birthday"]&&(t.disabled=!1),2==t.step&&""!=t.user["back_image"]&&void 0!=t.user["back_image"]&&""!=t.user["issue_by"]&&void 0!=t.user["issue_by"]&&""!=t.user["issue_date"]&&void 0!=t.user["issue_date"]&&(t.disabled=!1),3==t.step&&""!=t.user["live_image"]&&void 0!=t.user["live_image"]&&(t.disabled=!1)})),Q(i,"formatNgaySinh",(function(t){if(!t)return"";var e=String(t);return e.slice(6,8)+"/"+e.slice(4,6)+"/"+e.slice(0,4)})),i)},ot=it,nt=a("2877"),st=Object(nt["a"])(ot,L,M,!1,null,null,null);e["a"]=st.exports},a9a9:function(t,e,a){"use strict";var i=a("c6a6"),o=a("b0af"),n=a("99d9"),s=a("0e8f"),r=a("4bd4"),l=a("a722"),c=a("67b6"),d=a("43a6"),p=a("0789"),u=a("e0c7"),h=a("2677"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(o["a"],[a(n["b"],[a(p["d"],[2===t.dichVuChuyenPhatKetQua.viaPostal?a(r["a"],{ref:"formDichVuChuyenPhat",attrs:{"lazy-validation":""},model:{value:t.valid_dichvuchuyenphat,callback:function(e){t.valid_dichvuchuyenphat=e},expression:"valid_dichvuchuyenphat"}},[a(l["a"],{attrs:{wrap:""}},[a(s["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(u["a"],{staticClass:"pl-0"},[t._v("Dịch vụ đăng ký "),a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v(": ")])],1),a(s["a"],{attrs:{xs12:"",sm10:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(i["a"],{attrs:{items:t.postalServiceItems,"item-text":"itemName","item-value":"itemCode",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:"","hide-no-data":""},model:{value:t.dichVuChuyenPhatKetQua.postalServiceCode,callback:function(e){t.$set(t.dichVuChuyenPhatKetQua,"postalServiceCode",e)},expression:"dichVuChuyenPhatKetQua.postalServiceCode"}})],1),a(s["a"],{attrs:{xs12:""}}),a(s["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(u["a"],{staticClass:"pl-0"},[t._v("Địa chỉ trả kết quả"),a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v(": ")])],1),a(s["a"],{attrs:{xs12:"",sm10:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(h["a"],{attrs:{rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},model:{value:t.dichVuChuyenPhatKetQua.postalAddress,callback:function(e){t.$set(t.dichVuChuyenPhatKetQua,"postalAddress",e)},expression:"dichVuChuyenPhatKetQua.postalAddress"}})],1),a(s["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(u["a"],{staticClass:"pl-0"},[t._v("Tỉnh/Thành phố"),a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v(": ")])],1),a(s["a"],{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(i["a"],{attrs:{items:t.citys,"item-text":"itemName","item-value":"itemCode",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:"","hide-no-data":""},on:{change:t.onChangeResultCity},model:{value:t.dichVuChuyenPhatKetQua.postalCityCode,callback:function(e){t.$set(t.dichVuChuyenPhatKetQua,"postalCityCode",e)},expression:"dichVuChuyenPhatKetQua.postalCityCode"}})],1),a(s["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(u["a"],{staticClass:"pl-0"},[t._v("Quận/Huyện"),a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v(": ")])],1),a(s["a"],{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(i["a"],{attrs:{items:t.resultDistricts,"item-text":"itemName","item-value":"itemCode",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:"","hide-no-data":""},on:{change:t.onChangeResultDistrict},model:{value:t.dichVuChuyenPhatKetQua.postalDistrictCode,callback:function(e){t.$set(t.dichVuChuyenPhatKetQua,"postalDistrictCode",e)},expression:"dichVuChuyenPhatKetQua.postalDistrictCode"}})],1),a(s["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(u["a"],{staticClass:"pl-0"},[t._v("SĐT người nhận"),a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v(": ")])],1),a(s["a"],{attrs:{xs12:"",sm10:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(h["a"],{attrs:{rules:[t.rules.telNo,t.rules.required],required:""},model:{value:t.dichVuChuyenPhatKetQua.postalTelNo,callback:function(e){t.$set(t.dichVuChuyenPhatKetQua,"postalTelNo",e)},expression:"dichVuChuyenPhatKetQua.postalTelNo"}})],1),t.showTinhPhi?a(s["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(u["a"],{staticClass:"pl-0"},[t._v("Khối lượng: ")])],1):t._e(),t.showTinhPhi?a(s["a"],{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(h["a"],{attrs:{suffix:"(gam)",type:"number"},on:{input:t.getFee},model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}})],1):t._e(),t.showTinhPhi?a(s["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(u["a"],{staticClass:"pl-0",staticStyle:{"padding-top":"7px"}},[t._v("Phí vận chuyển tạm tính: ")])],1):t._e(),t.showTinhPhi?a(s["a"],{staticStyle:{"padding-top":"10px"},attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),a("span",{style:t.loadingFee?"color:black;opacity:0.5":"color:red;font-weight: bold;"},[t._v(t._s(t.feeVnPost)+" VNĐ")])],1):t._e()],1)],1):t._e()],1)],1)],1),a("div",{staticClass:"absolute__btn",staticStyle:{width:"350px","margin-top":"4px"}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),a(d["a"],{staticClass:"mt-1",attrs:{row:""},on:{change:function(e){return t.changeViaPostal(e)}},model:{value:t.dichVuChuyenPhatKetQua.viaPostal,callback:function(e){t.$set(t.dichVuChuyenPhatKetQua,"viaPostal",e)},expression:"dichVuChuyenPhatKetQua.viaPostal"}},[a(c["a"],{attrs:{label:"Trả kết quả trực tiếp",value:1}}),a(c["a"],{attrs:{label:"Trả kết quả tại nhà",value:2}})],1)],1)],1)},g=[],f=a("bc3a"),_=a.n(f),C=a("bbd0"),v={props:["detailDossier"],data:function(){return{functionTimeOutGetFee:"",loadingFee:!1,showTinhPhi:!1,weight:"",feeVnPost:"",valid_dichvuchuyenphat:!1,citys:C.danhMucVNPOST,resultDistricts:[],resultWards:[],vnPostItems:C.danhMucVNPOST,postalServiceItems:[{itemName:"VNPOST",itemCode:"VNPOST"}],rules:{required:function(t){return!!t||"Trường dữ liệu bắt buộc"},email:function(t){t=t.trim();var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Địa chỉ Email không hợp lệ"},telNo:function(t){var e=/^([0-9]{0,})$/;return"string"===typeof t&&(t=t.trim()),e.test(t)||"Gồm các ký tự 0-9"}}}},computed:{loading:function(){return this.$store.getters.loading},thongTinChuHoSoBindChuyenPhat:function(){return this.$store.getters.thongTinChuHoSoBindChuyenPhat},dichVuChuyenPhatKetQua:function(){return this.$store.getters.dichVuChuyenPhatKetQua}},created:function(){var t=this;try{t.showTinhPhi=showTinhPhi}catch(e){}this.postalServiceItems.length>0&&(this.dichVuChuyenPhatKetQua.postalServiceCode=this.postalServiceItems[0].itemCode)},watch:{thongTinChuHoSoBindChuyenPhat:function(t){var e=this;try{e.detailDossier.dossierStatus&&(e.dichVuChuyenPhatKetQua.postalAddress=t.address,e.dichVuChuyenPhatKetQua.postalTelNo=t.contactTelNo)}catch(a){}}},mounted:function(){},methods:{initData:function(t){},onChangeResultCity:function(t){var e=this,a={collectionCode:"VNPOST_CITY_CODE",level:1,parent:t};""!==t&&null!==t&&void 0!==t&&e.$store.getters.getDictItems(a).then((function(t){e.resultDistricts=t.data})),e.showTinhPhi&&e.getFee()},onChangeResultDistrict:function(t){var e=this;e.showTinhPhi&&e.getFee(),e.dichVuChuyenPhatHoSo.postalDistrictName=e.resultDistricts.filter((function(e){return e.itemCode===t}))[0]["itemName"]},changeViaPostal:function(t){this.$store.commit("setViaPostal",t),this.$emit("changeViapostal",t);var e={viaPostal:t,postalServiceCode:this.dichVuChuyenPhatKetQua.postalServiceCode?this.dichVuChuyenPhatKetQua.postalServiceCode:"",postalAddress:this.dichVuChuyenPhatKetQua.postalAddress?this.dichVuChuyenPhatKetQua.postalAddress:"",postalCityCode:this.dichVuChuyenPhatKetQua.postalCityCode?this.dichVuChuyenPhatKetQua.postalCityCode:"",postalDistrictCode:this.dichVuChuyenPhatKetQua.postalDistrictCode?this.dichVuChuyenPhatKetQua.postalDistrictCode:"",postalWardCode:this.dichVuChuyenPhatKetQua.postalWardCode?this.dichVuChuyenPhatKetQua.postalWardCode:"",postalTelNo:this.dichVuChuyenPhatKetQua.postalTelNo?this.dichVuChuyenPhatKetQua.postalTelNo:""};this.$store.commit("setDichVuChuyenPhatKetQua",e)},validDichVuChuyenPhat:function(){var t=this;return t.$refs.formDichVuChuyenPhat.validate()},getFee:function(){var t=this,e=t.$router.history.current.query;t.functionTimeOutGetFee&&clearTimeout(t.functionTimeOutGetFee),t.functionTimeOutGetFee=setTimeout((function(){if(t.dichVuChuyenPhatKetQua.postalCityCode&&t.dichVuChuyenPhatKetQua.postalDistrictCode){t.loadingFee=!0;var a="/o/rest/v2/postal/vnpostprice",i="POST",o={groupId:e.hasOwnProperty("groupIdSiteMng")&&e.groupIdSiteMng?e.groupIdSiteMng:window.themeDisplay.getScopeGroupId()},n=new URLSearchParams;n.append("GovAgencyCode",t.detailDossier.govAgencyCode),n.append("senderProvince",""),n.append("senderDistrict",""),n.append("receiverProvince",t.dichVuChuyenPhatKetQua.postalCityCode),n.append("receiverDistrict",t.dichVuChuyenPhatKetQua.postalDistrictCode),n.append("weight",t.weight);var s={};_()({method:i,url:a,headers:o,params:s,data:n}).then((function(e){t.loadingFee=!1,t.feeVnPost=e.data?t.currency(e.data):""})).catch((function(t){}))}else t.feeVnPost=""}),1e3)},currency:function(t){if(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""}}},y=v,T=a("2877"),S=Object(T["a"])(y,m,g,!1,null,null,null);e["a"]=S.exports},c199:function(t,e,a){"use strict";var i=a("b0af"),o=a("99d9"),n=a("0e8f"),s=a("132d"),r=a("a722"),l=a("e0c7"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(i["a"],[a(o["b"],[t.showOptionName&&t.thongTinChungHoSo["briefNote"]?a("div",{staticClass:"px-2 pt-2",staticStyle:{"text-align":"justify"}},[t._v("Dịch vụ: "),a("span",{staticClass:"text-bold"},[t._v(t._s(t.thongTinChungHoSo["briefNote"]))])]):t._e(),a(r["a"],{attrs:{wrap:""}},[a(n["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(l["a"],{staticClass:"pl-0"},[t._v("\n            Mã hồ sơ: \n          ")])],1),a(n["a"],{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(l["a"],{staticClass:"text-bold",staticStyle:{float:"left"}},[a("span",{staticClass:"text-bold"},[t._v("\n              "+t._s(t.thongTinChungHoSo.dossierNo)+"\n            ")])])],1),a(n["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(l["a"],{staticClass:"pl-0"},[t._v("Thời gian giải quyết: ")])],1),a(n["a"],{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),!t.loading&&t.thongTinChungHoSo.durationCount?a(l["a"],{staticStyle:{float:"left"}},[a("span",{staticClass:"text-bold"},[t._v("\n              "+t._s(t.durationText(t.thongTinChungHoSo.durationUnit,t.thongTinChungHoSo.durationCount))+" làm việc\n            ")])]):t._e()],1),a(n["a"],{attrs:{xs12:""}}),a(n["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(l["a"],{staticClass:"pl-0"},[t._v("Ngày tiếp nhận: ")])],1),a(n["a"],{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(l["a"],{staticStyle:{float:"left"}},[a("span",{staticClass:"text-bold"},[t._v(t._s(t.thongTinChungHoSo.receiveDate))])])],1),a(n["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(l["a"],{staticClass:"pl-0"},[t._v("Ngày hẹn trả: ")])],1),a(n["a"],{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loading||!1!==t.editable&&null!==t.editable&&void 0!==t.editable&&"undefined"!==t.editable?t._e():a(l["a"],{staticStyle:{float:"left",height:"100%"}},[a("span",{staticClass:"text-bold"},[t._v("\n              "+t._s(t.thongTinChungHoSo.dueDate)+"\n            ")])]),t.loading||!0!==t.editable?t._e():a(l["a"],{staticStyle:{float:"left",height:"100%"}},[a(s["a"],{staticClass:"hover-pointer",on:{click:t.showDatePicker}},[t._v("event")])],1)],1)],1)],1)],1)],1)},d=[],p={components:{},data:function(){return{minDate:null,maxDate:null,editable:!1,dueDateInput:null,dataPostDossier:{serviceCode:"",govAgencyCode:"",processOptionId:""},thongTinChungHoSo:{serviceName:"",dossierTemplateName:"",serviceConfig:"",serviceOption:"",dossierNo:"",receiveDate:"",dueDate:"",durationDate:"",dossierId:"",dossierIdCTN:"",dossierStatus:"",dossierStatusText:"",durationUnit:"",durationCount:""},showOptionName:!1}},created:function(){var t=this;t.$nextTick((function(){t.minDate=t.getCurentDateTime("date");try{t.showOptionName=showOptionName}catch(e){}}))},computed:{loading:function(){return this.$store.getters.loading},isDetail:function(){return this.$store.getters.isDetail}},watch:{dueDateInput:function(t){this.thongTinChungHoSo["dueDate"]=this.getDuedateF(t)}},methods:{initData:function(t){var e=this,a={serviceName:t.serviceName,dossierTemplateName:t.dossierTemplateName,dossierNo:t.dossierNo?t.dossierNo:"",dueDate:null,receiveDate:t.receivingDate?e.dateTimeView(t.receivingDate):t.receiveDate,durationDate:t.durationDate,dossierId:t.dossierId,dossierIdCTN:t.dossierIdCTN,dossierStatus:t.dossierStatus,dossierStatusText:t.dossierStatusText,durationUnit:t.durationUnit,durationCount:t.durationCount};t.receivingDuedate&&t.editable?a.dueDate=t.receivingDuedate:t.receivingDuedate&&!t.editable?a.dueDate=t.receivingDuedate?e.dateTimeView(t.receivingDuedate):t.dueDate:a.dueDate=t.dueDate,e.thongTinChungHoSo=a,e.editable=t.editable,e.thongTinChungHoSo["editable"]=e.editable,e.editable&&(e.dueDateInput=e.thongTinChungHoSo.dueDate?e.formatDateInput(new Date(Number(e.thongTinChungHoSo.dueDate))):null,e.maxDate=e.thongTinChungHoSo.dueDate?e.formatDateInput(new Date(Number(e.thongTinChungHoSo.dueDate))):null),e.minDate=e.getCurentDateTime("date")},getthongtinchunghoso:function(){return this.thongTinChungHoSo},getCurentDateTime:function(t){var e=new Date;return"datetime"===t?"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0")):"date"===t?"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate()):void 0},changeDate:function(){this.thongTinChungHoSo["dueDate"]=this.getDuedate()},changeDossierNo:function(t){this.thongTinChungHoSo["dossierNo"]=t},getDuedate:function(){var t=this.dueDateInput?new Date(this.dueDateInput).getTime():"";return t},getDuedateF:function(t){var e=new Date(t).getTime();return e},durationText:function(t,e){var a;if(1===t&&e>8){var i,o=Math.floor(e/8)+" ngày";i=e%8!==0?8*(e/8-Math.floor(e/8))+" giờ":"",a="".concat(o," ").concat(i)}else 0===t?a=e+" ngày":1===t&&e<=8&&(a=e+" giờ");return a},goBack:function(){var t=this,e=t.$router.history.current.params,a=t.$router.history.current.query;t.$router.push({path:"/danh-sach-ho-so/"+e.index,query:a})},dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}},formatDateInput:function(t){return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0")," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))},showDatePicker:function(){this.$refs.datepicker.showDatePicker()}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""}}},u=p,h=a("2877"),m=Object(h["a"])(u,c,d,!1,null,null,null);e["a"]=m.exports},f82c:function(t,e,a){"use strict";var i=a("c6a6"),o=a("b0af"),n=a("99d9"),s=a("ac7c"),r=a("0e8f"),l=a("4bd4"),c=a("a722"),d=a("0789"),p=a("e0c7"),u=a("2677"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(o["a"],[1===t.dichVuChuyenPhatHoSo.vnpostalStatus?a(n["b"],[a(d["d"],[a(l["a"],{ref:"formDichVuChuyenPhatHoSo",attrs:{"lazy-validation":""},model:{value:t.valid_dichvuchuyenphat,callback:function(e){t.valid_dichvuchuyenphat=e},expression:"valid_dichvuchuyenphat"}},[a(c["a"],{attrs:{wrap:""}},[a(r["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(p["a"],{staticClass:"pl-0"},[t._v("Dịch vụ đăng ký "),a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v(": ")])],1),a(r["a"],{attrs:{xs12:"",sm10:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(i["a"],{attrs:{items:t.postalServiceItems,"item-text":"itemName","item-value":"itemCode","hide-no-data":"",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},model:{value:t.dichVuChuyenPhatHoSo.postalServiceCode,callback:function(e){t.$set(t.dichVuChuyenPhatHoSo,"postalServiceCode",e)},expression:"dichVuChuyenPhatHoSo.postalServiceCode"}})],1),a(r["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(p["a"],{staticClass:"pl-0"},[t._v("Địa chỉ nhận hồ sơ"),a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v(": ")])],1),a(r["a"],{attrs:{xs12:"",sm10:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(u["a"],{attrs:{rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},model:{value:t.dichVuChuyenPhatHoSo.postalAddress,callback:function(e){t.$set(t.dichVuChuyenPhatHoSo,"postalAddress",e)},expression:"dichVuChuyenPhatHoSo.postalAddress"}})],1),a(r["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(p["a"],{staticClass:"pl-0"},[t._v("Tỉnh/Thành phố"),a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v(": ")])],1),a(r["a"],{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(i["a"],{attrs:{items:t.citys,"item-text":"itemName","item-value":"itemCode","hide-no-data":"",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},on:{change:t.onChangeResultCity},model:{value:t.dichVuChuyenPhatHoSo.postalCityCode,callback:function(e){t.$set(t.dichVuChuyenPhatHoSo,"postalCityCode",e)},expression:"dichVuChuyenPhatHoSo.postalCityCode"}})],1),a(r["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(p["a"],{staticClass:"pl-0"},[t._v("Quận/Huyện"),a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v(": ")])],1),a(r["a"],{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(i["a"],{attrs:{items:t.resultDistricts,"item-text":"itemName","item-value":"itemCode","hide-no-data":"",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},on:{change:t.onChangeResultDistrict},model:{value:t.dichVuChuyenPhatHoSo.postalDistrictCode,callback:function(e){t.$set(t.dichVuChuyenPhatHoSo,"postalDistrictCode",e)},expression:"dichVuChuyenPhatHoSo.postalDistrictCode"}})],1),a(r["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(p["a"],{staticClass:"pl-0"},[t._v("SĐT người gửi"),a("span",{staticStyle:{color:"red"}},[t._v(" * ")]),t._v(": ")])],1),a(r["a"],{attrs:{xs12:"",sm10:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(u["a"],{attrs:{rules:[t.rules.telNo,t.rules.required],required:""},model:{value:t.dichVuChuyenPhatHoSo.postalTelNo,callback:function(e){t.$set(t.dichVuChuyenPhatHoSo,"postalTelNo",e)},expression:"dichVuChuyenPhatHoSo.postalTelNo"}})],1),t.showTinhPhi?a(r["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(p["a"],{staticClass:"pl-0"},[t._v("Khối lượng: ")])],1):t._e(),t.showTinhPhi?a(r["a"],{attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(u["a"],{attrs:{suffix:"(gam)",type:"number"},on:{input:t.getFee},model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}})],1):t._e(),t.showTinhPhi?a(r["a"],{attrs:{xs12:"",sm2:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(p["a"],{staticClass:"pl-0",staticStyle:{"padding-top":"7px"}},[t._v("Phí vận chuyển tạm tính: ")])],1):t._e(),t.showTinhPhi?a(r["a"],{staticStyle:{"padding-top":"10px"},attrs:{xs12:"",sm4:""}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),a("span",{style:t.loadingFee?"color:black;opacity:0.5":"color:red;font-weight: bold;"},[t._v(t._s(t.feeVnPost)+" VNĐ")])],1):t._e()],1)],1)],1)],1):t._e()],1),a("div",{staticClass:"absolute__btn",staticStyle:{width:"200px","margin-top":"5px"}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a(s["a"],{staticClass:"mt-0",attrs:{label:"Đăng ký thu hồ sơ tại nhà",value:1},on:{change:function(e){return t.changeViaPostal(e)}},model:{value:t.dichVuChuyenPhatHoSo.vnpostalStatus,callback:function(e){t.$set(t.dichVuChuyenPhatHoSo,"vnpostalStatus",e)},expression:"dichVuChuyenPhatHoSo.vnpostalStatus"}})],1)],1)},m=[],g=a("bc3a"),f=a.n(g),_=a("bbd0"),C={props:["detailDossier"],data:function(){return{loadingFee:!1,showTinhPhi:!1,weight:"",feeVnPost:"",valid_dichvuchuyenphat:!1,citys:_.danhMucVNPOST,resultDistricts:[],resultWards:[],vnPostItems:[],postalServiceItems:[{itemName:"VNPOST",itemCode:"VNPOST"}],rules:{required:function(t){return!!t||"Trường dữ liệu bắt buộc"},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Địa chỉ Email không hợp lệ"},telNo:function(t){var e=/^([0-9]{0,})$/;return e.test(t)||"Gồm các ký tự 0-9"}},functionTimeOutGetFee:""}},computed:{loading:function(){return this.$store.getters.loading},thongTinChuHoSoBindChuyenPhat:function(){return this.$store.getters.thongTinChuHoSoBindChuyenPhat},dichVuChuyenPhatHoSo:function(){return this.$store.getters.dichVuChuyenPhatHoSo}},created:function(){var t=this;try{t.showTinhPhi=showTinhPhi}catch(e){}t.postalServiceItems.length>0&&(t.dichVuChuyenPhatHoSo.postalServiceCode=t.postalServiceItems[0].itemCode)},watch:{thongTinChuHoSoBindChuyenPhat:function(t){}},mounted:function(){},methods:{initData:function(t){var e=this;e.$nextTick((function(){}))},onChangeResultCity:function(t){var e=this;e.resultDistricts=[],e.resultWards=[];var a={collectionCode:"VNPOST_CITY_CODE",level:1,parent:t};e.$store.getters.getDictItems(a).then((function(t){e.resultDistricts=t.data,e.dichVuChuyenPhatHoSo.postalDistrictCode=""})),e.dichVuChuyenPhatHoSo.postalCityName=e.citys.filter((function(e){return e.itemCode===t}))[0]["itemName"],e.showTinhPhi&&e.getFee()},onChangeResultDistrict:function(t){var e=this;e.dichVuChuyenPhatHoSo.postalDistrictName=e.resultDistricts.filter((function(e){return e.itemCode===t}))[0]["itemName"],e.showTinhPhi&&e.getFee()},onChangeResultWard:function(t){var e=this;e.dichVuChuyenPhatHoSo.postalWardName=e.resultWards.filter((function(e){return e.itemCode===t}))[0]["itemName"]},changeViaPostal:function(t){this.$store.commit("setViaPostal",t),this.$emit("changeViapostal",t);var e={vnpostalStatus:t,postalServiceCode:this.dichVuChuyenPhatHoSo.postalServiceCode?this.dichVuChuyenPhatHoSo.postalServiceCode:"",postalAddress:this.dichVuChuyenPhatHoSo.postalAddress?this.dichVuChuyenPhatHoSo.postalAddress:"",postalCityCode:this.dichVuChuyenPhatHoSo.postalCityCode?this.dichVuChuyenPhatHoSo.postalCityCode:"",postalCityName:this.dichVuChuyenPhatHoSo.postalCityName?this.dichVuChuyenPhatHoSo.postalCityName:"",postalDistrictCode:this.dichVuChuyenPhatHoSo.postalDistrictCode?this.dichVuChuyenPhatHoSo.postalDistrictCode:"",postalDistrictName:this.dichVuChuyenPhatHoSo.postalDistrictName?this.dichVuChuyenPhatHoSo.postalDistrictName:"",postalWardCode:this.dichVuChuyenPhatHoSo.postalWardCode?this.dichVuChuyenPhatHoSo.postalWardCode:"",postalWardName:this.dichVuChuyenPhatHoSo.postalWardName?this.dichVuChuyenPhatHoSo.postalWardName:"",postalTelNo:this.dichVuChuyenPhatHoSo.postalTelNo?this.dichVuChuyenPhatHoSo.postalTelNo:""};this.$store.commit("setDichVuChuyenPhatHoSo",e)},validDichVuChuyenPhat:function(){var t=this;return t.$refs.formDichVuChuyenPhatHoSo.validate()},getFee:function(){var t=this,e=t.$router.history.current.query;t.functionTimeOutGetFee&&clearTimeout(t.functionTimeOutGetFee),t.functionTimeOutGetFee=setTimeout((function(){if(t.dichVuChuyenPhatHoSo.postalCityCode&&t.dichVuChuyenPhatHoSo.postalDistrictCode){t.loadingFee=!0;var a="/o/rest/v2/postal/vnpostprice",i="POST",o={groupId:e.hasOwnProperty("groupIdSiteMng")&&e.groupIdSiteMng?e.groupIdSiteMng:window.themeDisplay.getScopeGroupId()},n=new URLSearchParams;n.append("GovAgencyCode",t.detailDossier.govAgencyCode),n.append("senderProvince",t.dichVuChuyenPhatHoSo.postalCityCode),n.append("senderDistrict",t.dichVuChuyenPhatHoSo.postalDistrictCode),n.append("receiverProvince",""),n.append("receiverDistrict",""),n.append("weight",t.weight);var s={};f()({method:i,url:a,headers:o,params:s,data:n}).then((function(e){t.loadingFee=!1,t.feeVnPost=e.data?t.currency(e.data):""})).catch((function(t){}))}else t.feeVnPost=""}),1e3)},currency:function(t){if(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""}}},v=C,y=a("2877"),T=Object(y["a"])(v,h,m,!1,null,null,null);e["a"]=T.exports},fcfe:function(module,__webpack_exports__,__webpack_require__){"use strict";var jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),toastr__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_1__);toastr__WEBPACK_IMPORTED_MODULE_1___default.a.options={closeButton:!0,timeOut:"2000"},__webpack_exports__["a"]={props:{onlyView:{type:Boolean,default:function(){return!1}},id:{type:String,default:function(){return"nm"}},partTypes:{type:Array,default:function(){return[1,3]}},checkInput:{type:Number,default:function(){return 0}},formCode:{type:String,default:function(){return""}}},data:function(){return{dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],pdfEform:!1,sampleCount:0,serviceInfoId:0,fileMarkItems:[{text:"Không có",value:0},{text:"Bản chụp",value:1},{text:"Bản sao",value:2},{text:"Bản gốc",value:3},{text:"Bản dịch",value:4}],fileCheckItems:[{text:"Chưa kiểm tra",value:0},{text:"Đạt",value:1},{text:"Không đạt",value:2}],fileTemplateItems:[],fileTemplateNoString:"",dossierFilesApplicant:[],stateViewResult:!0,currentFormView:"",pstFixed:0,pstEl:0,endEl:0,applicantNoteDossier:"",doChange:""}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData},dossierTemplateItemsFilter:function(){var t=this,e=t.dossierTemplateItems;if(e.length>0){var a=e.filter((function(e){return t.partTypes.includes(e.partType)&&t.checkVisibleTemp(e,0)}));return a}},applicantBussinessExit:function(){return this.$store.getters.getApplicantBussinessExit},applicantId:function(){return this.$store.getters.getApplicantIdNo},applicantNote:function(){return this.$store.getters.getApplicantNote},dossierIntoGroup:function(){return this.$store.getters.getDossierIntoGroup}},mounted:function(){var t=this;t.page=1,t.$nextTick((function(){}))},watch:{applicantBussinessExit:function(t){var e=this;t&&e.fileTemplateNoString&&e.getDossierFileApplicants(t,e.fileTemplateNoString)},applicantId:function(t){var e=this;t&&e.fileTemplateNoString&&e.getDossierFileApplicants(t,e.fileTemplateNoString)}},methods:{resetCounterTemplate:function(t,e){t.commit,t.state;var a=this;a.dossierTemplateItems.forEach((function(t){t.partNo===e.partNo&&(t.hasForm?t.count=1:t.count=0)}))},recountFileTemplates:function(){var t=this;t.dossierTemplateItems.forEach((function(e){e.count=0,t.dossierFilesItems.forEach((function(t){e.partNo!==t.dossierPartNo||t.eForm||e.count++}))}))},initData:function(t){var e=this;e.$store.dispatch("getDocumentType").then((function(t){var a=function(t){function e(t,e){return t.itemCode<e.itemCode?-1:t.itemCode>e.itemCode?1:0}return t.sort(e)};if(t){var i=a(t);for(var o in e.fileMarkItems=[],i)e.fileMarkItems.push({text:i[o]["itemName"],value:i[o]["itemCode"]})}})),e.thongTinHoSo=t,e.applicantNoteDossier=t["applicantNote"]&&String(t["applicantNote"]).indexOf("<br>[")<0?t["applicantNote"]:"";var a=[];null!==t["sampleCount"]&&void 0!==t["sampleCount"]&&"undefined"!==t["sampleCount"]&&(e.sampleCount=t["sampleCount"]),a.push(e.$store.dispatch("loadDossierTemplates",t)),a.push(e.$store.dispatch("loadDossierMark",t)),a.push(e.$store.dispatch("loadDossierFiles",t.dossierId)),a.push(e.$store.dispatch("getServiceInfo",{serviceInfoId:t.serviceCode})),Promise.all(a).then((function(t){var a=t[0]["dossierParts"],i=t[1],o=t[2],n=[];t[3].hasOwnProperty("serviceInfoId")&&(e.serviceInfoId=t[3].serviceInfoId),t[3].fileTemplates&&(Array.isArray(t[3].fileTemplates)?n=t[3].fileTemplates:n.push(t[3].fileTemplates));var s=e.mergeDossierTemplateVsDossierFiles(a,o);if(s=e.mergeDossierTemplateVsDossierMark(s,i),s=e.mergeDossierTemplateVsFileTemplates(s,n),e.dossierFilesItems=o,e.dossierMarksItems=i,e.fileTemplateItems=n,e.dossierTemplateItems=s,e.partTypes.includes(2)&&e.dossierTemplateItems.length>0){var r=[];e.dossierTemplateItems.forEach((function(t){var a=e.dossierFilesItems.find((function(e){return t.partNo===e.dossierPartNo&&2===t.partType}));a&&r.push(t)})),e.dossierTemplateItems=r}e.changeStateViewResult(),setTimeout((function(t){e.genAllAlpacaForm(o,s),e.recountFileTemplates()}),500);var l=[];for(var c in e.dossierTemplateItems)e.dossierTemplateItems[c]["fileTemplateNo"]&&l.push(e.dossierTemplateItems[c]["fileTemplateNo"]);l.length>0&&(e.fileTemplateNoString=l.toString(),e.applicantId&&!e.onlyView&&e.getDossierFileApplicants(e.applicantId,e.fileTemplateNoString))})).catch((function(t){}))},genAllAlpacaForm:function(t,e){var a=this;if(t.length>0){var i=t.filter((function(t){return t.eForm})),o=e.filter((function(t){return t.hasForm&&a.partTypes.includes(t.partType)}));i.length>0?i.forEach((function(t){t.eForm&&a.$store.dispatch("loadAlpcaForm",t)})):e.forEach((function(t){t.hasForm&&a.partTypes.includes(t.partType)&&(t["templateFileNo"]=a.thongTinHoSo.dossierTemplateNo,a.showAlpacaJSFORM(t))})),o.length!==i.length&&o.forEach((function(t){var e=i.findIndex((function(e){return t.partNo===e.dossierPartNo}));-1===e&&(t["templateFileNo"]=a.thongTinHoSo.dossierTemplateNo,a.showAlpacaJSFORM(t))}))}else e.forEach((function(t){t.hasForm&&a.partTypes.includes(t.partType)&&(t["templateFileNo"]=a.thongTinHoSo.dossierTemplateNo,a.showAlpacaJSFORM(t))}))},postDossierMark:function(t,e){var a=this;t["dossierId"]=a.thongTinHoSo.dossierId,a.$store.dispatch("postDossierMark",t).then((function(t){})).catch((function(t){}))},mergeDossierTemplateVsDossierFiles:function(t,e){var a=this;return 0!==e.length?t.forEach((function(t){t["editForm"]=!0,t["daKhai"]=!1,t["passRequired"]=!1;var i=e.find((function(e){return t.partNo===e.dossierPartNo&&a.partTypes.includes(t.partType)&&e.eForm&&!e.removed&&0!==e.fileSize}));i&&(t["daKhai"]=!0,t["hasForm"]=!0,t["referenceUid"]=i["referenceUid"]),e.forEach((function(e){t.partNo===e.dossierPartNo&&(t["passRequired"]=!0)}))})):t.forEach((function(t){t.hasForm&&(t["daKhai"]=!1,t["passRequired"]=!1,t["editForm"]=!0)})),t},mergeDossierTemplateVsDossierMark:function(t,e){return 0!==e.length?t.map((function(t){t["count"]=0,t["stateEditFileCheck"]=!1;var a=e.find((function(e){return e.dossierPartNo===t.partNo}));return null!==a&&void 0!==a?(t["fileMark"]=a.fileMark,t["fileComment"]=a.fileComment,t["fileCheck"]=a.fileCheck,t["recordCount"]=a.recordCount):(t["fileMark"]=0,t["fileComment"]="",t["fileCheck"]=0,t["recordCount"]=""),t})):t&&t.forEach((function(t){t["stateEditFileCheck"]=!1,t["count"]=0,t["fileMark"]=0,t["fileComment"]="",t["fileCheck"]=0,t["stateEditFileCheck"]=!1})),t},mergeDossierTemplateVsFileTemplates:function(t,e){return 0!==e.length?t.map((function(t){var a=e.find((function(e){return e.fileTemplateNo===t.fileTemplateNo}));return t["hasFileTemp"]=null!==a&&void 0!==a?a.fileTemplateNo:"",t})):t&&t.forEach((function(t){t["hasFileTemp"]=""})),t},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item["dossierId"]=vm.thongTinHoSo.dossierId,vm.$store.dispatch("loadFormScript",item).then((function(resScript){vm.$store.dispatch("loadFormData",item).then((function(resData){var formScript,formData;window.$("#formAlpaca"+item.partNo+vm.id).empty(),formScript=resScript?eval("("+resScript+")"):{},resData?(formData=eval("("+resData+")"),item["loaded"]=!0):formData={},formScript.data=formData,window.$("#formAlpaca"+item.partNo+vm.id).alpaca(formScript)}))}))},saveAlpacaForm:function(t,e){var a=this,i=a.dossierFilesItems.find((function(e){return e.dossierPartNo===t.partNo&&e.eForm&&0!==e.fileSize}));i?(i["dossierId"]=a.thongTinHoSo.dossierId,i["id"]=a.id,a.$store.dispatch("putAlpacaForm",i).then((function(t){a.dossierIntoGroup.length>0&&a.$store.commit("setFilesAdd",[resPostEform]),a.$store.dispatch("loadDossierFiles",a.thongTinHoSo.dossierId).then((function(t){a.dossierFilesItems=t})).catch((function(t){})),a.dossierTemplateItems[e]["passRequired"]=!0})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_1___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_1___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))):(t["dossierId"]=a.thongTinHoSo.dossierId,t["id"]=a.id,a.$store.dispatch("postEform",t).then((function(t){a.dossierIntoGroup.length>0&&a.$store.commit("setFilesAdd",[t]),a.dossierTemplateItems[e].daKhai=!0,a.dossierTemplateItems[e]["passRequired"]=!0,a.$store.dispatch("loadDossierFiles",a.thongTinHoSo.dossierId).then((function(t){a.dossierFilesItems=t})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_1___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_1___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_1___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_1___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))},onDeleteAttackFiles:function(t){var e=this,a=confirm("Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?");a&&e.dossierFilesItems.forEach((function(a){a.dossierPartNo===t.partNo&&(a["dossierId"]=e.thongTinHoSo.dossierId,e.$store.dispatch("deleteAttackFiles",a).then((function(a){e.resetCounterTemplate(t),e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId)})).catch((function(t){})))}))},changeApplicantNote:function(){var t=this;t.$store.commit("setApplicantNote",t.applicantNoteDossier)},pickFile:function(t){var e=this;e.stateAddFileOther=!1,document.getElementById("file"+t.partNo).value="",6===t["partType"]||t["partType"],document.getElementById("file"+t.partNo).click()},onUploadSingleFile:function(t,e,a){var i=this;if(i.dossierTemplatesItemSelect=e,i.progressUploadPart=e.partNo,e["dossierId"]=i.thongTinHoSo.dossierId,e["dossierTemplateNo"]=i.thongTinHoSo.dossierTemplateNo,3!==e.partType)i.$store.dispatch("uploadSingleFile",e).then((function(t){i.dossierIntoGroup.length>0&&i.$store.commit("setFilesAdd",t),i.dossierTemplateItems[a]["passRequired"]=!0,i.progressUploadPart="",i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then((function(t){i.dossierFilesItems=t,i.recountFileTemplates()}))})).catch((function(t){t.length>0&&(i.dossierTemplateItems[a]["passRequired"]=!0),i.progressUploadPart="",i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then((function(t){i.dossierFilesItems=t,i.recountFileTemplates()}))}));else{if(0===window.$("#file"+e.partNo)[0].files.length)return void(i.progressUploadPart="");i.partView=e.partNo,i.stateView=!0,i.dialogAddOtherTemp=!0}},loadAlpcaForm:function(t){var e=this,a=e.dossierFilesItems.find((function(e){return e.dossierPartNo===t.partNo&&e.eForm}));a?(a["id"]=e.id,e.$store.dispatch("loadAlpcaForm",a)):e.dossierTemplateItems.forEach((function(a){a.hasForm&&t.partNo===a.partNo&&(a["templateFileNo"]=e.thongTinHoSo.dossierTemplateNo,e.showAlpacaJSFORM(a))}))},loadAlpcaFormClick:function(t){var e=this;e.currentFormView==="formAlpaca"+t.partNo+e.id?e.currentFormView="":e.currentFormView="formAlpaca"+t.partNo+e.id,e.pstEl=e.endEl=0,setTimeout((function(){jquery__WEBPACK_IMPORTED_MODULE_0___default()("#formAlpaca"+t.partNo+e.id).height()>200&&(e.pstEl=jquery__WEBPACK_IMPORTED_MODULE_0___default()("#wrapForm"+t.partNo+e.id).offset().top,e.endEl=jquery__WEBPACK_IMPORTED_MODULE_0___default()("#formAlpaca"+t.partNo+e.id).height(),jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).scroll((function(){e.pstFixed=jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).scrollTop()})))}),500);var a=e.dossierFilesItems.find((function(e){return e.dossierPartNo===t.partNo&&e.eForm&&e.fileSize}));a?(a["id"]=e.id,e.$store.dispatch("loadAlpcaForm",a),t["editForm"]=!1,e.$store.dispatch("viewFile",a).then((function(t){document.getElementById("displayPDF"+a.dossierPartNo+e.id).src=t}))):e.dossierTemplateItems.forEach((function(a){a.hasForm&&t.partNo===a.partNo&&(a["templateFileNo"]=e.thongTinHoSo.dossierTemplateNo,a["loaded"]||e.showAlpacaJSFORM(a))}))},editFormAlpaca:function(t){var e=this;t["editForm"]=!0,setTimeout((function(){var a=e.dossierFilesItems.find((function(e){return e.dossierPartNo===t.partNo&&e.eForm}));a["id"]=e.id,e.$store.dispatch("loadAlpcaForm",a)}),200)},deleteSingleFileEform:function(t,e){var a=this,i=confirm("Bạn có chắc chắn xóa file?");i&&a.dossierFilesItems.forEach((function(i){i.dossierPartNo===t.partNo&&i.eForm&&(i["dossierId"]=a.thongTinHoSo.dossierId,a.$store.dispatch("deleteDossierFile",i).then((function(i){a.dossierTemplateItems[e].daKhai=!1,a.$store.dispatch("loadDossierFiles",a.thongTinHoSo.dossierId).then((function(i){if(a.dossierFilesItems=i,a.recountFileTemplates(),t["editForm"]=!0,setTimeout((function(){a.loadAlpcaForm(t)}),200),0!==a.dossierFilesItems.length){var o=a.dossierFilesItems.filter((function(e){return e.dossierPartNo===t.partNo}));a.dossierTemplateItems[e]["passRequired"]=!!o}else a.dossierTemplateItems[e]["passRequired"]=!1}))})))}))},previewFileEfom:function(t,e){var a=this;a.dossierFilesItems.forEach((function(e){e.dossierPartNo===t.partNo&&e.eForm&&!e.removed&&(e["dossierId"]=a.thongTinHoSo.dossierId,a.dialogPDFLoading=!0,a.dialogPDF=!0,a.onlyView?a.$store.dispatch("viewFile",e).then((function(t){a.dialogPDFLoading=!1,e["eForm"]?a.pdfEform=!0:a.pdfEform=!1,document.getElementById("dialogPDFPreview"+a.id).src=t})):(e["id"]=a.id,a.$store.dispatch("putAlpacaForm",e).then((function(t){setTimeout((function(){a.$store.dispatch("viewFile",e).then((function(t){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+a.id).src=t}))}),1e3)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_1___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_1___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))))}))},previewFormAlpaca:function(t,e){var a=this;a.dossierFilesItems.forEach((function(e){e.dossierPartNo===t.partNo&&e.eForm&&!e.removed&&(e["dossierId"]=a.thongTinHoSo.dossierId,a.onlyView?(t["editForm"]=!1,a.$store.dispatch("viewFile",e).then((function(i){e["eForm"]?a.pdfEform=!0:a.pdfEform=!1,document.getElementById("displayPDF"+t.dossierPartNo+a.id).src=i}))):(e["id"]=a.id,a.$store.dispatch("putAlpacaForm",e).then((function(i){t["editForm"]=!1,setTimeout((function(){a.$store.dispatch("viewFile",e).then((function(t){document.getElementById("displayPDF"+e.dossierPartNo+a.id).src=t}))}),500)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_1___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_1___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))))}))},deleteSingleFile:function(t,e){var a=this,i=confirm("Bạn có chắc chắn xóa file đính kèm ?");i&&(t["dossierId"]=a.thongTinHoSo.dossierId,a.$store.dispatch("deleteDossierFile",t).then((function(i){a.fileViews.splice(e,1),a.stateView=!0,a.partView=t.dossierPartNo,a.$store.dispatch("loadDossierFiles",a.thongTinHoSo.dossierId).then((function(e){a.dossierFilesItems=e,a.setDaKhai(t)}))})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_1___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_1___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))},viewFile:function(t){var e=this,a=this;a.dossierFilesItems.forEach((function(i){i["dossierId"]=a.thongTinHoSo.dossierId,i.dossierPartNo===t.partNo&&e.$store.dispatch("viewFile",i)}))},setDaKhai:function(t){var e=this,a=e.dossierFilesItems.findIndex((function(e){return e.dossierPartNo===t.dossierPartNo}));if(-1===a){for(var i=0;i<e.dossierTemplateItems.length;i++)if(e.dossierTemplateItems[i].partNo===t.dossierPartNo){e.dossierTemplateItems[i]["passRequired"]=!1;break}}else for(i=0;i<e.dossierTemplateItems.length;i++)if(e.dossierTemplateItems[i].partNo===t.dossierPartNo){e.dossierTemplateItems[i]["passRequired"]=!0;break}},checkPartType3:function(){var t=this;if(0!==t.dossierTemplateItems.length)for(var e=0;e<t.dossierTemplateItems.length;e++)if(3===t.dossierTemplateItems[e].partType)return!0;return!1},viewFile2:function(t){var e=this;if(0!==t.fileSize)if(t["eForm"]?e.pdfEform=!0:e.pdfEform=!1,"doc"===t.fileType||"docx"===t.fileType||"xlsx"===t.fileType||"xls"===t.fileType||"zip"===t.fileType||"rar"===t.fileType||"txt"===t.fileType||"mp3"===t.fileType||"mp4"===t.fileType){var a=e.initDataResource.dossierApi+"/"+e.thongTinHoSo.dossierId+"/files/"+t.referenceUid;window.open(a)}else t["dossierId"]=e.thongTinHoSo.dossierId,t.referenceUid?(e.dialogPDFLoading=!0,e.dialogPDF=!0,e.$store.dispatch("viewFile",t).then((function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+e.id).src=t}))):(toastr__WEBPACK_IMPORTED_MODULE_1___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_1___default.a.error("File dữ liệu không tồn tại"))},attachToDossier:function(t,e){var a=this;t["dossierId"]=a.thongTinHoSo.dossierId,3!==t.partType&&(a.progressUploadPart=t.dossierFileId,a.$store.dispatch("copyFile",t).then((function(t){a.progressUploadPart="",a.dossierTemplateItems[e]["passRequired"]=!0,a.$store.dispatch("loadDossierFiles",a.thongTinHoSo.dossierId).then((function(t){a.dossierFilesItems=t,a.recountFileTemplates()}))})).catch((function(t){a.progressUploadPart="",toastr__WEBPACK_IMPORTED_MODULE_1___default.a.error("Đính kèm tài liệu thất bại")})))},viewGiayToDaNop:function(t){var e=this;if(0!==t.fileSize)if(t["eForm"]?e.pdfEform=!0:e.pdfEform=!1,"doc"===t.fileType||"docx"===t.fileType||"xlsx"===t.fileType||"xls"===t.fileType||"zip"===t.fileType||"rar"===t.fileType||"txt"===t.fileType||"mp3"===t.fileType||"mp4"===t.fileType){var a=e.initDataResource.dossierApi+"/"+t.dossierId+"/files/"+t.referenceUid;window.open(a)}else t.referenceUid?(e.dialogPDFLoading=!0,e.dialogPDF=!0,e.$store.dispatch("viewFile",t).then((function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+e.id).src=t}))):(toastr__WEBPACK_IMPORTED_MODULE_1___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_1___default.a.error("File dữ liệu không tồn tại"))},viewFileWithPartNo:function(t){var e=this;if(e.dossierFilesItems){var a=e.dossierFilesItems.filter((function(e){return e.dossierPartNo===t.partNo&&!e.eForm}));if(!a)return;e.fileViews=a,e.partView!==t.partNo?(e.stateView=!0,e.partView=t.partNo):(e.stateView=!e.stateView,e.partView=t.partNo)}},saveMark:function(){var t=this;t.dossierTemplateItems&&t.dossierTemplateItems.forEach((function(e,a){1===e.partType&&(e["dossierId"]=t.thongTinHoSo.dossierId,t.$store.dispatch("postDossierMark",e))}))},changeFileMark:function(t,e){var a=this;if(!a.onlyView){var i=a.dossierTemplateItems[e];i["dossierId"]=a.thongTinHoSo.dossierId,i["fileMark"]=t,i["checkInput"]=a.checkInput,a.$store.dispatch("postDossierMark",i),a.dossierTemplateItems[e].fileMark=t}},changeFileCheck:function(t,e){var a=this,i=a.dossierTemplateItems[e];i["dossierId"]=a.thongTinHoSo.dossierId,i["fileCheck"]=t,i["checkInput"]=a.checkInput,2!==t?(i["fileComment"]="",a.$store.dispatch("postDossierMark",i),a.dossierTemplateItems[e].fileCheck=t):i["stateEditFileCheck"]=!0},changeFileComment:function(t,e){var a=this;null!==t.fileComment&&void 0!==t.fileComment&&""!==t.fileComment&&(t["dossierId"]=a.thongTinHoSo.dossierId,t["fileComment"]=t.fileComment,t["checkInput"]=a.checkInput,t["stateEditFileCheck"]=!t["stateEditFileCheck"],a.$store.dispatch("postDossierMark",t),a.dossierTemplateItems[e].fileComment=t.fileComment)},checkStyle:function(t){var e=this;if(1===e.checkInput)return"calc(100% - 140px)";var a=0;return 1===e.originality||1!==t.partType||e.thongTinHoSo.online||1===e.checkInput||(e.onlyView?a+=140:a+=240),t.fileCheck>0&&!e.thongTinHoSo.online&&(a+=20),t.fileCheck>0&&e.thongTinHoSo.online&&(a+=40),e.onlyView||(a+=90),"calc(100% - "+a+"px)"},checkVisibleTemp:function(t,e){var a=this;if(!a.onlyView)return!0;if(3===t.partType){if(a.dossierFilesItems.length>0){var i=a.dossierFilesItems.findIndex((function(e){return e.dossierPartNo===t.partNo}));return-1!==i}return!1}return!0},changeStateViewResult:function(){var t=this;if(t.dossierFilesItems.length>0){var e=t.dossierFilesItems.findIndex((function(t){return 2===t.dossierPartType||7===t.dossierPartType}));-1!==e?t.$emit("tp:change-state-view-result",!0):t.$emit("tp:change-state-view-result",!1)}else(t.partTypes.includes(2)||t.partTypes.includes(7))&&t.$emit("tp:change-state-view-result",!1)},changeOtherDossierTemp:function(t){var e=this;if(3===e.originality&&e.stateAddFileOther)e.loadingAddOther=!0,e.$store.dispatch("uploadSingleOtherFile",{dossierId:e.thongTinHoSo.dossierId,displayName:t,partNo:e.dossierTemplatesItemSelect.partNo}).then((function(t){e.loadingAddOther=!1,e.dialogAddOtherTemp=!1,e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then((function(t){e.dossierFilesItems=t}))})).catch((function(t){e.loadingAddOther=!1}));else{var a=e.dossierTemplatesItemSelect;a["dossierId"]=e.thongTinHoSo.dossierId,a["displayName"]=t,a["dossierTemplateNo"]=e.thongTinHoSo.dossierTemplateNo,e.$store.dispatch("uploadSingleFile",a).then((function(t){e.progressUploadPart="",e.dialogAddOtherTemp=!1,e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then((function(t){if(e.dossierFilesItems=t,e.recountFileTemplates(),e.stateView&&e.dossierFilesItems){var a=e.dossierFilesItems.filter((function(t){return t.dossierPartNo===e.dossierTemplatesItemSelect.partNo&&!t.eForm}));a&&(e.fileViews=a)}}))})).catch((function(t){e.progressUploadPart=""}))}},downloadFileTemplate:function(t,e){var a=this;if(a.fileTemplateItems.length>0){var i=a.fileTemplateItems.find((function(e){return t.fileTemplateNo===e.fileTemplateNo}));if(i){var o=a.initDataResource.serviceInfoApi+"/"+a.serviceInfoId+"/filetemplates/"+i.fileTemplateNo;window.open(o)}}},addOtherTemplate:function(){var t=this;t.$refs.form.validate()&&t.changeOtherDossierTemp(t.otherDossierTemplate)},editDisplayName:function(t,e){var a=this;a.dossierFileIdView!==t.dossierFileId?(a.dossierFileIdView=t.dossierFileId,a.stateEdit=!0):(a.dossierFileIdView=t.dossierFileId,a.stateEdit=!a.stateEdit)},cancelDialog:function(){var t=this;t.dialogAddOtherTemp=!1,t.progressUploadPart=""},addFileOther:function(t){var e=this;e.dialogAddOtherTemp=!0,e.stateAddFileOther=!0,e.dossierTemplatesItemSelect=t},validDossierTemplate:function(){var t=this;if(t.dossierTemplateItems.length>0){for(var e=0;e<t.dossierTemplateItems.length;e++)if(t.dossierTemplateItems[e]["required"]&&!t.dossierTemplateItems[e]["passRequired"]&&t.partTypes.includes(t.dossierTemplateItems[e].partType)){var a="Chú ý :"+t.dossierTemplateItems[e].partName+" là thành phần bắt buộc!";return toastr__WEBPACK_IMPORTED_MODULE_1___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_1___default.a.error(a),!1}return!0}return!0},changeDisplayName:function(t,e){var a=this,i={dossierId:a.thongTinHoSo.dossierId,value:value};a.$store.dispatch("changeDisplayNameFile",i).then((function(t){a.fileViews[e].displayName=t.displayName,a.stateEdit=!1})).catch((function(t){}))},getDossierFileApplicants:function(t,e){var a=this,i={dossierId:a.thongTinHoSo.dossierId,applicantIdNo:t,fileTemplateNo:e};a.$store.dispatch("getDossierFilesApplicants",i).then((function(t){a.dossierFilesApplicant=t})).catch((function(t){}))},showFilesApplicant:function(t){jquery__WEBPACK_IMPORTED_MODULE_0___default()("#fileApplicant-"+t).is(":visible")?jquery__WEBPACK_IMPORTED_MODULE_0___default()("#fileApplicant-"+t).hide():jquery__WEBPACK_IMPORTED_MODULE_0___default()("#fileApplicant-"+t).show()},checkKQhasFile:function(t){var e=this;if(e.partTypes.includes(2)){var a=e.dossierFilesItems.find((function(e){return t.partNo===e.dossierPartNo}));return!!a}return!0},partNoApplicantHasFile:function(t){var e=this,a=e.dossierFilesApplicant.find((function(a){return a.dossierTemplateNo===e.thongTinHoSo["dossierTemplateNo"]&&a.dossierPartNo===t}));return!!a},changeRecordCount:function(t){var e=this;if(!e.onlyView){var a=function(){e.doChange=setTimeout((function(){if(!e.onlyView&&Number(e.dossierTemplateItems[t]["recordCount"])>=0){var a=Object.assign({},e.dossierTemplateItems[t],{dossierId:e.thongTinHoSo.dossierId});e.$store.dispatch("postDossierMark",a)}}),3e3)};e.dossierTemplateItems[t].recordCount=e.dossierTemplateItems[t]["recordCount"]?e.dossierTemplateItems[t]["recordCount"]:"",clearTimeout(e.doChange),a()}},increaseCounter:function(t){var e=this;function a(){e.doChange=setTimeout((function(){if(!e.onlyView&&Number(e.dossierTemplateItems[t]["recordCount"])>=0){var a=Object.assign({},e.dossierTemplateItems[t],{dossierId:e.thongTinHoSo.dossierId});e.$store.dispatch("postDossierMark",a)}}),3e3)}e.dossierTemplateItems[t].recordCount=e.dossierTemplateItems[t]["recordCount"]?e.dossierTemplateItems[t]["recordCount"]:"",e.dossierTemplateItems[t]["recordCount"]=Number(e.dossierTemplateItems[t]["recordCount"])+1,clearTimeout(e.doChange),a()},decreaseCounter:function(t){var e=this;function a(){e.doChange=setTimeout((function(){if(!e.onlyView&&Number(e.dossierTemplateItems[t]["recordCount"])>=0){var a=Object.assign({},e.dossierTemplateItems[t],{dossierId:e.thongTinHoSo.dossierId});e.$store.dispatch("postDossierMark",a)}}),3e3)}e.dossierTemplateItems[t].recordCount=e.dossierTemplateItems[t]["recordCount"]?e.dossierTemplateItems[t]["recordCount"]:"",e.dossierTemplateItems[t]["recordCount"]=Number(e.dossierTemplateItems[t]["recordCount"])-1,clearTimeout(e.doChange),a()},getFilesGroupDossier:function(){var t=this;return t.dossierFilesItems},getDocumentTypeIcon:function(t){var e="doc,docx",a="xls,xlsx",i="png,jpg,jpeg";return t?e.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:a.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===t.toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:i.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:""}}}}}]);