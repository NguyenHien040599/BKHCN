(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app~8b2f0234"],{"335e":function(t,e,a){"use strict";var i=a("ac7c"),o=a("8fea"),n=a("3a2f"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.dossiersgroup.length>0?a("div",{staticClass:"mb-3"},[a(o["a"],{staticClass:"table-landing table-bordered",attrs:{"select-all":"",headers:t.headers,items:t.dossiersgroup,pagination:t.pagination,"hide-actions":"","item-key":"dossierId"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",[a("th",{staticClass:"v_data_table_check_all",staticStyle:{"padding-left":"14px !important"},attrs:{width:"32px"}},[a(i["a"],{attrs:{"input-value":e.all,indeterminate:e.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(e){return t.toggleAllSelectDialog.apply(null,arguments)}}})],1),t._l(t.headers,(function(e){return a("th",{key:e.text,class:e["class"]?e["class"]:"",attrs:{width:e["width"]?e["width"]+"px":""}},[a(n["a"],{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(e.text))]),a("span",[t._v(t._s(e.text))])])],1)}))],2)]}},{key:"items",fn:function(e){return[a("tr",{staticStyle:{cursor:"pointer"}},[a("td",{staticClass:"text-xs-center pl-3",staticStyle:{height:"40px !important"},attrs:{width:"32px"}},[a(i["a"],{attrs:{primary:"","hide-details":""},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"props.selected"}})],1),a("td",{staticClass:"text-xs-center",staticStyle:{height:"40px !important"},attrs:{width:"50px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[a("span",[t._v(t._s(t.pagination.page*t.pagination.rowsPerPage-t.pagination.rowsPerPage+e.index+1))])]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"250px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[t._v("\n            "+t._s(e.item.dossierNo)+"\n          ")]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[t._v("\n            "+t._s(e.item.applicantName)+"\n          ")]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"200px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[t._v("\n            "+t._s(e.item.dossierSubStatusText?e.item.dossierSubStatusText:e.item.dossierStatusText)+"\n          ")])])]}}],null,!1,2490191700),model:{value:t.selectedAttach,callback:function(e){t.selectedAttach=e},expression:"selectedAttach"}}),t.dossiersgroup.length>10?a("div",{staticClass:"text-xs-center layout wrap mt-2 pr-1",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table px-2"},[a("tiny-pagination",{attrs:{total:t.dossiersgroup.length,currentLimit:15,page:t.pagination.page,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.paggingData}})],1)]):t._e()],1):t._e()])},r=[],c=a("854a"),l=a.n(c),d=(a("1157"),a("e722"));function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function u(t,e,a){return e=h(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function h(t){var e=g(t,"string");return"symbol"===p(e)?e:String(e)}function g(t,e){if("object"!==p(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||"default");if("object"!==p(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}l.a.options={closeButton:!0,timeOut:"5000"};var m={props:["index","id","dossiersgroup"],components:{"tiny-pagination":d["a"]},data:function(){var t;return t={detailGroup:!1,dialogImportDosier:!1,dialogSelectDosier:!1,groupDossierList:[],groupDossierSelected:"",dossiersgroup:[]},u(t,"dossiersgroup",[]),u(t,"selected",[]),u(t,"selectedAttach",[]),u(t,"stepList",[]),u(t,"stepSelected",""),u(t,"btnDynamics",[]),u(t,"processOptionSelected",""),u(t,"inputTypes",[6]),u(t,"outputTypesGroup",[7]),u(t,"inputTypesIntoGroup",[1,3,6]),u(t,"outputTypes",[2]),u(t,"loadingAction",!1),u(t,"dialogAddGroup",!1),u(t,"activeAddDossierIntoGroup",!1),u(t,"headers",[{text:"STT",align:"center",sortable:!1,class:"text-xs-center"},{text:"Mã hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Tên chủ hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Trạng thái",align:"center",sortable:!1,class:"text-xs-center"}]),u(t,"filesGroupDossier",[]),u(t,"progressUploadFile",!1),u(t,"totalDossier",0),u(t,"valueProgress",0),u(t,"countDossierSuccess",0),u(t,"pagination",{rowsPerPage:15,page:1}),t},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()},filesAdd:function(){return this.$store.getters.getFilesAdd},activeAddFileGroup:function(){return this.$store.getters.activeAddFileGroup}},created:function(){var t=this;t.$nextTick((function(){t.$router.history.current.query}))},mounted:function(){},watch:{$route:function(t,e){t.query},selectedAttach:function(t){var e=this;e.$store.commit("setSelectDossierGroup",t)},selected:function(t){},activeAddFileGroup:function(t){var e=this;e.stepSelected="",e.dialogSelectDosier=t}},methods:{paggingData:function(t){var e=this;e.pagination.page=t.page},changeStep:function(){var t=this;setTimeout((function(){t.stepSelected?(t.dossiersgroup=t.dossiersgroup.filter((function(e){return String(e["stepCode"])===String(t.stepSelected["stepCode"])})),t.$store.dispatch("pullProcessSteps",t.stepSelected).then((function(e){e.hasOwnProperty("menuGroup")&&e.menuGroup?t.$store.dispatch("getDetailMenuConfig",e).then((function(e){if(e.hasOwnProperty("buttonConfig")&&e.buttonConfig)try{t.btnDynamics=JSON.parse(e["buttonConfig"])["buttons"],t.btnDynamics=t.btnDynamics.filter((function(t){return"ACTIONS"===t["form"]})),t.btnDynamics=t.btnDynamics.filter((function(e){return!e.hasOwnProperty("onlySteps")||e.hasOwnProperty("onlySteps")&&e["onlySteps"].filter((function(e){return String(e)===String(t.stepSelected["stepCode"])}))>0}))}catch(a){t.btnDynamics=[]}else t.btnDynamics=[]})):t.btnDynamics=[]}))):(t.dossiersgroup=t.dossiersgroup,t.btnDynamics=[])}),200)},viewDetail:function(t,e){var a=this;a.$router.history.current.query;a.$router.push("/danh-sach-ho-so/0/chi-tiet-ho-so/"+t["dossierId"])},addFileToDossier:function(){var t=this,e=t.selectedAttach.map((function(t){return t.dossierId})).toString(),a=t.filesAdd.map((function(t){return t.dossierFileId})).toString(),i={dossierIds:e,dossierFileId:a};t.$store.dispatch("uploadFileDossierGroup",i).then((function(t){l.a.success("Đính kèm tài liệu thành công")}))},cancelAddFile:function(){},toggleAll:function(){var t=this;t.selected.length?t.selected=[]:t.selected=t.dossiersgroup},toggleAllSelectDialog:function(){var t=this;t.selectedAttach.length?t.selectedAttach=[]:t.selectedAttach=t.dossiersgroup},goBack:function(){var t=this,e=t.$router.history.current.params,a=t.$router.history.current.query;t.activeAddDossierIntoGroup?(t.activeAddDossierIntoGroup=!1,t.getDetaiGroup(t.id)):t.$router.push({path:"/danh-sach-ho-so/"+e.index,query:a})}}},f=m,v=a("2877"),y=Object(v["a"])(f,s,r,!1,null,null,null);e["a"]=y.exports},4626:function(t,e,a){"use strict";var i=a("8336"),o=a("b0af"),n=a("8fea"),s=a("0e8f"),r=a("132d"),c=a("8e36"),l=a("2677"),d=a("3a2f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(o["a"],{staticClass:"mb-3",attrs:{flat:""}},[t.onlyView?t._e():a("div",[a(s["a"],{attrs:{xs12:""}},[a(i["a"],{staticClass:"mx-2 right",attrs:{color:"primary"},nativeOn:{click:function(e){return t.addNotarization.apply(null,arguments)}}},[a(r["a"],{attrs:{size:"22",color:"white"}},[t._v("add")]),t._v(" \n        Thêm mới\n      ")],1)],1)],1),a(n["a"],{staticClass:"elevation-1",staticStyle:{"border-bottom":"1px solid #dedede"},attrs:{headers:t.headers,items:t.notarizationList,loading:t.loading,"hide-actions":"","no-data-text":"Không có tài liệu nào"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-center",class:t.onlyView?"pt-1":"pt-3",attrs:{width:t.onlyView?100:50}},[t._v(" "+t._s(t.onlyView?e.item.notarizationNo:e.index+1))]),a("td",{staticClass:"text-xs-left py-1"},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loading||t.onlyView?t._e():a(l["a"],{attrs:{"single-line":"",placeholder:"Nhập tên tài liệu",clearable:"",autofocus:e.index+1===t.notarizationList.length},on:{input:function(a){return t.changeDataItem(e.item,e.index)}},model:{value:e.item.fileName,callback:function(a){t.$set(e.item,"fileName",a)},expression:"props.item.fileName"}}),!t.loading&&t.onlyView?a("span",[t._v(t._s(e.item.fileName))]):t._e()],1),a("td",{staticClass:"text-xs-center py-1",staticStyle:{"font-weight":"bold"},attrs:{width:"70"}},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loading||t.onlyView?t._e():a(l["a"],{attrs:{"single-line":""},on:{input:function(a){return t.changeDataItem(e.item,e.index)}},model:{value:e.item.totalRecord,callback:function(a){t.$set(e.item,"totalRecord",a)},expression:"props.item.totalRecord"}}),!t.loading&&t.onlyView?a("span",[t._v(t._s(e.item.totalRecord))]):t._e()],1),a("td",{staticClass:"text-xs-center py-1",staticStyle:{"font-weight":"bold"},attrs:{width:"70"}},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loading||t.onlyView?t._e():a(l["a"],{attrs:{"single-line":""},on:{input:function(a){return t.changeDataItem(e.item,e.index)}},model:{value:e.item.totalPage,callback:function(a){t.$set(e.item,"totalPage",a)},expression:"props.item.totalPage"}}),!t.loading&&t.onlyView?a("span",[t._v(t._s(e.item.totalPage))]):t._e()],1),a("td",{staticClass:"text-xs-center py-1",staticStyle:{"font-weight":"bold"},attrs:{width:"120"}},[t.loading?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loading||t.onlyView?t._e():a(l["a"],{attrs:{"single-line":"",suffix:"vnđ"},on:{input:function(a){return t.changeFeeItem(e.item,e.index)}},model:{value:e.item.totalFee,callback:function(a){t.$set(e.item,"totalFee",a)},expression:"props.item.totalFee"}}),!t.loading&&t.onlyView?a("span",[t._v(t._s(t._f("currency")(e.item.totalFee)))]):t._e()],1),t.onlyView?t._e():a("td",{staticClass:"text-xs-center py-1",attrs:{width:"120"}},[a(d["a"],{attrs:{top:""}},[a(i["a"],{attrs:{slot:"activator",disabled:t.loading,width:"50",height:"32",color:"red",dense:"",small:"",dark:""},on:{click:function(a){return t.removeNotarization(e.item,e.index)}},slot:"activator"},[a(r["a"],[t._v("remove")])],1),a("span",[t._v("Xóa")])],1),a(d["a"],{staticClass:"ml-2",attrs:{top:""}},[a(i["a"],{attrs:{slot:"activator",disabled:t.loading,width:"50",height:"32",color:"primary",dense:"",small:"",dark:""},on:{click:t.addNotarization},slot:"activator"},[a(r["a"],[t._v("add")])],1),a("span",[t._v("Thêm")])],1)],1)]}}])},[t.loading?a(c["a"],{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):t._e(),t.notarizationList.length>0?a("template",{slot:"footer"},[a("td",{staticClass:"text-xs-center",staticStyle:{"border-right":"1px solid #dedede"},attrs:{colspan:t.onlyView?t.headers.length-1:t.headers.length-2}},[a("strong",{staticStyle:{"font-size":"1.25em"}},[t._v("TỔNG TIỀN")])]),a("td",{class:t.onlyView?"px-2 text-xs-center":"px-2",style:t.onlyView?"border-right: 1px solid #dedede":""},[a("strong",{staticStyle:{"font-size":"1.25em"}},[t._v(t._s(t._f("currency")(t.fee)))]),t.onlyView?t._e():a("p",{staticClass:"d-inline-block right text-bold"},[t._v("vnđ")])]),t.onlyView?t._e():a("td",{staticStyle:{"border-right":"1px solid #dedede"}})]):t._e()],2)],1)},u=[],h=(a("1157"),a("854a")),g=a.n(h);g.a.options={closeButton:!0,timeOut:"5000"};var m={props:{dossierInfo:{type:String,default:function(){return""}},formCodeInput:{type:String,default:function(){return""}},onlyView:{type:Boolean,default:function(){return!1}}},data:function(){return{validAdd:!0,fileName:"",totalRecord:1,totalPage:1,notarizationList:[],pagination:{rowsPerPage:2},totalNotarizations:0,loading:!1,dialog_notarization:!1,doChangeSync:{},headers:[{text:"STT",align:"center",sortable:!1},{text:"Tên tài liệu chứng thực",align:"center",sortable:!1},{text:"Số bản",align:"center",sortable:!1},{text:"Số trang",align:"center",sortable:!1},{text:"Thành tiền",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}],fee:""}},created:function(){var t=this;t.onlyView&&(t.headers.pop(),t.headers[0]["text"]="Số chứng thực"),t.loading=!0;var e={dossierId:t.dossierInfo.dossierId};t.$store.dispatch("getNotarization",e).then((function(e){if(t.loading=!1,t.notarizationList=e,t.notarizationList.length>0){var a=0;if(t.fee=t.notarizationList.reduce((function(t,e){return t+Number(e.totalFee.toString().replace(/\./g,""))}),a),!t.onlyView)for(var i in t.notarizationList)t.notarizationList[i].totalFee=t.convertCurrency(t.notarizationList[i].totalFee)}})).catch((function(){t.loading=!1}))},computed:{originality:function(){var t=this;return t.getOriginality()}},mounted:function(){},watch:{$route:function(t,e){t.query,e.query},notarizationList:function(){var t=this;for(var e in t.notarizationList)t.doChangeSync[e]=""}},methods:{initData:function(t){},showAddNotarization:function(){var t=this;t.dialog_notarization=!0,t.fileName="",t.totalRecord=1,t.totalPage=1,t.$refs.formGuide.resetValidation()},addNotarization:function(){var t=this,e={fileName:"",totalRecord:1,totalPage:1,totalFee:t.feeTotal(1,1).toLocaleString("it-IT"),dossierId:t.dossierInfo.dossierId,serviceCode:t.dossierInfo.serviceCode,govAgencyCode:t.dossierInfo.govAgencyCode};t.loading=!0,t.$store.dispatch("createNotarization",e).then((function(e){t.loading=!1,e.totalFee=Number(e.totalFee.toString().replace(/\./g,"")).toLocaleString("it-IT"),t.notarizationList.push(e);var a=0;t.fee=t.notarizationList.reduce((function(t,e){return t+Number(e.totalFee.toString().replace(/\./g,""))}),a)})).catch((function(){t.loading=!1}))},removeNotarization:function(t,e){var a=this,i=confirm("Bạn có chắc chắn xóa tài liệu này?");i&&a.$store.dispatch("deleteNotarization",t).then((function(t){a.notarizationList.splice(e,1);var i=0;a.fee=a.notarizationList.reduce((function(t,e){return t+Number(e.totalFee.toString().replace(/\./g,""))}),i)})).catch((function(){}))},changeDataItem:function(t,e){var a=this;a.notarizationList[e].totalFee=Number(a.feeTotal(t.totalRecord,t.totalPage)).toLocaleString("it-IT");var i=0;function o(){a.doChangeSync[e]=setTimeout((function(){a.$store.dispatch("updateNotarization",t).then((function(t){})).catch((function(){}))}),1500)}a.fee=a.notarizationList.reduce((function(t,e){return t+Number(e.totalFee.toString().replace(/\./g,""))}),i),clearTimeout(a.doChangeSync[e]),o()},changeFeeItem:function(t,e){var a=this;a.notarizationList[e].totalFee=Number(a.notarizationList[e].totalFee.toString().replace(/\./g,"")).toLocaleString("it-IT");var i=0;function o(){a.doChangeSync[e]=setTimeout((function(){a.$store.dispatch("updateNotarization",t).then((function(t){})).catch((function(){}))}),1500)}a.fee=a.notarizationList.reduce((function(t,e){return t+Number(e.totalFee.toString().replace(/\./g,""))}),i),clearTimeout(a.doChangeSync[e]),o()},dataExport:function(){var t=this;for(var e in t.notarizationList)t.notarizationList[e].totalRecord=Number(t.notarizationList[e].totalRecord),t.notarizationList[e].totalPage=Number(t.notarizationList[e].totalPage),t.notarizationList[e].totalFee=Number(t.notarizationList[e].totalFee.toString().replace(/\./g,""));var a={notarizationList:t.notarizationList,feeTotal:t.fee};return a},cancelAdd:function(){},feeTotal:function(t,e){var a=isNaN(Number(t))?0:Number(t),i=isNaN(Number(e))?0:Number(e),o=i-2;if(o>0){var n=a*(4e3+1e3*o);return n<2e5?n:2e5}return a*i*2e3},convertCurrency:function(t){if(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""}},filters:{currency:function(t){if(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""}}},f=m,v=a("2877"),y=Object(v["a"])(f,p,u,!1,null,null,null);e["a"]=y.exports},5338:function(t,e,a){"use strict";var i=a("8336"),o=a("b0af"),n=a("99d9"),s=a("ac7c"),r=a("8fea"),c=a("169a"),l=a("cd55"),d=a("49e2"),p=a("0e8f"),u=a("4bd4"),h=a("132d"),g=a("a722"),m=a("490a"),f=a("67b6"),v=a("43a6"),y=a("9910"),_=a("71a3"),D=a("fe57"),C=a("9a96"),S=a("2677"),x=a("a844"),T=a("71d9"),b=a("2a7f"),N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(u["a"],{ref:"formTiepNhanHoSo",attrs:{"lazy-validation":""},model:{value:t.validTNHS,callback:function(e){t.validTNHS=e},expression:"validTNHS"}},["version_1.0"===t.formTemplate?a("div",[a("div",{staticClass:"row-header"},[a("div",{staticClass:"background-triangle-big"},["UPDATE"===t.formCode?a("span",[t._v("SỬA HỒ SƠ")]):"COPY"===t.formCode?a("span",[t._v("SAO CHÉP HỒ SƠ")]):t.isOffLine?a("span",[t._v("NỘP HỒ SƠ TRỰC TUYẾN")]):"NEW_GROUP"===t.formCode?a("span",[t._v("THÊM NHÓM HỒ SƠ")]):"NEW_GROUP_CV"===t.formCode||"NEW_GROUP_CV_DI"===t.formCode?a("span",[t._v("THÊM MỚI CÔNG VĂN")]):a("span",[t._v("THÊM MỚI HỒ SƠ")])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{width:"calc(100% - 100px)"},attrs:{title:t.thongTinChiTietHoSo.serviceName}},[t._v("\n            "+t._s(t.thongTinChiTietHoSo.serviceName)+"\n          ")]),a("div",{staticClass:"flex text-right",staticStyle:{"margin-left":"auto",width:"100px"}},[a(i["a"],{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:t.goBack}},[a(h["a"],{attrs:{size:"18"}},[t._v("reply")]),t._v("  \n              Quay lại\n            ")],1)],1)])]),"NEW_GROUP_CV"!==t.formCode&&"NEW_GROUP_CV_DI"!==t.formCode?a("div",[1!==t.originality&&"NEW_GROUP"!==t.formCode?a("div",{style:t.isNotarization?"display: none":"position: relative"},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],[a("thong-tin-chung",{ref:"thongtinchunghoso"})],1)],1)],1):t._e(),1===t.originality?a("div",{staticStyle:{position:"relative"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("\n                HƯỚNG DẪN      \n              ")]),a(g["a"],{attrs:{wrap:""}},[a(p["a"],{attrs:{xs12:"",sm12:""}},[a("div",{staticClass:"ml-3 mr-3 pt-1",domProps:{innerHTML:t._s(t.thongTinChiTietHoSo.dossierNote)}})])],1)],1)],1)],1):t._e(),t.mauCongVan?t._e():a("thong-tin-chu-ho-so",{ref:"thongtinchuhoso",attrs:{detailDossier:t.thongTinChiTietHoSo,requiredConfig:t.requiredConfigData,formCode:t.formCode,showApplicant:"NEW_GROUP"===t.formCode,showDelegate:!!t.isNotarization,applicantIdRequired:t.applicantIdRequired}}),t.isNotarization?t._e():a("div",[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],[a("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),"NEW_GROUP"===t.formCode?a("span",[t._v("Tên nhóm hồ sơ")]):a("span",[t._v(t._s(1===t.originality?"Nội dung yêu cầu giải quyết":"Tên hồ sơ"))]),t._v("\n                    \n              ")]),a("div",[a(o["a"],[a(n["b"],[a(u["a"],{ref:"formTenHoSo",attrs:{"lazy-validation":""},model:{value:t.valid_tenHoSo,callback:function(e){t.valid_tenHoSo=e},expression:"valid_tenHoSo"}},[a(x["a"],{attrs:{rows:3,box:"",rules:1===t.originality?"":[t.rules.varchar5000],placeholder:"NEW_GROUP"===t.formCode?"Nhập tên nhóm hồ sơ":1===t.originality?"Nhập nội dung yêu cầu giải quyết":"Nhập tên hồ sơ"},model:{value:t.briefNote,callback:function(e){t.briefNote=e},expression:"briefNote"}})],1),t.fixDescriptionDt?a("div",[a("span",{staticStyle:{color:"red"}},[t._v("(*)")]),t._v("   \n                      Đối với thủ tục thông báo khuyến mãi, đề nghị nhập vào ô này tên doanh nghiệp, tên chương trình khuyến mãi, thời gian thực hiện, tổng giá trị hàng hoá dịch vụ \n                      "),a("span",{staticStyle:{color:"red"}},[t._v("dùng để khuyến mãi")])]):a("div",[t.templateDescription?a("span",{staticStyle:{color:"red"}},[t._v("(*)")]):t._e(),t._v("   "+t._s(t.templateDescription))])],1)],1)],1)])],1)],1),t.isNotarization?t._e():a("div",{staticStyle:{position:"relative"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],[a("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),"NEW_GROUP"===t.formCode?a("span",[t._v("Thành phần hồ sơ dùng chung")]):a("span",[t._v("Thành phần hồ sơ")]),t._v("\n                    \n                "),t.stateEditSample||1===t.originality?1!==t.originality?a(S["a"],{staticClass:"px-0 py-0",staticStyle:{width:"90px","max-width":"90px"},attrs:{type:"number"},on:{click:function(t){t.stopPropagation()}},model:{value:t.thongTinChiTietHoSo.sampleCount,callback:function(e){t.$set(t.thongTinChiTietHoSo,"sampleCount",e)},expression:"thongTinChiTietHoSo.sampleCount"}}):t._e():a("span",[t._v("("+t._s(0===t.thongTinChiTietHoSo.sampleCount?"?":t.thongTinChiTietHoSo.sampleCount)+" bộ hồ sơ)")]),t._v("  \n                "),t.stateEditSample||1===t.originality?1!==t.originality?a(h["a"],{staticStyle:{cursor:"pointer"},attrs:{size:"16",color:"primary"},on:{click:function(e){e.stopPropagation(),t.stateEditSample=!t.stateEditSample}}},[t._v("done")]):t._e():a(h["a"],{staticStyle:{cursor:"pointer"},attrs:{size:"16",color:"primary"},on:{click:function(e){e.stopPropagation(),t.stateEditSample=!t.stateEditSample}}},[t._v("edit")])],1),a("thanh-phan-ho-so",{ref:"thanhphanhoso",attrs:{formCodeInput:t.formCode,onlyView:"NEW_GROUP"===t.formCode,id:"nm",partTypes:"NEW_GROUP"===t.formCode||"NEW_GROUP_CV"===t.formCode||"NEW_GROUP_CV_DI"===t.formCode?t.inputTypesGroup:t.inputTypes}})],1)],1)],1),t.isNotarization?a("div",{staticStyle:{position:"relative"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],[a("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),a("span",[t._v("Tài liệu chứng thực")])]),a("tai-lieu-chung-thuc",{ref:"tailieuchungthuc",attrs:{dossierInfo:t.thongTinChiTietHoSo,formCodeInput:t.formCode,onlyView:!1}})],1)],1)],1):t._e(),t.notifyConfig?a("div",{staticStyle:{position:"relative","border-top":"1px solid #ddd"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],{attrs:{"hide-actions":"",value:"2"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Hình thức gửi thông báo giải quyết hồ sơ")]),a("div",{staticClass:"absolute__btn",staticStyle:{width:"220px"}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),a(s["a"],{staticClass:"d-inline-block mr-3 mt-2",attrs:{label:"Gửi SMS",color:"primary","hide-details":""},model:{value:t.smsNotify,callback:function(e){t.smsNotify=e},expression:"smsNotify"}}),a(s["a"],{staticClass:"d-inline-block ml-3 mt-2",attrs:{label:"Gửi email",color:"primary","hide-details":""},model:{value:t.emailNotify,callback:function(e){t.emailNotify=e},expression:"emailNotify"}})],1)])],1)],1):t._e(),1!==t.originality&&t.fromViaPostalConfig?a("div",{staticStyle:{position:"relative","border-top":"1px solid #ddd"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],{attrs:{"hide-actions":"",value:"2"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("\n                Nhận hồ sơ qua bưu chính\n              ")]),a("div",{staticClass:"absolute__btn",staticStyle:{width:"200px"}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),a(s["a"],{staticClass:"d-inline-block mt-2",attrs:{label:"Hồ sơ nhận qua bưu chính",color:"primary","hide-details":""},model:{value:t.fromViaPostal,callback:function(e){t.fromViaPostal=e},expression:"fromViaPostal"}})],1)])],1)],1):t._e(),3==t.originality&&t.thongTinChiTietHoSo.hasOwnProperty("postAtmService")&&t.thongTinChiTietHoSo.postAtmService?a("div",{staticStyle:{position:"relative","border-top":"1px solid #ddd"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],readonly:"",expand:""}},[a(d["a"],{attrs:{"hide-actions":"",value:"2"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("\n                Hồ sơ tiếp nhận qua ATM\n              ")]),a("div",{staticClass:"absolute__btn",staticStyle:{width:"200px"}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),a(s["a"],{staticClass:"d-inline-block mt-2",attrs:{label:"Hồ sơ tiếp nhận qua ATM",color:"primary","hide-details":""},model:{value:t.fromATM,callback:function(e){t.fromATM=e},expression:"fromATM"}})],1)])],1)],1):t._e(),t.thongTinChiTietHoSo.hasOwnProperty("receiveATMService")&&t.thongTinChiTietHoSo.receiveATMService?a("div",{staticStyle:{position:"relative","border-top":"1px solid #ddd"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:"",readonly:""}},[a(d["a"],{attrs:{"hide-actions":"",value:"2"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("\n                Nhận kết quả qua ATM\n              ")]),a("div",{staticClass:"absolute__btn",staticStyle:{width:"220px"}},[t.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),a(s["a"],{staticClass:"d-inline-block mt-2",attrs:{label:"Hồ sơ nhận kết quả qua ATM",color:"primary","hide-details":""},model:{value:t.receiveFromATM,callback:function(e){t.receiveFromATM=e},expression:"receiveFromATM"}})],1)])],1)],1):t._e(),0!==t.viaPortalDetail&&1===t.originality?a("div",{staticStyle:{position:"relative"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],{attrs:{"hide-actions":"",value:"2"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Dịch vụ chuyển phát hồ sơ")]),a("dich-vu-chuyen-phat-ho-so",{ref:"dichvuchuyenphathoso",attrs:{detailDossier:t.thongTinChiTietHoSo},on:{changeViapostal:t.changeViapostal}})],1)],1)],1):t._e(),0!==t.viaPortalDetail?a("div",{staticStyle:{position:"relative"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],{attrs:{"hide-actions":"",value:"2"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Dịch vụ chuyển phát kết quả")]),a("dich-vu-chuyen-phat-ket-qua",{ref:"dichvuchuyenphatketqua",attrs:{detailDossier:t.thongTinChiTietHoSo},on:{changeViapostal:t.changeViapostal}})],1)],1)],1):t._e(),a("div",{style:t.isNotarization?"display: none":"position: relative;"},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],{attrs:{"hide-actions":"",value:"2"}},[t.showThuPhi?a("thu-phi",{ref:"thongtinphi",attrs:{splitBienLai:t.splitBienLai,dataSource:t.sourcePaymentFee,detailDossier:t.thongTinChiTietHoSo,viaPortal:t.viaPortalDetail},model:{value:t.payments,callback:function(e){t.payments=e},expression:"payments"}}):t._e()],1)],1)],1)],1):t._e(),"NEW_GROUP_CV"!==t.formCode&&"NEW_GROUP_CV_DI"!==t.formCode?a(D["a"],{staticClass:"mb-4",attrs:{"icons-and-text":"",centered:""}},[a(C["a"],{attrs:{color:"primary"}}),"NEW_GROUP"===t.formCode&&1!==t.originality&&t.tiepNhanState?a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-2"},on:{click:function(e){return t.tiepNhanNhomHoSo()}}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"20"}},[t._v("save")]),t._v("   \n            "),a("span",[t._v("Tạo nhóm")]),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1):t._e(),"NEW_GROUP"!==t.formCode&&1!==t.originality&&t.tiepNhanState?a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-2"},on:{click:function(e){return t.tiepNhanHoSo()}}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"20"}},[t._v("save")]),t._v("   \n            "),"UPDATE"===t.formCode?a("span",[t._v("Lưu hồ sơ")]):a("span",[t._v("Tiếp nhận")]),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1):t._e(),1!==t.originality&&"UPDATE"!==t.formCode&&"COPY"!==t.formCode&&"NEW_GROUP"!==t.formCode&&t.tiepNhanState?a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-4"},on:{click:function(e){return t.tiepNhanHoSo("add")}}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"20"}},[t._v("note_add")]),t._v("   \n            "),a("span",[t._v("Tiếp nhận và thêm mới")]),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1):t._e(),1===t.originality?a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-3"},on:{click:t.luuHoSo}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"20"}},[t._v("save")]),t._v("  \n            "),t.showGuiHoSo?a("span",[t._v("Lưu nháp")]):a("span",[t._v("Lưu")]),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1):t._e(),1===t.originality&&t.showGuiHoSo?a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-4"},on:{click:function(e){return t.luuHoSo("send")}}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"20"}},[t._v("save")]),t._v("  \n            Gửi hồ sơ\n            "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1):t._e(),a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-5"},on:{click:t.goBackHistory}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction},on:{click:t.goBackHistory}},[a(h["a"],{attrs:{size:"18"}},[t._v("reply")]),t._v("  \n            Quay lại\n            "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1)],1):t._e()],1):t._e(),"version_2.0"===t.formTemplate?a("div",[a("div",{staticStyle:{display:"none"}},[a("input",{attrs:{id:"validate_required",type:"text"},domProps:{value:!0}}),a("input",{attrs:{id:"serviceCode_hidden",type:"text"},domProps:{value:t.serviceCode_hidden}}),a("input",{attrs:{id:"serviceName_hidden",type:"text"},domProps:{value:t.serviceName_hidden}}),a("input",{attrs:{id:"govAgencyCode_hidden",type:"text"},domProps:{value:t.govAgencyCode_hidden}}),a("input",{attrs:{id:"dossierTemplateNo_hidden",type:"text"},domProps:{value:t.dossierTemplateNo_hidden}}),a("input",{attrs:{id:"eformCode_hidden",type:"text"},domProps:{value:t.eformCode_hidden}})]),a("div",{staticClass:"row-header"},[a("div",{staticClass:"background-triangle-big"},["UPDATE"===t.formCode?a("span",[t._v("SỬA HỒ SƠ")]):"COPY"===t.formCode?a("span",[t._v("SAO CHÉP HỒ SƠ")]):t.isOffLine?a("span",[t._v("NỘP HỒ SƠ TRỰC TUYẾN")]):a("span",[t._v("THÊM MỚI HỒ SƠ")])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:t.templateName}},[t._v("\n            "+t._s(t.templateName)+"\n          ")]),a("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[a(i["a"],{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:t.goBack}},[a(h["a"],{attrs:{size:"18"}},[t._v("reply")]),t._v("  \n              Quay lại\n            ")],1)],1)])]),t.loadingForm?a("div",{staticClass:"text-xs-center mt-5"},[a(m["a"],{attrs:{size:50,color:"#dedede",indeterminate:""}})],1):a("div",[a(o["a"],{attrs:{flat:"",color:"#fff"}},[a("div",{staticStyle:{position:"absolute",right:"0"}},[a(i["a"],{attrs:{color:"primary"},on:{click:function(e){return t.showHDTT()}}},[t._v("Phiếu hướng dẫn thủ tục")]),a(i["a"],{attrs:{color:"primary"},on:{click:function(e){return t.showTCTN()}}},[t._v("\n              Phiếu từ chối tiếp nhận\n            ")])],1),a("div",{staticClass:"mb-5 pt-0",attrs:{id:"formAlpacaNewTemplate"}})]),a(D["a"],{staticClass:"mb-4",attrs:{"icons-and-text":"",centered:""}},[a(C["a"],{attrs:{color:"primary"}}),1!==t.originality&&t.tiepNhanState?a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-2"},on:{click:function(e){return t.tiepNhanHoSoNewTemplate()}}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"20"}},[t._v("save")]),t._v("   \n              "),"UPDATE"===t.formCode?a("span",[t._v("Lưu hồ sơ")]):a("span",[t._v("Tiếp nhận")]),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1):t._e(),1===t.originality?a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-3"},on:{click:t.luuHoSo}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"20"}},[t._v("save")]),t._v("  \n              Lưu\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1):t._e(),a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-5"},on:{click:t.goBack}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"18"}},[t._v("reply")]),t._v("  \n              Quay lại\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1)],1)],1)]):t._e()]),a(c["a"],{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog_printGuide,callback:function(e){t.dialog_printGuide=e},expression:"dialog_printGuide"}},[a(o["a"],[a(T["a"],{attrs:{flat:"",dark:"",color:"primary"}},[a(b["b"],[t._v("Thông tin phiếu hướng dẫn hoàn thiện hồ sơ")]),a(y["a"]),a(i["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialog_printGuide=!1}}},[a(h["a"],[t._v("close")])],1)],1),a(n["b"],[a(u["a"],{ref:"formGuide",attrs:{"lazy-validation":""},model:{value:t.validGuide,callback:function(e){t.validGuide=e},expression:"validGuide"}},[a(g["a"],{staticClass:"py-1 align-center row-list-style",attrs:{wrap:""}},[a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Thủ tục hành chính "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")]),a(S["a"],{attrs:{box:""},model:{value:t.serviceName_hidden,callback:function(e){t.serviceName_hidden=e},expression:"serviceName_hidden"}})],1),a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Dịch vụ "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")]),a(S["a"],{attrs:{box:""},model:{value:t.templateName,callback:function(e){t.templateName=e},expression:"templateName"}})],1),a(p["a"],{staticClass:"px-2",staticStyle:{position:"relative"},attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Tên người làm thủ tục "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")]),a(S["a"],{attrs:{placeholder:"Nhập tên người làm thủ tục",box:"",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},model:{value:t.applicantNameGuide,callback:function(e){t.applicantNameGuide=e},expression:"applicantNameGuide"}}),a(v["a"],{staticClass:"my-0",staticStyle:{position:"absolute",right:"0",top:"0"},attrs:{row:""},model:{value:t.applicantTypeGuide,callback:function(e){t.applicantTypeGuide=e},expression:"applicantTypeGuide"}},[a(f["a"],{attrs:{label:"Công dân",value:!0}}),a(f["a"],{attrs:{label:"Tổ chức, doanh nghiệp",value:!1}})],1)],1),a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Địa chỉ:")]),a(S["a"],{attrs:{placeholder:"Nhập địa chỉ",box:""},model:{value:t.applicantAddressGuide,callback:function(e){t.applicantAddressGuide=e},expression:"applicantAddressGuide"}})],1),a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Thư điện tử:")]),a(S["a"],{attrs:{box:"",placeholder:"Nhập thư điện tử"},model:{value:t.applicantEmailGuide,callback:function(e){t.applicantEmailGuide=e},expression:"applicantEmailGuide"}})],1),a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Số điện thoại:")]),a(S["a"],{attrs:{box:""},model:{value:t.applicantTelNoGuide,callback:function(e){t.applicantTelNoGuide=e},expression:"applicantTelNoGuide"}})],1),a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Thông tin thành phần hồ sơ:")]),a(r["a"],{staticClass:"table-landing table-bordered",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.headersTphsGuide,items:t.tphsGuide,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{active:e.index%2==1},staticStyle:{cursor:"pointer"}},[a("td",{staticClass:"text-xs-center",staticStyle:{width:"50px"}},[a("div",[a("span",[t._v(t._s(e.index+1))]),a("br")])]),a("td",{staticClass:"text-xs-left"},[a("div",[a("span",[t._v(t._s(e.item.partName))])])]),a("td",{staticClass:"text-xs-center",staticStyle:{width:"50px"}},[a("div",[a(s["a"],{staticStyle:{display:"inline-block",width:"25px"},attrs:{primary:"","hide-details":"",color:"primary"},model:{value:e.item.fileMark,callback:function(a){t.$set(e.item,"fileMark",a)},expression:"props.item.fileMark"}})],1)])])]}}])})],1),a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Ghi chú:")]),a(x["a"],{staticClass:"py-0",attrs:{box:"",rows:"3"},model:{value:t.applicantNoteGuide,callback:function(e){t.applicantNoteGuide=e},expression:"applicantNoteGuide"}})],1)],1)],1)],1),a(n["a"],[a(y["a"]),a(i["a"],{staticClass:"mr-3",attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(e){return t.doGuiding("doc")}}},[a(h["a"],[t._v("save")]),t._v("  \n          Lưu phiếu hướng dẫn\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1),a(i["a"],{staticClass:"mr-3",attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(e){return t.doGuiding("pdf")}}},[a(h["a"],[t._v("print")]),t._v("  \n          In phiếu hướng dẫn\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1)],1)],1),a(c["a"],{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog_denied,callback:function(e){t.dialog_denied=e},expression:"dialog_denied"}},[a(o["a"],[a(T["a"],{attrs:{flat:"",dark:"",color:"primary"}},[a(b["b"],[t._v("Thông tin phiếu từ chối tiếp nhận")]),a(y["a"]),a(i["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialog_denied=!1}}},[a(h["a"],[t._v("close")])],1)],1),a(n["b"],[a(u["a"],{ref:"formDenied",attrs:{"lazy-validation":""},model:{value:t.validDenied,callback:function(e){t.validDenied=e},expression:"validDenied"}},[a(g["a"],{staticClass:"py-1 align-center row-list-style",attrs:{wrap:""}},[a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Thủ tục hành chính "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")]),a(S["a"],{attrs:{box:""},model:{value:t.serviceName_hidden,callback:function(e){t.serviceName_hidden=e},expression:"serviceName_hidden"}})],1),a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Dịch vụ "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")]),a(S["a"],{attrs:{box:""},model:{value:t.templateName,callback:function(e){t.templateName=e},expression:"templateName"}})],1),a(p["a"],{staticClass:"px-2",staticStyle:{position:"relative"},attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Tên người làm thủ tục "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(":")]),a(S["a"],{attrs:{placeholder:"Nhập tên người làm thủ tục",box:"",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},model:{value:t.applicantNameGuide,callback:function(e){t.applicantNameGuide=e},expression:"applicantNameGuide"}}),a(v["a"],{staticClass:"my-0",staticStyle:{position:"absolute",right:"0",top:"0"},attrs:{row:""},model:{value:t.applicantTypeGuide,callback:function(e){t.applicantTypeGuide=e},expression:"applicantTypeGuide"}},[a(f["a"],{attrs:{label:"Công dân",value:!0}}),a(f["a"],{attrs:{label:"Tổ chức, doanh nghiệp",value:!1}})],1)],1),a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Địa chỉ:")]),a(S["a"],{attrs:{placeholder:"Nhập địa chỉ",box:""},model:{value:t.applicantAddressGuide,callback:function(e){t.applicantAddressGuide=e},expression:"applicantAddressGuide"}})],1),a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Thư điện tử:")]),a(S["a"],{attrs:{box:"",placeholder:"Nhập thư điện tử"},model:{value:t.applicantEmailGuide,callback:function(e){t.applicantEmailGuide=e},expression:"applicantEmailGuide"}})],1),a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Số điện thoại:")]),a(S["a"],{attrs:{box:""},model:{value:t.applicantTelNoGuide,callback:function(e){t.applicantTelNoGuide=e},expression:"applicantTelNoGuide"}})],1),a(p["a"],{staticClass:"px-2",attrs:{xs12:""}},[a("div",{staticClass:"my-2 text-bold"},[t._v("Lý do từ chối tiếp nhận:")]),a(x["a"],{staticClass:"py-0",attrs:{box:"",rows:"3"},model:{value:t.applicantNoteGuide,callback:function(e){t.applicantNoteGuide=e},expression:"applicantNoteGuide"}})],1)],1)],1)],1),a(n["a"],[a(y["a"]),a(i["a"],{staticClass:"mr-3",attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(e){return t.doDenied("doc")}}},[a(h["a"],[t._v("save")]),t._v("  \n          Lưu phiếu từ chối\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1),a(i["a"],{staticClass:"mr-3",attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(e){return t.doDenied("pdf")}}},[a(h["a"],[t._v("print")]),t._v("  \n          In phiếu từ chối\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1)],1)],1),a(c["a"],{attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a(o["a"],[a(T["a"],{attrs:{flat:"",dark:"",color:"primary"}},[a(b["b"],[t._v(t._s(t.tiltleDialog))]),a(y["a"]),a(i["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a(h["a"],[t._v("close")])],1)],1),t.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a(m["a"],{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},P=[],w=a("a85d"),I=w["a"],A=a("2877"),G=Object(A["a"])(I,N,P,!1,null,null,null);e["a"]=G.exports},a29c:function(t,e,a){"use strict";var i=a("c6a6"),o=a("8336"),n=a("b0af"),s=a("99d9"),r=a("8fea"),c=a("169a"),l=a("0e8f"),d=a("132d"),p=a("a722"),u=a("8e36"),h=a("9910"),g=a("2677"),m=a("71d9"),f=a("2a7f"),v=a("3a2f"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(n["a"],[a(s["b"],{staticClass:"px-0 pt-0 mt-4"},[t.index?t._e():a(p["a"],{staticClass:"mt-0",attrs:{wrap:""}},[3===t.originality?a(l["a"],{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[a(g["a"],{attrs:{label:"Số CMND/ căn cước công dân, mã số thuế doanh nghiệp, mã tổ chức","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFilterSearch.apply(null,arguments)},"click:clear":t.changeFilterSearch,"click:append":t.changeFilterSearch},model:{value:t.applicantIdNo,callback:function(e){t.applicantIdNo=e},expression:"applicantIdNo"}})],1):t._e(),3===t.originality?a(l["a"],{attrs:{xs12:"",sm6:""}},[a(g["a"],{attrs:{label:"Tìm theo mã tài liệu","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFilterSearch.apply(null,arguments)},"click:clear":t.changeFilterSearch,"click:append":t.changeFilterSearch},model:{value:t.fileNoSearch,callback:function(e){t.fileNoSearch=e},expression:"fileNoSearch"}})],1):t._e(),a(l["a"],{staticClass:"pr-2",attrs:{xs12:"",sm4:""}},[a(i["a"],{attrs:{items:t.fileTemplateList,label:"Chọn loại tài liệu","item-text":"name","item-value":"fileTemplateNo","hide-selected":!0,clearable:"",box:""},on:{change:t.changeFilterSearch},model:{value:t.fileTemplateNo,callback:function(e){t.fileTemplateNo=e},expression:"fileTemplateNo"}})],1),3===t.originality?a(l["a"],{staticClass:"pr-2",attrs:{xs12:"",sm4:""}},[a(i["a"],{attrs:{items:t.statusList,label:"Chọn tình trạng","item-text":"text","item-value":"value","hide-selected":!0,clearable:"",box:""},on:{change:t.changeFilterSearch},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1):t._e(),1===t.originality?a(l["a"],{staticClass:"pr-2",attrs:{xs12:"",sm4:""}},[a(g["a"],{attrs:{label:"Tìm theo mã tài liệu","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFilterSearch.apply(null,arguments)},"click:clear":t.changeFilterSearch,"click:append":t.changeFilterSearch},model:{value:t.fileNoSearch,callback:function(e){t.fileNoSearch=e},expression:"fileNoSearch"}})],1):t._e(),a(l["a"],{attrs:{xs12:"",sm4:""}},[a(g["a"],{attrs:{label:"Tìm theo tên tài liệu","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFilterSearch.apply(null,arguments)},"click:clear":t.changeFilterSearch,"click:append":t.changeFilterSearch},model:{value:t.keySearch,callback:function(e){t.keySearch=e},expression:"keySearch"}})],1)],1),t.index&&t.thongTinChuHoSo?a(p["a"],{staticClass:"mt-0",attrs:{wrap:""}},[a(l["a"],{staticClass:"pr-2",attrs:{xs12:"",sm5:""}},[a("div",{staticClass:"xs12 sm12 pb-1 mb-1"},[a("span",{staticClass:"pr-2"},[t._v("Tên công dân, tổ chức, doanh nghiệp: ")]),a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChuHoSo.applicantName))])])]),a(l["a"],{staticClass:"mb-1",attrs:{xs12:"",sm7:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Số định danh: ")]),a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChuHoSo.applicantIdNo))])])]),a(l["a"],{staticClass:"pr-2 mb-1",attrs:{xs12:"",sm5:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pr-2"},[t._v("Điện thoại: ")]),a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChuHoSo.contactTelNo)+" ")])])]),a(l["a"],{staticClass:"mb-1",attrs:{xs12:"",sm7:""}},[a("div",{staticClass:"xs12 sm12 pb-1"},[a("span",{staticClass:"pl-0"},[t._v("Thư điện tử: ")]),a("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChuHoSo.contactEmail)+" ")])])])],1):t._e(),t.index&&t.thongTinChuHoSo?a(p["a"],{staticClass:"mt-2",attrs:{wrap:""}},[a(l["a"],{staticClass:"px-0 pr-3",attrs:{xs12:"",md6:""}},[a(i["a"],{attrs:{items:t.serviceInfoList,label:"Chọn thủ tục hành chính","item-text":"serviceName","item-value":"serviceCode","return-object":"","hide-selected":!0,box:"",clearable:""},on:{change:function(e){return t.changeService("search")}},model:{value:t.serviceInfoSearch,callback:function(e){t.serviceInfoSearch=e},expression:"serviceInfoSearch"}})],1),a(l["a"],{staticClass:"px-0",attrs:{xs12:"",md6:""}},[a(i["a"],{attrs:{items:t.optionListSearch,label:"Chọn trường hợp","item-text":"optionName","item-value":"templateNo","return-object":"","hide-selected":!0,box:"",clearable:""},on:{change:t.changeOptionSearch},model:{value:t.optionSearch,callback:function(e){t.optionSearch=e},expression:"optionSearch"}})],1),a(l["a"],{staticClass:"px-0 pr-3",attrs:{xs12:"",sm6:""}},[a(i["a"],{attrs:{items:t.fileTemplateListSearch,label:"Chọn loại giấy tờ","item-text":"partName","item-value":"fileTemplateNo","hide-selected":!0,clearable:"",box:""},on:{change:t.changeFilterSearch},model:{value:t.fileTemplateNo,callback:function(e){t.fileTemplateNo=e},expression:"fileTemplateNo"}})],1),a(l["a"],{attrs:{xs12:"",sm6:""}},[a(g["a"],{attrs:{label:"Tìm theo mã hồ sơ","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFilterSearch.apply(null,arguments)},"click:clear":t.changeFilterSearch,"click:append":t.changeFilterSearch},model:{value:t.dossierNoSearch,callback:function(e){t.dossierNoSearch=e},expression:"dossierNoSearch"}})],1),a(l["a"],{attrs:{xs12:"",sm12:""}},[a(g["a"],{attrs:{label:"Tìm theo tên tài liệu","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeFilterSearch.apply(null,arguments)},"click:clear":t.changeFilterSearch,"click:append":t.changeFilterSearch},model:{value:t.keySearch,callback:function(e){t.keySearch=e},expression:"keySearch"}})],1)],1):t._e(),a(r["a"],{staticClass:"table-landing table-bordered mt-4",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.documentListHeader,items:t.documentApplicantList,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{active:e.index%2==1},staticStyle:{cursor:"pointer"}},[a("td",{staticClass:"text-xs-center py-3",staticStyle:{width:"50px",height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(t.documentPage*t.numberPerPage-t.numberPerPage+e.index+1))])])],1),a("td",{staticClass:"text-xs-left py-3",staticStyle:{height:"36px","min-width":"350px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",{staticStyle:{"word-break":"break-word"}},[t._v(t._s(e.item.hasOwnProperty("fileName")?e.item.fileName:""))])])],1),a("td",{staticClass:"text-xs-left py-3",staticStyle:{height:"36px","min-width":"150px","max-width":"300px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",{staticStyle:{"word-break":"break-word"}},[t._v(t._s(e.item.hasOwnProperty("fileNo")?e.item.fileNo:""))])])],1),a("td",{staticClass:"text-xs-left py-3",staticStyle:{height:"36px","min-width":"150px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.hasOwnProperty("createDate")?e.item.createDate:""))])])],1),a("td",{staticClass:"text-xs-center py-3",staticStyle:{height:"36px","min-width":"125px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",{style:1===e.item.status?"color: green":2===e.item.status?"color: red":"color: orange"},[t._v("\n                  "+t._s(e.item.hasOwnProperty("status")?t.getStatus(e.item.status):"")+"\n                ")])])],1),a("td",{staticClass:"text-xs-center py-3",staticStyle:{height:"36px","min-width":"100px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loadingTable?t._e():a(v["a"],{staticClass:"mr-2",attrs:{top:""}},[a(o["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(a){return t.viewDocument(e.item)}},slot:"activator"},[a(d["a"],[t._v("visibility")])],1),a("span",[t._v("Xem trước")])],1),t.loadingTable||t.applicantId?t._e():a(v["a"],{staticClass:"mr-2",attrs:{top:""}},[a(o["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(a){return t.$emit("trigger-attach",e.item)}},slot:"activator"},[a(d["a"],[t._v("fas fa fa-download")])],1),a("span",[t._v("Sử dụng")])],1)],1)])]}}])},[a("template",{slot:"no-data"},[t.loadingTable?a(u["a"],{attrs:{indeterminate:!0}}):a("div",{staticClass:"text-xs-center mt-2"},[t._v("\n            Không có tài liệu\n          ")])],1)],2),t.totalDocument>t.numberPerPage?a("div",{staticClass:"my-2"},[a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table"},[a("tiny-pagination",{attrs:{total:t.totalDocument,page:t.documentPage,numberPerPage:t.numberPerPage,nameRecord:"tài liệu","custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.changePage}})],1)])]):t._e()],1)],1),a(c["a"],{attrs:{"max-width":"1200",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a(n["a"],[a(m["a"],{attrs:{flat:"",dark:"",color:"primary"}},[a(f["b"],[t._v("Tài liệu đính kèm")]),a(h["a"]),a(o["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a(d["a"],[t._v("close")])],1)],1),a("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),a("div",{staticStyle:{display:"none"}},[a("a",{attrs:{id:"downloadFile",href:t.srcDownload,download:""}})])],1)},_=[],D=a("a026"),C=a("854a"),S=a.n(C),x=(a("bc3a"),a("1157"),a("e722"));function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function b(t,e,a){return e=N(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function N(t){var e=P(t,"string");return"symbol"===T(e)?e:String(e)}function P(t,e){if("object"!==T(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||"default");if("object"!==T(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}D["a"].use(S.a);var w={props:["index","fileTemplateNoScope","status","thongTinChuHoSo","serverCode"],components:{"tiny-pagination":x["a"]},data:function(){var t;return t={applicantInfos:"",nameTitle:"",creditTitle:"",documentApplicantList:"",totalDocument:0,documentPage:1,numberPerPage:15,statusList:[{text:"Yêu cầu số hóa",value:0},{text:"Đã duyệt",value:1},{text:"Hủy",value:2}],statusCreate:"",fileTemplateNoCreate:"",fileTemplateList:[],fileTemplateNo:"",fileName:"",fileNo:"",fileUpdate:"",fileNameUpdate:"",fileNoSearch:"",keySearch:"",dialog_createDocument:!1,updateFile:!1,loadingAction:!1,loadingTable:!1,dialogPDF:!1,valid:!1,documentListHeader:[{text:"STT",align:"center",sortable:!1},{text:"Tên tài liệu",align:"center",sortable:!1},{text:"Mã số",align:"center",sortable:!1},{text:"Ngày tạo",align:"center",sortable:!1},{text:"Tình trạng",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}],maxFileSize:100,typeCreate:"create",documentSelect:"",fileNameView:"",srcDownload:"",applicantIdNo:"",serviceInfoList:[],serviceInfoSearch:"",optionListSearch:[],optionSearch:"",fileTemplateListSearch:[]},b(t,"fileTemplateNo",""),b(t,"dossierNoSearch",""),b(t,"ortherFileTemplate",{fileTemplateNo:"GIAY_TO_KHAC",partName:"Giấy tờ dùng chung"}),t},computed:{originality:function(){var t=this;return t.getOriginality()}},watch:{$route:function(t,e){t.params,t.query},index:function(t){this.applicantIdNo=t},fileTemplateNoScope:function(t){this.fileTemplateNo=t}},created:function(){var t=this;try{ortherFileTemplateConfig&&(t.ortherFileTemplate=ortherFileTemplateConfig)}catch(e){}t.$nextTick((function(){t.$router.history.current,t.$router.history.current.query;t.applicantIdNo=t.index}))},mounted:function(){var t=this;t.applicantIdNo=t.index},methods:{initData:function(){var t=this;t.getApplicantDocument(),t.getServiceInfoItems(),t.fileTemplateListSearch=[t.ortherFileTemplate]},getApplicantInfos:function(){var t=this,e={applicantId:t.index};t.$store.dispatch("getApplicantInfos",e).then((function(e){t.applicantInfos=e,t.getApplicantType(t.applicantInfos)})).catch((function(){}))},getApplicantDocument:function(){var t=this,e={start:t.documentPage*t.numberPerPage-t.numberPerPage,end:t.documentPage*t.numberPerPage,applicantIdNo:t.applicantIdNo,fileTemplateNo:t.fileTemplateNo,status:1===t.originality?1:t.status,keywordSearch:t.keySearch,fileNoSearch:t.fileNoSearch,dossierNoSearch:t.dossierNoSearch,applicantDataType:"",serverCode:t.serverCode};t.loadingTable=!0,1===t.originality?t.$store.dispatch("getApplicantDocumentProxy",e).then((function(e){e.hasOwnProperty("data")?t.documentApplicantList=e.data:t.documentApplicantList=[],t.totalDocument=e["total"],t.loadingTable=!1})).catch((function(){t.loadingTable=!1,t.documentApplicantList=[],t.totalDocument=0})):t.$store.dispatch("getApplicantDocument",e).then((function(e){e.hasOwnProperty("data")?t.documentApplicantList=e.data:t.documentApplicantList=[],t.totalDocument=e["total"],t.loadingTable=!1})).catch((function(){t.loadingTable=!1,t.documentApplicantList=[],t.totalDocument=0}))},getFileItems:function(){var t=this,e={status:1};1===t.originality?t.$store.dispatch("getFileItemsProxy",e).then((function(e){e.hasOwnProperty("data")?t.fileTemplateList=e.data:t.fileTemplateList=[]})).catch((function(){})):t.$store.dispatch("getFileItems",e).then((function(e){e.hasOwnProperty("data")?t.fileTemplateList=e.data:t.fileTemplateList=[]})).catch((function(){}))},getServiceInfoItems:function(){var t=this,e={};t.$store.dispatch("getServiceInfoItems",e).then((function(e){e.hasOwnProperty("data")?t.serviceInfoList=e.data:t.serviceInfoList=[],t.optionList=[],t.optionCreate="",t.fileTemplateListSearch=[t.ortherFileTemplate],t.fileTemplateNoCreate=""})).catch((function(){}))},changeService:function(t){var e=this;setTimeout((function(){if(e.serviceInfoSearch?e.optionListSearch=e.serviceInfoSearch.options:e.optionListSearch=[],e.optionSearch="",e.fileTemplateListSearch=[],e.fileTemplateNo="",e.optionListSearch&&1===e.optionListSearch.length&&(e.optionSearch=e.optionListSearch[0]),e.optionSearch){var t={dossierTemplateNo:e.optionSearch.templateNo};e.$store.dispatch("getDossierPart",t).then((function(t){t.hasOwnProperty("dossierParts")?(e.fileTemplateListSearch=t.dossierParts,e.fileTemplateNo=""):e.fileTemplateListSearch=[],e.fileTemplateListSearch.push(e.ortherFileTemplate),t.hasOwnProperty("dossierParts")&&1===t.dossierParts.length&&(e.fileTemplateNo=e.fileTemplateListSearch[0])})).catch((function(){e.fileTemplateListSearch=[e.ortherFileTemplate]}))}else e.fileTemplateListSearch=[e.ortherFileTemplate],e.fileTemplateNo=""}),200)},changeOptionSearch:function(){var t=this;setTimeout((function(){if(t.optionSearch){var e={dossierTemplateNo:t.optionSearch.templateNo};t.$store.dispatch("getDossierPart",e).then((function(e){e.hasOwnProperty("dossierParts")?(t.fileTemplateListSearch=e.dossierParts,t.fileTemplateNo=""):t.fileTemplateListSearch=[],t.fileTemplateListSearch.push(t.ortherFileTemplate),e.hasOwnProperty("dossierParts")&&1===e.dossierParts.length&&(t.fileTemplateNo=t.fileTemplateListSearch[0])})).catch((function(){}))}else t.fileTemplateList=[],t.fileTemplateListSearch=[t.ortherFileTemplate],t.fileTemplateNoCreate=""}),200)},showCreatedocument:function(){var t=this;t.typeCreate="create",t.dialog_createDocument=!0,t.$refs.form.reset(),t.$refs.form.resetValidation(),t.fileNameView=""},getDocumentTypeIcon:function(t){var e="doc,docx",a="xls,xlsx",i="png,jpg,jpeg";return t?e.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:a.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===t.toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:i.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:""},changeFilterSearch:function(){var t=this;t.documentPage=1,setTimeout((function(){t.getApplicantDocument()}),200)},changePage:function(t){var e=this;e.documentPage=t.page,e.getApplicantDocument()},showEditDocument:function(t){var e=this;e.documentSelect=t,e.typeCreate="update",e.fileNameView=t.filePath,e.fileTemplateNoCreate=e.fileTemplateList.filter((function(e){return e.fileTemplateNo===t.fileTemplateNo}))[0],e.statusCreate=t.status,e.fileName=t.fileName,e.fileNo=t.fileNo,e.dialog_createDocument=!0},validFileUpload:function(t){var e=this,a=!0,i=t.name?t.name.split("."):"",o=i?i[i.length-1]:"",n=e.fileTemplateNoCreate&&e.fileTemplateNoCreate.fileType?e.fileTemplateNoCreate.fileType.toUpperCase().split(","):"",s=e.fileTemplateNoCreate&&e.fileTemplateNoCreate.size?e.fileTemplateNoCreate.size:e.maxFileSize,r=n?n.filter((function(t){return t===o.toUpperCase()})):"";return r&&r.length>0||!n?Number(t.size)<=1048576*s||!s?a=!0:(a=!1,S.a.clear(),S.a.error("Tài liệu tải lên dung lượng tối đa là "+s+"MB")):(a=!1,S.a.clear(),S.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+e.fileTemplateNoCreate.fileType)),a},attachDocument:function(){},downloadDocument:function(t){var e=this;e.srcDownload="";t.filePath;var a={applicantDataId:t.applicantDataId};e.$store.dispatch("getFileAttach",a).then((function(t){e.srcDownload=t,setTimeout((function(){document.getElementById("downloadFile").click()}),100)})).catch((function(){}))},viewDocument:function(t){var e=this;e.srcDownload="";t.filePath;var a={applicantDataId:t.applicantDataId};1===e.originality?e.$store.dispatch("getFileAttachProxy",a).then((function(a){var i=t.fileExtension.toLowerCase();"png"===i||"jpg"===i||"jpeg"===i||"pdf"===i||"gif"===i||"tif"===i||"tiff"===i?(e.dialogPDF=!0,document.getElementById("dialogPDFPreview").src=a):(e.srcDownload=a,setTimeout((function(){document.getElementById("downloadFile").click()}),100))})).catch((function(){})):e.$store.dispatch("getFileAttach",a).then((function(a){var i=t.fileExtension.toLowerCase();"png"===i||"jpg"===i||"jpeg"===i||"pdf"===i||"gif"===i||"tif"===i||"tiff"===i?(e.dialogPDF=!0,document.getElementById("dialogPDFPreview").src=a):(e.srcDownload=a,setTimeout((function(){document.getElementById("downloadFile").click()}),100))})).catch((function(){}))},getApplicantType:function(t){var e=this;""===t.applicantIdType?(e.nameTitle="Tên công dân, tổ chức, doanh nghiệp",e.creditTitle="Số CMND/ căn cước, mã số thuế doanh nghiệp"):"citizen"===t.applicantIdType?(e.nameTitle="Tên công dân",e.creditTitle="Số CMND/ căn cước"):"business"===t.applicantIdType?(e.nameTitle="Tên doanh nghiệp",e.creditTitle="Mã số thuế doanh nghiệp"):(e.nameTitle="Tên cơ quan, tổ chức",e.creditTitle="Mã cơ quan, tổ chức")},getStatus:function(t){return"1"===String(t)?"Có hiệu lực":"2"===String(t)?"Hết hiệu lực":"Chưa duyệt"},goBack:function(){window.history.back()}}},I=w,A=a("2877"),G=Object(A["a"])(I,y,_,!1,null,null,null);e["a"]=G.exports},a7b8:function(t,e,a){"use strict";var i=a("8336"),o=a("b0af"),n=a("99d9"),s=a("8fea"),r=a("169a"),c=a("0e8f"),l=a("132d"),d=a("a722"),p=a("8e36"),u=a("9910"),h=a("2677"),g=a("71d9"),m=a("2a7f"),f=a("3a2f"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pb-3",staticStyle:{padding:"0px 0px","max-width":"1500px",margin:"0px auto","border-radius":"12px"},attrs:{id:"top-header"}},[a(d["a"],{attrs:{wrap:""}},[a(c["a"],{staticClass:"px-2"},[t.showDetail?a(o["a"],{staticClass:"px-3 py-3",staticStyle:{width:"100%","min-height":"450px",background:"#ffffff"}},[a("div",{staticClass:"headline mb-0",staticStyle:{"font-size":"20px!important"}},[a("span",{staticStyle:{"text-transform":"uppercase","font-size":"20px",color:"#0072bc","font-weight":"500"}},[t._v("THÔNG TIN GIẤY TỜ")])]),a(n["b"],{staticClass:"py-2 px-0",staticStyle:{"font-size":"14px"}},[a(c["a"],{staticClass:"xs12 sm12 pb-2 layout wrap",staticStyle:{padding:"10px 0","border-bottom":"1px dashed #dadada","align-items":"center"}},[a(c["a"],{staticClass:"pr-2 text-bold",staticStyle:{width:"150px"}},[t._v("Tên giấy tờ: ")]),a(c["a"],{staticClass:"pl-0",staticStyle:{width:"calc(100% - 160px)"}},[t._v(" "+t._s(t.documentSelect.TenGiayTo))])],1),a(c["a"],{staticClass:"xs12 sm12 pb-2 layout wrap",staticStyle:{padding:"10px 0","border-bottom":"1px dashed #dadada","align-items":"center"}},[a(c["a"],{staticClass:"pr-2 text-bold",staticStyle:{width:"150px"}},[t._v("Số hiệu giấy tờ: ")]),a(c["a"],{staticClass:"pl-0",staticStyle:{width:"calc(100% - 160px)"}},[t._v(" "+t._s(t.documentSelect.SoHieuVanBan))])],1),a(c["a"],{staticClass:"xs12 sm12 pb-2 layout wrap",staticStyle:{padding:"10px 0","border-bottom":"1px dashed #dadada","align-items":"center"}},[a(c["a"],{staticClass:"pr-2 text-bold",staticStyle:{width:"150px"}},[t._v("Cơ quan ban hành: ")]),a(c["a"],{staticClass:"pl-0",staticStyle:{width:"calc(100% - 160px)"}},[t._v(" "+t._s(t.documentSelect.CoQuanBanHanh["TenGoi"]))])],1),a(c["a"],{staticClass:"xs12 sm12 pb-2 layout wrap",staticStyle:{padding:"10px 0","border-bottom":"1px dashed #dadada","align-items":"center"}},[a(c["a"],{staticClass:"pr-2 text-bold",staticStyle:{width:"150px"}},[t._v("Ngày ban hành: ")]),a(c["a"],{staticClass:"pl-0",staticStyle:{width:"calc(100% - 160px)"}},[t._v(" "+t._s(t.convertDate(t.documentSelect.NgayBanHanh)))])],1),a(c["a"],{staticClass:"xs12 sm12 pb-2 layout wrap",staticStyle:{padding:"10px 0","border-bottom":"1px dashed #dadada","align-items":"center"}},[a(c["a"],{staticClass:"pr-2 text-bold",staticStyle:{width:"150px"}},[t._v("Mẫu giấy tờ: ")]),a(c["a"],{staticClass:"pl-0",staticStyle:{width:"calc(100% - 160px)"}},[t._v(" "+t._s(t.documentSelect.MaMauGiayTo["MaMuc"])+" - "+t._s(t.documentSelect.MaMauGiayTo["TenMuc"]))])],1),a(c["a"],{staticClass:"xs12 sm12 pb-2 layout wrap",staticStyle:{padding:"10px 0","border-bottom":"1px dashed #dadada","align-items":"center"}},[a(c["a"],{staticClass:"pr-2 text-bold",staticStyle:{width:"150px"}},[t._v("Mã hồ sơ: ")]),a(c["a"],{staticClass:"pl-0 ",staticStyle:{width:"calc(100% - 160px)"}},[t._v(" "+t._s(t.documentSelect.HoSoDichVuCong["MaDinhDanh"]))])],1),a(c["a"],{staticClass:"xs12 sm12 pb-2 layout wrap",staticStyle:{padding:"10px 0","border-bottom":"1px dashed #dadada","align-items":"center"}},[a(c["a"],{staticClass:"pr-2 text-bold",staticStyle:{width:"150px"}},[t._v("Người thụ hưởng: ")]),a(c["a"],{staticClass:"pl-0 mr-2",staticStyle:{width:"calc(100% - 160px)"}},[t._v(" "+t._s(t.documentSelect.ChuHoSo["TenGoi"]))])],1),a(c["a"],{staticClass:"xs12 sm12 pb-2 layout wrap",staticStyle:{padding:"10px 0","border-bottom":"1px dashed #dadada","align-items":"center"}},[a(c["a"],{staticClass:"pr-2 text-bold",staticStyle:{width:"150px"}},[t._v("Số CCCD/CMND, MST: ")]),a(c["a"],{staticClass:"pl-0 ",staticStyle:{width:"calc(100% - 160px)"}},[t._v(t._s(t.documentSelect.ChuHoSo["MaDinhDanh"]))])],1),a(c["a"],{staticClass:"xs12 sm12 pb-2 layout wrap",staticStyle:{padding:"10px 0","border-bottom":"1px dashed #dadada","align-items":"center"}},[a(c["a"],{staticClass:"pr-2 text-bold ",staticStyle:{width:"150px"}},[t._v("Hiệu lực giấy tờ: ")]),a(c["a"],{staticClass:"pl-0 ",staticStyle:{width:"calc(100% - 160px)"}},[t._v(" "+t._s(t.documentSelect.HieuLucVanBan["TenMuc"]))])],1),t.documentSelect&&t.documentSelect.TepDuLieu&&t.documentSelect.TepDuLieu.length?a("div",{staticClass:"xs12 sm12 py-2"},[a("span",{staticClass:"pr-2 text-bold "},[t._v("Tệp giấy tờ: ")]),t._l(t.documentSelect.TepDuLieu,(function(e,o){return a("div",{key:o,staticClass:"my-2"},[a("span",{staticClass:"ml-1",staticStyle:{cursor:"pointer","text-decoration":"underline"},on:{click:function(a){return a.stopPropagation(),t.viewDocument(e)}}},[a(l["a"],{staticClass:"mr-1",attrs:{color:t.getDocumentTypeIcon(e.Ext)["color"],size:t.getDocumentTypeIcon(e.Ext)["size"]}},[t._v("\n                  "+t._s(t.getDocumentTypeIcon(e.Ext)["icon"])+"\n                ")]),t._v("\n                "+t._s(e.TenTep)+"."+t._s(e.Ext)+"\n              ")],1),a(i["a"],{staticClass:"my-0",attrs:{title:"Xem tệp",flat:"",icon:"",color:"indigo",loading:t.loadingPdf,disabled:t.loadingPdf},on:{click:function(a){return a.stopPropagation(),t.viewDocument(e,t.index)}}},[a(l["a"],{attrs:{size:"22"}},[t._v("visibility")])],1),a(i["a"],{staticClass:"mx-0 my-0",attrs:{title:"Tải xuống",color:"indigo",flat:"",icon:"",loading:t.loadingPdf,disabled:t.loadingPdf},on:{click:function(a){return a.stopPropagation(),t.downloadDocument(e)}}},[a(l["a"],{attrs:{size:"14",color:"primary"}},[t._v("fas fa fa-download")])],1)],1)}))],2):t._e(),a("div",{staticClass:"xs12 sm12 pb-2"},[a(i["a"],{staticClass:"mx-0",attrs:{color:"red",dark:""},nativeOn:{click:function(e){t.showDetail=!1}}},[a(l["a"],[t._v("reply")]),t._v(" \n              Quay lại\n            ")],1)],1)],1)],1):a(o["a"],{staticClass:"px-3 py-3",staticStyle:{width:"100%",background:"#ffffff"}},[a(d["a"],{attrs:{wrap:""}},[a(c["a"]),a(c["a"],{staticStyle:{width:"500px"}},[a(h["a"],{attrs:{solo:"",label:"Nhập từ khóa tìm kiếm...","append-icon":"search"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchKeyword.apply(null,arguments)},"click:append":t.searchKeyword},model:{value:t.keywordSearch,callback:function(e){t.keywordSearch=e},expression:"keywordSearch"}})],1),a(c["a"],{staticStyle:{"max-width":"170px","text-align":"right","padding-top":"2px"}},[a(i["a"],{staticClass:"mx-0 white--text my-0",attrs:{color:"#0072bc",small:""},on:{click:function(e){return e.stopPropagation(),t.showTimKiem.apply(null,arguments)}}},[a(l["a"],{attrs:{size:"20"}},[t._v("\n                filter_alt\n              ")]),t._v("  \n              Tìm kiếm nâng cao\n            ")],1)],1)],1),t.showAdvanceSearch?a(n["b"],{staticClass:"px-0 pb-0 pt-0"},[a("tim-kiem",{ref:"timkiem",attrs:{inputSearch:t.inputSearch},on:{"trigger-search":t.searchGiayToSoHoa,"trigger-cancel":t.cancelSearchGiayToSoHoa}})],1):t._e(),t.totalDocument?a("div",{staticClass:"mb-2"},[t._v("Tổng số "),a("span",{staticClass:"text-bold primary--text"},[t._v(t._s(t.totalDocument))]),t._v(" giấy tờ. ")]):t._e(),a(s["a"],{staticClass:"table-landing table-bordered mt-2",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.documentListHeader,items:t.documentApplicantList,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{class:{active:e.index%2==1},staticStyle:{cursor:"pointer"},on:{click:function(a){return t.viewThongTinGiayTo(e.item)}}},[a("td",{staticClass:"text-xs-center py-2",staticStyle:{width:"50px",height:"36px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s((t.documentPage+1)*t.numberPerPage-t.numberPerPage+e.index+1))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px","min-width":"250px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.TenGiayTo))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px","min-width":"120px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(e.item.SoHieuVanBan))])])],1),a("td",{staticClass:"text-xs-center py-2",staticStyle:{height:"36px","min-width":"120px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v(t._s(t.convertDate(e.item.NgayBanHanh)))])])],1),a("td",{staticClass:"text-xs-left py-2",staticStyle:{height:"36px","min-width":"150px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("div",{staticClass:"mb-1"},[a("b",[t._v(t._s(e.item.ChuHoSo["TenGoi"]))])]),a("span",[t._v(t._s(e.item.ChuHoSo["MaDinhDanh"]))])])],1),a("td",{staticClass:"text-xs-center py-2",staticStyle:{height:"36px","min-width":"100px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",[a("span",[t._v("\n                    "+t._s(e.item.HieuLucVanBan["TenMuc"])+"\n                  ")])])],1),a("td",{staticClass:"text-center py-2",staticStyle:{height:"36px","min-width":"110px"}},[t.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loadingTable?t._e():a(f["a"],{staticClass:"mr-2",attrs:{top:""}},[a(i["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",title:"Xem chi tiết",color:"#0072bc",flat:"",icon:""},on:{click:function(a){return a.stopPropagation(),t.viewThongTinGiayTo(e.item)}},slot:"activator"},[a(l["a"],{attrs:{size:"22"}},[t._v("visibility")])],1),a("span",[t._v("Xem chi tiết")])],1),t.loadingTable?t._e():a(f["a"],{staticClass:"mr-2",attrs:{top:""}},[a(i["a"],{staticClass:"mx-0 my-0",attrs:{slot:"activator",title:"Sử dụng giấy tờ này",color:"#0072bc",flat:"",icon:""},on:{click:function(a){return a.stopPropagation(),t.$emit("trigger-attach",e.item)}},slot:"activator"},[a(l["a"],{attrs:{size:"22"}},[t._v("sync_alt")])],1),a("span",[t._v("Sử dụng giấy tờ này")])],1)],1)])]}}],null,!1,726481678)},[t.loadingTable?a(p["a"],{attrs:{slot:"progress",color:"blue",indeterminate:""},slot:"progress"}):t._e(),a("template",{slot:"no-data"},[a("div",{staticClass:"text-xs-center mt-2"},[t._v("\n              Không có giấy tờ\n            ")])])],2),t.totalDocument>t.numberPerPage?a("div",{staticClass:"my-2"},[a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table"},[a("pagination",{attrs:{total:t.totalDocument,page:t.documentPage+1,numberPerPage:t.numberPerPage,nameRecord:"giấy tờ","custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.changePage}})],1)])]):t._e()],1),a(r["a"],{attrs:{fullscreen:"",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a(o["a"],[a(g["a"],{attrs:{flat:"",dark:"",color:"primary"}},[a(m["b"],[t._v("Tệp dữ liệu")]),a(u["a"]),a(i["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a(l["a"],[t._v("close")])],1)],1),a("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),a("div",{staticStyle:{display:"none"}},[a("a",{attrs:{id:"downloadFile",href:t.srcDownload,download:""}})])],1)],1)],1)},y=[],_=a("a026"),D=a("854a"),C=a.n(D),S=a("e722"),x=a("c6a6"),T=a("2e4b"),b=a("e449"),N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"form-search"}},[a(n["b"],{staticClass:"px-0 pt-0 pb-0"},[a("v-row",[a(d["a"],{staticClass:"mt-0",attrs:{wrap:""}},[3==t.originality?a(c["a"],{staticClass:"px-0 pr-3 py-0",attrs:{xs12:"",sm3:""}},[a("div",{staticClass:"mb-1"},[t._v("Mã định danh chủ sở hữu "),a("span",{staticStyle:{color:"red"}},[t._v(" (*)")])]),a(h["a"],{attrs:{placeholder:"Số CMND/CCCD, mã số thuế...",solo:"",flat:"",height:"32","min-height":"32",clearable:""},model:{value:t.dataSearch["applicantIdNo"],callback:function(e){t.$set(t.dataSearch,"applicantIdNo",e)},expression:"dataSearch['applicantIdNo']"}})],1):t._e(),a(c["a"],{class:3==t.originality?"px-0 pr-3 xs12 sm3":"px-0 pr-3 xs12 sm6"},[a("div",{staticClass:"mb-1"},[t._v("Cơ quan ban hành")]),a(x["a"],{ref:"autocomplete1",attrs:{items:t.donViList,loading:t.loadingDonVi,"search-input":t.keywordSearchDonVi,"item-text":"TenGoi","item-value":"MaDinhDanh",clearable:"",solo:"",flat:""},on:{"update:searchInput":function(e){t.keywordSearchDonVi=e},"update:search-input":function(e){t.keywordSearchDonVi=e}},scopedSlots:t._u([{key:"append-item",fn:function(){return[t.isShowDonVi?a("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.visibilityChangedDonVi},expression:"{\n                    callback: visibilityChangedDonVi\n                  }"}],staticClass:"py-2"}):t._e()]},proxy:!0}]),model:{value:t.dataSearch["govAgencyCode"],callback:function(e){t.$set(t.dataSearch,"govAgencyCode",e)},expression:"dataSearch['govAgencyCode']"}})],1),a(c["a"],{staticClass:"px-0",attrs:{xs12:"",sm6:""}},[a("div",{staticClass:"mb-1"},[t._v("Mẫu giấy tờ")]),a(x["a"],{ref:"autocomplete",attrs:{items:t.fileTemplateList,loading:t.loading,"search-input":t.keywordSearchSelect,"item-text":"TenMuc","item-value":"MaMuc",clearable:"",solo:"",flat:""},on:{"update:searchInput":function(e){t.keywordSearchSelect=e},"update:search-input":function(e){t.keywordSearchSelect=e}},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.item;return[a("b",{staticClass:"labelCodeItemSelect"},[t._v(t._s(i.MaMuc))]),t._v(" - "+t._s(i.TenMuc)+"\n              ")]}},{key:"item",fn:function(e){var i=e.item;return[a("b",[t._v(t._s(i.MaMuc))]),t._v(" - "+t._s(i.TenMuc)+"\n              ")]}},{key:"append-item",fn:function(){return[t.isShow?a("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:t.visibilityChanged},expression:"{\n                    callback: visibilityChanged\n                  }"}],staticClass:"py-2"}):t._e()]},proxy:!0}]),model:{value:t.dataSearch["fileTemplateNo"],callback:function(e){t.$set(t.dataSearch,"fileTemplateNo",e)},expression:"dataSearch['fileTemplateNo']"}})],1),a(c["a"],{attrs:{xs12:"",sm3:""}},[a("div",{staticClass:"mb-1"},[t._v("Ngày ban hành")]),a(b["a"],{ref:"menuDate1",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","full-width":""},model:{value:t.menuDate1,callback:function(e){t.menuDate1=e},expression:"menuDate1"}},[a(h["a"],{staticClass:"search-input-appbar input-search",attrs:{slot:"activator",label:"Từ ngày","persistent-hint":"","append-icon":"event","hide-details":"",solo:"",flat:"",height:"32","min-height":"32","append-outer-icon":"remove"},on:{blur:function(e){t.fromReceiveDate=t.parseDate(t.fromReceiveDateFormatted)}},slot:"activator",model:{value:t.fromReceiveDateFormatted,callback:function(e){t.fromReceiveDateFormatted=e},expression:"fromReceiveDateFormatted"}},[a("template",{slot:"append-outer"},[a(l["a"],{attrs:{color:"primary"}},[t._v("remove")])],1)],2),a(T["a"],{attrs:{max:t.currentDate(),locale:"vi","first-day-of-week":1,"no-title":""},on:{input:function(e){return t.changeDate("1")}},model:{value:t.fromReceiveDate,callback:function(e){t.fromReceiveDate=e},expression:"fromReceiveDate"}})],1)],1),a(c["a"],{staticClass:"pl-2 pr-3",attrs:{xs12:"",sm3:""}},[a("div",{staticClass:"mb-1",staticStyle:{height:"20px"}}),a(b["a"],{ref:"menuDate2",attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","full-width":""},model:{value:t.menuDate2,callback:function(e){t.menuDate2=e},expression:"menuDate2"}},[a(h["a"],{staticClass:"search-input-appbar input-search",attrs:{slot:"activator",label:"Đến ngày","persistent-hint":"","append-icon":"event","hide-details":"",solo:"",flat:"",height:"32","min-height":"32"},on:{blur:function(e){t.toReceiveDate=t.parseDate(t.toReceiveDateFormatted)}},slot:"activator",model:{value:t.toReceiveDateFormatted,callback:function(e){t.toReceiveDateFormatted=e},expression:"toReceiveDateFormatted"}}),a(T["a"],{attrs:{min:t.fromReceiveDateFormatted?t.getMinMax(t.fromReceiveDateFormatted):null,max:t.currentDate(),locale:"vi","first-day-of-week":1,"no-title":""},on:{input:function(e){return t.changeDate("2")}},model:{value:t.toReceiveDate,callback:function(e){t.toReceiveDate=e},expression:"toReceiveDate"}})],1)],1),a(c["a"],{staticClass:"px-0",attrs:{xs12:"",sm6:""}},[a("div",{staticClass:"mb-1"},[t._v("Hiệu lực")]),a(x["a"],{attrs:{items:t.statusList,"item-text":"TenMuc","item-value":"MaMuc",clearable:"",solo:"",flat:""},model:{value:t.dataSearch["status"],callback:function(e){t.$set(t.dataSearch,"status",e)},expression:"dataSearch['status']"}})],1)],1)],1),a(c["a"],{staticClass:"text-right"},[a(i["a"],{staticClass:"mx-0 white--text",attrs:{color:"#0072bc",small:""},on:{click:t.changeFilterSearch}},[a(l["a"],{attrs:{size:"20"}},[t._v("\n            search\n            ")]),t._v("  \n            Tìm kiếm\n        ")],1)],1)],1)],1)},P=[];function w(t,e){return O(t)||k(t,e)||A(t,e)||I()}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(t,e){if(t){if("string"===typeof t)return G(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?G(t,e):void 0}}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function k(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i,o,n,s,r=[],c=!0,l=!1;try{if(n=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;c=!1}else for(;!(c=(i=n.call(a)).done)&&(r.push(i.value),r.length!==e);c=!0);}catch(d){l=!0,o=d}finally{try{if(!c&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(l)throw o}}return r}}function O(t){if(Array.isArray(t))return t}var E={name:"Search",props:["form","inputSearch"],data:function(){return{donViList:[],fileTemplateList:[],statusList:[],dataSearch:{applicantName:"",applicantIdNo:"",fileTemplateNo:"",status:"",keywordSearch:"",fileNoSearch:"",name:"",dossierNo:"",govAgencyCode:"",fromReceiveDateFormatted:"",toReceiveDateFormatted:""},isDvc:!1,disableInput:!1,menuDate1:!1,menuDate2:!1,fromReceiveDate:"",fromReceiveDateFormatted:"",toReceiveDate:"",toReceiveDateFormatted:"",loading:!1,keywordSearchSelect:"",pageSelectBox:0,totalItemsSelectBox:0,timeOutSearch:"",isShow:!0,loadingDonVi:!1,keywordSearchDonVi:"",timeOutSearch1:"",isShowDonVi:!1,pageSelectDonVi:0,totalItemsSelectDonVi:0}},created:function(){var t=this;t.inputSearch&&(t.dataSearch=Object.assign(t.dataSearch,t.inputSearch)),t.getDanhMucGiayTo(),t.getDanhMucHieuLuc()},watch:{$route:function(t,e){var a=this,i=t.query;i.hasOwnProperty("applicantIdNo")&&i.applicantIdNo&&(a.disableInput=!0)},fromReceiveDateFormatted:function(){try{var t=this;t.fromDate=t.parseDate(t.fromReceiveDateFormatted),t.dataSearch["fromReceiveDateFormatted"]=t.fromReceiveDateFormatted}catch(e){}},toReceiveDateFormatted:function(){try{var t=this;t.toDate=t.parseDate(t.toReceiveDateFormatted),t.dataSearch["toReceiveDateFormatted"]=t.toReceiveDateFormatted}catch(e){}},keywordSearchSelect:function(t){var e=this;e.fileTemplateList.length?t&&t!==e.dataSearch["fileTemplateNo"]&&(e.timeOutSearch&&clearTimeout(e.timeOutSearch),e.timeOutSearch=setTimeout((function(){var a=e.fileTemplateList.find((function(e){return String(e.TenMuc).toLowerCase().includes(String(t).toLowerCase())}));a||e.searchItems()}),1e3)):(e.timeOutSearch&&clearTimeout(e.timeOutSearch),e.timeOutSearch=setTimeout((function(){e.searchItems()}),1e3))},keywordSearchDonVi:function(t){var e=this;e.donViList.length?t&&t!==e.dataSearch["govAgencyCode"]&&(e.timeOutSearch1&&clearTimeout(e.timeOutSearch1),e.timeOutSearch1=setTimeout((function(){var a=e.donViList.find((function(e){return String(e.TenGoi).toLowerCase().includes(String(t).toLowerCase())}));a||e.searchItemsDonVi()}),1e3)):(e.timeOutSearch1&&clearTimeout(e.timeOutSearch1),e.timeOutSearch1=setTimeout((function(){e.searchItemsDonVi()}),1e3))}},computed:{originality:function(){var t=this;return t.getOriginality()}},methods:{getDataOutPut:function(){var t=this;return t.dataSearch},cancelSearch:function(){var t=this;t.dataSearch={applicantName:"",applicantIdNo:"",fileTemplateNo:"",status:"",keywordSearch:"",fileNoSearch:"",name:"",dossierNo:"",fromReceiveDateFormatted:"",toReceiveDateFormatted:""},t.$emit("trigger-cancel",t.dataSearch)},changeFilterSearch:function(){var t=this;setTimeout((function(){t.$emit("trigger-search",t.dataSearch)}),200)},getDanhMucGiayTo:function(){var t=this,e={page:0,size:20,tenDanhMuc:"mathanhphanhoso"},a={page:0,size:20,tenDanhMuc:"magiaytoketqua"},i=t.$store.dispatch("getDanhMuc",e),o=t.$store.dispatch("getDanhMuc",a),n=[i,o];Promise.all(n).then((function(e){var a=e[0].hasOwnProperty("content")&&e[0]["content"]?e[0]["content"]:[],i=e[1].hasOwnProperty("content")&&e[1]["content"]?e[1]["content"]:[],o=a.concat(i);t.fileTemplateList=o})).catch((function(e){t.fileTemplateList=[]}))},getDanhMucHieuLuc:function(){var t=this,e={page:0,size:100,tenDanhMuc:"hieulucvanban"};t.$store.dispatch("getDanhMuc",e).then((function(e){e.hasOwnProperty("content")?t.statusList=e.content:t.statusList=[]})).catch((function(){}))},parseDate:function(t){if(!t)return"";if(String(t).indexOf("/")>0){var e=t.split("/"),a=w(e,3),i=a[0],o=a[1],n=a[2];return"".concat(n,"-").concat(o.padStart(2,"0"),"-").concat(i.padStart(2,"0"))}if(String(t).indexOf("-")>0){var s=t.split("-"),r=w(s,3),c=r[0],l=r[1],d=r[2];return"".concat(d,"-").concat(l.padStart(2,"0"),"-").concat(c.padStart(2,"0"))}var p=new Date(Number(t));return"".concat(p.getFullYear(),"-").concat((p.getMonth()+1).toString().padStart(2,"0"),"-").concat(p.getDate().toString().padStart(2,"0"))},formatDate:function(t){if(!t)return"";var e=t.split("-"),a=w(e,3),i=a[0],o=a[1],n=a[2];return"".concat(n,"/").concat(o,"/").concat(i)},currentDateFormat:function(t){var e=t?new Date(t):new Date;return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear())},currentDate:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0"))},changeDate:function(t){var e=this;e.menuDate=e.menuDate2=!1,"1"===t?e.fromReceiveDateFormatted=e.formatDate(e.fromReceiveDate):"2"===t&&(e.toReceiveDateFormatted=e.formatDate(e.toReceiveDate))},getMinMax:function(t){if(!t)return null;var e=t.split("/"),a=w(e,3),i=a[0],o=a[1],n=a[2];return"".concat(n,"-").concat(o,"-").concat(i)},visibilityChanged:function(t){t&&this.loadMoreItems()},visibilityChangedDonVi:function(t){t&&this.loadMoreItemsDonVi()},searchItems:function(){this.fileTemplateList=[],this.pageSelectBox=0,this.loadMoreItems()},searchItemsDonVi:function(){this.donViList=[],this.pageSelectDonVi=0,this.loadMoreItemsDonVi()},loadMoreItems:function(){var t=this;if(t.fileTemplateList.length<t.totalItemsSelectBox||0==t.pageSelectBox){t.isShow=!1;var e={page:t.pageSelectBox,size:10,tenDanhMuc:"mathanhphanhoso",keyword:t.keywordSearchSelect?t.keywordSearchSelect:""},a={page:t.pageSelectBox,size:10,tenDanhMuc:"magiaytoketqua",keyword:t.keywordSearchSelect?t.keywordSearchSelect:""},i=t.$store.dispatch("getDanhMuc",e),o=t.$store.dispatch("getDanhMuc",a),n=[i,o];Promise.all(n).then((function(e){var a=e[0].hasOwnProperty("content")&&e[0]["content"]?e[0]["content"]:[],i=e[1].hasOwnProperty("content")&&e[1]["content"]?e[1]["content"]:[],o=a.concat(i);t.fileTemplateList=t.fileTemplateList.concat(o),t.isShow=!0,t.pageSelectBox++;var n=e[0].hasOwnProperty("totalElements")?e[0]["totalElements"]:0,s=e[1].hasOwnProperty("totalElements")?e[1]["totalElements"]:0;t.totalItemsSelectBox=n+s,t.loading=!1,t.$refs.autocomplete&&t.$refs.autocomplete.onScroll()})).catch((function(e){t.loading=!1}))}},loadMoreItemsDonVi:function(){var t=this;if(t.donViList.length<t.totalItemsSelectDonVi||0==t.pageSelectDonVi){t.isShowDonVi=!1;var e={page:t.pageSelectDonVi,size:20,keyword:t.keywordSearchDonVi?t.keywordSearchDonVi:""};t.$store.dispatch("getDonVi",e).then((function(e){var a=e.hasOwnProperty("content")?e["content"]:[];t.donViList=t.donViList.concat(a),e.hasOwnProperty("content")&&e["content"].length&&(t.isShowDonVi=!0,t.pageSelectDonVi++);var i=e.hasOwnProperty("totalElements")?e["totalElements"]:0;t.totalItemsSelectDonVi=i,t.loadingDonVi=!1,t.$refs.autocomplete1&&t.$refs.autocomplete1.onScroll()})).catch((function(e){t.loadingDonVi=!1}))}}}},M=E,$=(a("c407"),a("2877")),F=Object($["a"])(M,N,P,!1,null,"621ed0ef",null),V=F.exports;_["a"].use(C.a),C.a.options={positionClass:"toast-top-center",timeOut:"5000"};var L={components:{"tim-kiem":V,pagination:S["a"]},props:["index","thongTinChuHoSo"],data:function(){return{valid:!1,donViList:[],menuActive:0,loaiVanBanList:[],loaiVanBanCreate:"",cmndNguoiThuHuong:"",tenNguoiThuHuong:"",maHoSoDvc:"",keywordSearch:"",applicantNameCreate:"",applicantIdNoCreate:"",govAgencyCreate:"",createDate:"",expireDate:"",showDetail:!1,fileTemplateList:[],statusCreate:1,fileTemplateNoCreate:"",fileName:"",fileNo:"",fileUpdate:"",fileNameUpdate:"",documentSelect:"",loadingAction:!1,showAdvanceSearch:!1,showApplicantInfo:!1,inputSearch:{applicantName:"",applicantIdNo:"",fileTemplateNo:"",status:"",keywordSearch:"",fileNoSearch:"",name:""},dataInputSearch:"",loadingTable:!1,documentApplicantList:[],totalDocument:0,documentPage:0,numberPerPage:15,pathNameFileESign:"",dialogPDF:!1,isDvc:!1,maxFileSize:100,typeCreate:"create",fileNameView:"",srcDownload:"",fileEntryESign:"",hasEsign:!1,statusList:[],applicantInfos:"",documentListHeader:[{text:"STT",align:"center",sortable:!1},{text:"Tên giấy tờ",align:"center",sortable:!1},{text:"Số hiệu giấy tờ",align:"center",sortable:!1},{text:"Ngày ban hành",align:"center",sortable:!1},{text:"Người thụ hưởng",align:"center",sortable:!1},{text:"Hiệu lực giấy tờ",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}],loading:!1,itemsSelectBox:[],selected:"",keywordSearchSelect:"",pageSelectBox:0,totalItemsSelectBox:0,timeOutSearch:"",loadingPdf:!1}},computed:{originality:function(){var t=this;return t.getOriginality()}},beforeDestroy:function(){},mounted:function(){},beforeCreate:function(){},created:function(){var t=this;t.$router.history.current.query},watch:{$route:function(t,e){var a=this;t.query;a.showApplicantInfo=!1,a.getDanhSachGiayToSoHoa()},showDetail:function(t){var e=this;setTimeout((function(){if(!t&&e.showAdvanceSearch&&e.$refs.timkiem)for(var a=document.querySelectorAll(".v-menu__content"),i=0;i<a.length;i++)a[i].style.position="fixed"}),300)},showAdvanceSearch:function(t){setTimeout((function(){if(t)for(var e=document.querySelectorAll(".v-menu__content"),a=0;a<e.length;a++)e[a].style.position="fixed";else for(var i=document.querySelectorAll(".v-menu__content"),o=0;o<i.length;o++)i[o].style.position="absolute"}),300)},keywordSearchSelect:function(t){var e=this;e.itemsSelectBox.length?t&&t!==e.selected&&(e.timeOutSearch&&clearTimeout(e.timeOutSearch),e.timeOutSearch=setTimeout((function(){var a=e.itemsSelectBox.find((function(e){return String(e.fileName).toLowerCase().includes(String(t).toLowerCase())}));a||e.searchItems()}),1e3)):(e.timeOutSearch&&clearTimeout(e.timeOutSearch),e.timeOutSearch=setTimeout((function(){e.searchItems()}),1e3))}},methods:{initData:function(){var t=this;t.showDetail=!1,t.inputSearch={applicantIdNo:t.index},t.searchGiayToSoHoa(t.inputSearch),t.showAdvanceSearch=!0},viewThongTinGiayTo:function(t){var e=this,a={primKey:t.primKey};e.$store.dispatch("getChiTietGiayToCaNhan",a).then((function(t){e.documentSelect=t.resp,e.showDetail=!0,e.typeCreate="view"})).catch((function(){}))},showTimKiem:function(){this.showAdvanceSearch=!this.showAdvanceSearch},changeMenu:function(t){var e=this;e.menuActive=t,e.showDetail=!1},uploadFile:function(){var t=this;t.hasEsign=!1,document.getElementById("documentFile").value="",document.getElementById("documentFile").click()},searchGiayToSoHoa:function(t){var e=this,a=Object.assign(t||{},{keyword:e.keywordSearch});e.dataInputSearch=a,e.documentPage=0,e.totalDocument=0,e.getDanhSachGiayToSoHoa(a)},searchKeyword:function(){var t=this,e={};t.$refs.timkiem&&(e=t.$refs.timkiem.getDataOutPut());var a=Object.assign(e,{keyword:t.keywordSearch});t.dataInputSearch=a,t.documentPage=0,t.totalDocument=0,t.getDanhSachGiayToSoHoa(a)},cancelSearchGiayToSoHoa:function(t){var e=this;e.showAdvanceSearch=!1},changePage:function(t){var e=this;e.documentPage=t.page-1,e.getDanhSachGiayToSoHoa(e.dataInputSearch)},getDanhSachGiayToSoHoa:function(t){var e=this,a={page:e.documentPage,size:e.numberPerPage,keyword:t?t.keyword:"",coQuanBanHanh_MaDinhDanh:t?t.govAgencyCode:"",mauGiayTo_MaMuc:t?t.fileTemplateNo:"",ngayBanHanh_TuNgay:t?t.fromReceiveDateFormatted:"",ngayBanHanh_DenNgay:t?t.toReceiveDateFormatted:"",hieuLucGiayTo_MaMuc:t?t.status:"",orderFields:"ThoiGianTao",orderType:"desc",cccd:t?t.applicantIdNo:""};e.loadingTable=!0,e.$store.dispatch("getGiayToKhoCaNhan",a).then((function(t){e.documentApplicantList=t.content,e.totalDocument=t["totalElements"],e.loadingTable=!1})).catch((function(){e.loadingTable=!1,e.documentApplicantList=[],e.totalDocument=0}))},downloadDocument:function(t){var e=this;if(!e.loadingPdf){e.srcDownload="";var a={id:t.MaDinhDanh};e.loadingPdf=!0,e.$store.dispatch("getTepDuLieu",a).then((function(t){e.loadingPdf=!1,e.srcDownload=t,setTimeout((function(){document.getElementById("downloadFile").click()}),100)})).catch((function(){e.loadingPdf=!1}))}},viewDocument:function(t){var e=this;if(!e.loadingPdf){e.srcDownload="";var a={id:t.MaDinhDanh};e.loadingPdf=!0,e.$store.dispatch("getTepDuLieu",a).then((function(a){e.loadingPdf=!1;var i=t.Ext.toLowerCase();"png"===i||"jpg"===i||"jpeg"===i||"pdf"===i||"gif"===i||"tif"===i||"tiff"===i?(e.dialogPDF=!0,document.getElementById("dialogPDFPreview").src=a):(e.srcDownload=a,setTimeout((function(){document.getElementById("downloadFile").click()}),100))})).catch((function(){e.loadingPdf=!1}))}},cloneMyStorage:function(t){},formatDate:function(){var t=this,e=String(t.createDate).trim().length,a=String(t.createDate).split("/");if(e&&e>4&&3===a.length&&a[2])t.createDate=t.translateDate(t.createDate);else if(e&&8===e){var i=String(t.createDate);t.createDate=i.slice(0,2)+"/"+i.slice(2,4)+"/"+i.slice(4,8)}else t.createDate=""},formatExpireDate:function(){var t=this,e=String(t.expireDate).trim().length,a=String(t.expireDate).split("/");if(e&&e>4&&3===a.length&&a[2])t.expireDate=t.translateDate(t.expireDate);else if(e&&8===e){var i=String(t.expireDate);t.expireDate=i.slice(0,2)+"/"+i.slice(2,4)+"/"+i.slice(4,8)}else t.expireDate=""},getStatus:function(t){return"0"===String(t)?"Yêu cầu số hóa":"1"===String(t)?"Có hiệu lực":"2"===String(t)?"Hết hiệu lực":"3"===String(t)?"Hủy":void 0},convertDate:function(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear())},convertMaDinhDanh:function(t){if(!t)return"";var e=t.split(":")[1];return e},getDocumentTypeIcon:function(t){var e="doc,docx",a="xls,xlsx",i="png,jpg,jpeg";return t?e.indexOf(String(t).toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:a.indexOf(String(t).toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===String(t).toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:i.indexOf(String(t).toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:""}}},H=L,R=Object($["a"])(H,v,y,!1,null,null,null);e["a"]=R.exports},a85d:function(module,__webpack_exports__,__webpack_require__){"use strict";var toastr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_0__),jquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__),_TiepNhan_TiepNhanHoSo_ThongTinChuHoSo_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("826a"),_TiepNhan_TiepNhanHoSo_ThanhPhanHoSoNew_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("6e92"),_TiepNhan_TaiLieuChungThuc_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4626"),_TiepNhan_TiepNhanHoSo_ThongTinChung_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("c199"),_form_xu_ly_FeeDetail2_vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("7aca"),_TiepNhan_TiepNhanHoSo_DichVuChuyenPhatKetQua_vue__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("a9a9"),_TiepNhan_TiepNhanHoSo_DichVuChuyenPhatHoSo_vue__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("f82c"),_pagging_opencps_pagination_vue__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("e722");function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"===typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function _iterableToArrayLimit(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i,o,n,s,r=[],c=!0,l=!1;try{if(n=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;c=!1}else for(;!(c=(i=n.call(a)).done)&&(r.push(i.value),r.length!==e);c=!0);}catch(d){l=!0,o=d}finally{try{if(!c&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(l)throw o}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}toastr__WEBPACK_IMPORTED_MODULE_0___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:["index","id","formCode"],components:{"thong-tin-chu-ho-so":_TiepNhan_TiepNhanHoSo_ThongTinChuHoSo_vue__WEBPACK_IMPORTED_MODULE_2__["a"],"thanh-phan-ho-so":_TiepNhan_TiepNhanHoSo_ThanhPhanHoSoNew_vue__WEBPACK_IMPORTED_MODULE_3__["a"],"tai-lieu-chung-thuc":_TiepNhan_TaiLieuChungThuc_vue__WEBPACK_IMPORTED_MODULE_4__["a"],"thong-tin-chung":_TiepNhan_TiepNhanHoSo_ThongTinChung_vue__WEBPACK_IMPORTED_MODULE_5__["a"],"thu-phi":_form_xu_ly_FeeDetail2_vue__WEBPACK_IMPORTED_MODULE_6__["a"],"dich-vu-chuyen-phat-ho-so":_TiepNhan_TiepNhanHoSo_DichVuChuyenPhatHoSo_vue__WEBPACK_IMPORTED_MODULE_8__["a"],"dich-vu-chuyen-phat-ket-qua":_TiepNhan_TiepNhanHoSo_DichVuChuyenPhatKetQua_vue__WEBPACK_IMPORTED_MODULE_7__["a"],"tiny-pagination":_pagging_opencps_pagination_vue__WEBPACK_IMPORTED_MODULE_9__["a"]},data:function(){return{splitBienLai:!1,fixDescriptionDt:!1,valid_tenHoSo:!1,isNotarization:!1,templateName:"",formTemplate:"",data_form_template:"",serviceCode_hidden:"",serviceName_hidden:"",govAgencyCode_hidden:"",govAgencyName_hidden:"",dossierTemplateNo_hidden:"",eformCode_hidden:"",validTNHS:!1,dossierId:"",mark:!0,stateEditSample:!1,tiepNhanState:!0,thongTinChiTietHoSo:{},payments:{},paymentsOriginal:"",paymentProfile:{},briefNote:"",receiveDateEdit:"",editableDate:!1,dueDateEdit:"",durationPhase:"",viaPortalDetail:0,showOptionName:!1,showThuPhi:!1,inputTypes:[1,3],inputTypesGroup:[6],outputTypes:[2],sampleCount:0,isMobile:!1,loadingAction:!1,loadingForm:!1,notifyConfig:!1,fromViaPostal:!1,fromATM:!1,receiveFromATM:!1,fromViaPostalConfig:!1,smsNotify:!0,emailNotify:!0,dialog_printGuide:!1,dialog_denied:!1,validGuide:!1,validDenied:!1,listThuTucHanhChinh:[],thuTucHanhChinhSelectedGuide:"",listDichVuGuide:[],dichVuSelectedGuide:"",applicantNameGuide:"",applicantTypeGuide:"",applicantEmailGuide:"",applicantNoteGuide:"",tphsGuide:[],headersTphsGuide:[{text:"TT",align:"center",sortable:!1},{text:"Tên thành phần",align:"center",sortable:!1},{text:"Đã có",align:"center",sortable:!1}],dialogPDF:!1,dialogPDFLoading:!0,tiltleDialog:"",requiredConfigData:!1,templateDescription:"",actionDetailSendDossierDvc:"",actionDetail:"",mauCongVan:"",tphsCV:"",dossiersIntoGroupRenderTemp:[],headersCV:[{text:"STT",align:"center",sortable:!1,class:"text-xs-center"},{text:"Mã hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Họ và tên",align:"center",sortable:!1,class:"text-xs-center"},{text:"Năm sinh",align:"center",sortable:!1,class:"text-xs-center"},{text:"Nơi đăng ký HKTT",align:"center",sortable:!1,class:"text-xs-center"},{text:"Số tháng được hưởng",align:"center",sortable:!1,class:"text-xs-center"},{text:"Mức trợ cấp (đồng/tháng)",align:"center",sortable:!1,class:"text-xs-center"},{text:"Trạng thái",align:"center",sortable:!1,class:"text-xs-center"},{text:"Ghi chú",align:"center",sortable:!1,class:"text-xs-center"},{text:"Thao tác",align:"center",sortable:!1,class:"text-xs-center"}],pagination:{rowsPerPage:30,page:1},totalFee:0,dossiersCounterIntoGroupFilter:0,hoSoDaXuLy:[],hoSoDaXuLyList:"",createFileCongVan:"",postStepCodeCongVan:"",donvinhanCollection:"",requiredCVDenGovCode:"",requiredCVDenGroupId:"",formActionGroup:"",hasTaoQuyetDinh:!1,mauGiayPhep:"KQGP",mappingValidateGP:"",rules:{required:function(t){return!!t||"Thông tin bắt buộc"},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Địa chỉ Email không hợp lệ"},passWord:function(t){var e=/^(?![0-9]{6,})[0-9a-zA-Z]{6,}$/;return e.test(t)||"Gồm các ký tự 0-9, a-z và ít nhất 6 ký tự"},telNo:function(t){var e=/^([0-9]{0,})$/;return e.test(t)||"Gồm các ký tự 0-9"},varchar100:function(t){return!t||(t=String(t).trim(),t.length<=100||"Không được nhập quá 100 ký tự")},varchar255:function(t){return!t||(t=String(t).trim(),t.length<=255||"Không được nhập quá 255 ký tự")},varchar500:function(t){return!t||(t=String(t).trim(),t.length<=500||"Không được nhập quá 500 ký tự")},varchar5000:function(t){return!t||(t=String(t).trim(),t.length<=5e3||"Không được nhập quá 5000 ký tự")}},applicantIdRequired:!0,showGuiHoSoConfig:!1,showGuiHoSo:!1,showCounterFee:!1,rememberApplicant:!1,sourcePaymentFee:{},urlHistoryUpdateDvc:"",danhGiaCanBoTrenQuay:!1}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){return this.getOriginality()},dichVuChuyenPhatKetQua:function(){return this.$store.getters.dichVuChuyenPhatKetQua},dichVuChuyenPhatHoSo:function(){return this.$store.getters.dichVuChuyenPhatHoSo},thongTinChuHoSo:function(){return this.$store.getters.thongTinChuHoSo},menuConfigsToDo:function(){return this.$store.getters.getMenuConfigsTodo},dossiersIntoGroupRender:function(){return this.$store.getters.dossierSelectedDoAction},userLoginInfomation:function(){return this.$store.getters.getUserLogin}},created:function(){var t=this;try{t.showGuiHoSoConfig=showGuiHoSoConfig}catch(e){}try{t.fixDescriptionDt=fixDescriptionDt}catch(e){}try{t.notifyConfig=notifyConfig}catch(e){}try{t.showOptionName=showOptionName}catch(e){}try{t.fromViaPostalConfig=fromViaPostalConfig}catch(e){}try{t.showCounterFee=showCounterFee}catch(e){}try{t.rememberApplicant=rememberApplicant}catch(e){}try{t.urlHistoryUpdateDvc=urlHistoryUpdateDvc}catch(e){}try{t.danhGiaCanBoTrenQuay=danhGiaCanBoTrenQuay}catch(e){}t.$nextTick((function(){var e=t.$router.history.current.query;e.hasOwnProperty("formActionGroup")&&e.formActionGroup&&(t.formActionGroup=JSON.parse(e.formActionGroup)),t.dossierId=t.id,t.donvinhanCollection=t.formActionGroup.hasOwnProperty("donvinhan")?t.formActionGroup.donvinhan:"",t.requiredCVDenGroupId=t.formActionGroup.hasOwnProperty("requiredCVDenGroupId")?t.formActionGroup.requiredCVDenGroupId:"",t.requiredCVDenGovCode=t.formActionGroup.hasOwnProperty("requiredCVDenGovCode")?t.formActionGroup.requiredCVDenGovCode:"",t.hasTaoQuyetDinh=!!t.formActionGroup.hasOwnProperty("taoQuyetDinh")&&t.formActionGroup.taoQuyetDinh}))},beforeDestroy:function(){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()('meta[name="viewport"]');t.attr("content","initial-scale=1.0, width=device-width"),"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize,{passive:!0})},mounted:function(){this.onResize(),window.addEventListener("resize",this.onResize,{passive:!0})},watch:{$route:function(t,e){var a=this,i=t.query;i.hasOwnProperty("formActionGroup")&&i.formActionGroup&&(a.formActionGroup=JSON.parse(i.formActionGroup))},isMobile:function(t){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()('meta[name="viewport"]');t?e.attr("content",""):e.attr("content","initial-scale=1.0, width=device-width")},thongTinChuHoSo:function(){var t=this;t.briefNote=t.thongTinChiTietHoSo.serviceName?t.thongTinChiTietHoSo.serviceName:"",t.thongTinChiTietHoSo.serviceName&&!t.thongTinChuHoSo["userType"]&&t.thongTinChuHoSo["applicantName"]?t.briefNote=t.briefNote+" cho "+t.thongTinChuHoSo["applicantName"]:t.thongTinChiTietHoSo.serviceName&&t.thongTinChuHoSo["userType"]&&t.thongTinChuHoSo["applicantName"]&&(t.briefNote=t.briefNote+" cho ông/bà/tổ chức "+t.thongTinChuHoSo["applicantName"]),"UPDATE"===t.formCode&&(t.briefNote=t.thongTinChiTietHoSo.dossierName?t.thongTinChiTietHoSo.dossierName:t.thongTinChiTietHoSo.serviceName)},dossiersIntoGroupRender:function(t){var e=this,a=0;if(e.dossiersCounterIntoGroupFilter=t.length,"NEW_GROUP_CV_DI"===e.formCode&&(e.dossiersCounterIntoGroupFilter=t.filter((function(t){return String(t.stepCode)===String(e.formActionGroup.stepCode)})).length,e.hoSoDaXuLy=e.dossiersIntoGroupRender.filter((function(t){return String(t.stepCode)!==String(e.formActionGroup.stepCode)})),e.hoSoDaXuLy.length>0&&(e.hoSoDaXuLyList=e.hoSoDaXuLy.map((function(t){return t.dossierNo})).toString())),t&&t.length>0){for(var i=0;i<t.length;i++)if("NEW_GROUP_CV_DI"===e.formCode){if(String(t[i].stepCode)===String(e.formActionGroup.stepCode)){var o=e.getMetaData(t[i]),n=0;if(o){var s=!(!o.hasOwnProperty("trocapmotlan")||!o["trocapmotlan"]);n=s?Number(o["subsidy"]):Number(o["yearPayment"])*Number(o["subsidy"]),a+=n}}}else{var r=e.getMetaData(t[i]),c=0;if(r){var l=!(!r.hasOwnProperty("trocapmotlan")||!r["trocapmotlan"]);c=l?Number(r["subsidy"]):Number(r["yearPayment"])*Number(r["subsidy"]),a+=c}}e.dossiersIntoGroupRenderTemp=t.slice(0,e.pagination.rowsPerPage),e.totalFee=a}},formActionGroup:function(t){var e=this;e.donvinhanCollection=t.hasOwnProperty("donvinhan")?t.donvinhan:"",e.requiredCVDenGroupId=t.hasOwnProperty("requiredCVDenGroupId")?t.requiredCVDenGroupId:"",e.requiredCVDenGovCode=t.hasOwnProperty("requiredCVDenGovCode")?t.requiredCVDenGovCode:"",e.hasTaoQuyetDinh=!!t.hasOwnProperty("taoQuyetDinh")&&t.taoQuyetDinh}},methods:{onResize:function(){var t=this,e=window.innerWidth<1024;t.isMobile=e},initData:function initData(data){var vm=this,currentQuery=vm.$router.history.current.query,filter={dossierTemplateNo:currentQuery.hasOwnProperty("template_no")&&currentQuery.template_no?currentQuery.template_no:""};vm.$store.dispatch("loadDossierFormTemplates",filter).then((function(result){try{vm.requiredConfigData=!!result["formMeta"]&&JSON.parse(result["formMeta"])}catch(error){}if(vm.templateName=result["templateName"],vm.templateDescription=result["description"],vm.tphsCV=result["dossierParts"],vm.mauCongVan=!(!result["newFormScript"]||!result["newFormScript"].startsWith("MAU_CV_"))&&result["newFormScript"],result["newFormScript"]&&!vm.mauCongVan){vm.data_form_template=eval("( "+result["newFormScript"]+" ) "),vm.formTemplate="version_2.0",vm.loadingForm=!0;var filterServiceConfig={serviceConfigId:currentQuery.hasOwnProperty("service_config")&&currentQuery.service_config?currentQuery.service_config:""};vm.$store.dispatch("getServiceConfigDetail",filterServiceConfig).then((function(t){vm.loadingForm=!1,vm.serviceName_hidden=t.serviceName,vm.serviceCode_hidden=t.serviceCode,vm.govAgencyCode_hidden=t.govAgencyCode,vm.govAgencyName_hidden=t.govAgencyName,vm.dossierTemplateNo_hidden=currentQuery.hasOwnProperty("template_no")&&currentQuery.template_no?currentQuery.template_no:"",vm.eformCode_hidden=currentQuery.hasOwnProperty("eformCode")&&currentQuery.eformCode?currentQuery.eformCode:"",setTimeout((function(){var t,e;vm.data_form_template&&(t=vm.data_form_template?vm.data_form_template:{},e={},t.data=e,window.$("#formAlpacaNewTemplate").alpaca(t))}),200);var e={dossierTemplateNo:vm.dossierTemplateNo_hidden};vm.$store.dispatch("loadDossierTemplates",e).then((function(t){for(var e in t["dossierParts"])t["dossierParts"][e].fileMark=!0;vm.tphsGuide=t["dossierParts"].filter((function(t){return 1===t["partType"]}))})).catch((function(){}))}))}else vm.formTemplate="version_1.0",vm.$store.dispatch("getDetailDossier",data).then((function(t){if(vm.dossierId=t.dossierId,vm.briefNote=t.serviceName?t.serviceName:"","UPDATE"===vm.formCode&&(vm.fromViaPostal="1"===String(t.fromViaPostal),t.hasOwnProperty("fromATM")&&(vm.fromATM=2==t.fromATM),t.hasOwnProperty("receiveFromATM")&&(vm.receiveFromATM=2==t.receiveFromATM)),t["editable"]=!1,""===t.dossierStatus?vm.$store.dispatch("pullNextactions",t).then((function(e){if(e){var a=e.filter((function(t){return"1"===String(t.enable)&&"listener"!==t.autoEvent})),i=e.filter((function(t){return 1300===t.actionCode||"1300"===t.actionCode}));i.length>0&&vm.showGuiHoSoConfig&&(vm.showGuiHoSo=!0,vm.actionDetailSendDossierDvc=i[0]),a.length>1?vm.actionDetail=a.filter((function(t){return 1100===t.actionCode||"1100"===t.actionCode}))[0]:vm.actionDetail=a[0],vm.$store.dispatch("processPullBtnDetail",{dossierId:t.dossierId,actionId:vm.actionDetail?vm.actionDetail.processActionId:""}).then((function(e){if(t["editable"]=!(!e||!e.receiving)&&e.receiving.editable,t["receivingDuedate"]=e&&e.receiving&&e.receiving.dueDate?e.receiving.dueDate:null,t["receivingDate"]=e&&e.receiving?e.receiving.receiveDate:"",t["allowAssignUser"]=String(e["allowAssignUser"]),vm.editableDate=!(!e||!e.receiving)&&e.receiving.editable,vm.dueDateEdit=e&&e.receiving&&e.receiving.dueDate?e.receiving.dueDate:"",vm.receiveDateEdit=e&&e.receiving?e.receiving.receiveDate:"",vm.durationPhase=e&&e.receiving&&e.receiving.hasOwnProperty("durationPhase")?e.receiving.durationPhase:"",e&&e.payment&&e.payment.requestPayment>0){try{if(e.hasOwnProperty("paymentFee")&&e.paymentFee){vm.sourcePaymentFee="";var a=JSON.parse(e.paymentFee);vm.splitBienLai=!!a.hasOwnProperty("isGroupPaymentFile"),vm.sourcePaymentFee=a.hasOwnProperty("source")?a["source"]:{}}else vm.sourcePaymentFee={}}catch(error){}vm.showThuPhi=!0,vm.paymentsOriginal=e.payment;var i="";try{i=JSON.parse(e.payment["paymentNote"]),i&&(i=Object.assign(i,{editable:e.payment["editable"],requestPayment:e.payment["requestPayment"]}))}catch(error){}vm.payments=i||e.payment}if(vm.$refs.thongtinchunghoso&&vm.$refs.thongtinchunghoso.initData(t),currentQuery.hasOwnProperty("rememberApplicant")&&currentQuery.rememberApplicant&&vm.rememberApplicant&&vm.$refs.thongtinchuhoso){var o="";try{"undefined"!==typeof Storage&&(o=JSON.parse(sessionStorage.getItem("rememberApplicant")))}catch(error){}o&&vm.$refs.thongtinchuhoso.initData(o)}vm.$refs.thongtincongvan&&vm.$refs.thongtincongvan.initData(t);var n=vm.getSearchParams(e["preCondition"],"validateDeliverable");n&&vm.getThongTinValidateGp(n)})).catch((function(){}))}else vm.$refs.thongtinchunghoso&&vm.$refs.thongtinchunghoso.initData(t)})):vm.$refs.thongtinchunghoso&&vm.$refs.thongtinchunghoso.initData(t),vm.thongTinChiTietHoSo=t,vm.mauCongVan||vm.$refs.thongtinchuhoso.initData(t),"UPDATE"===vm.formCode&&vm.mauCongVan&&vm.$refs.thongtinchuhosocongvan.initData(t),vm.viaPortalDetail=t.viaPostal,t.viaPostal>0){var e={vnpostalStatus:0,postalServiceName:"",postalServiceCode:"",postalAddress:"",postalCityCode:"",postalCityName:"",postalDistrictCode:"",postalDistrictName:"",postalWardCode:"",postalWardName:"",postalTelNo:""},a=t.address?t.address+", "+t.wardName+" - "+t.districtName+" - "+t.cityName:"";1===vm.originality&&(t["postalAddress"]=a,t["postalTelNo"]=vm.thongTinChuHoSo["contactTelNo"],e["vnpostalStatus"]=t.vnpostalStatus,e["postalAddress"]=t.address,e["postalCityCode"]=t.cityCode,e["postalCityName"]=t.cityName,e["postalDistrictCode"]=t.districtCode,e["postalDistrictName"]=t.districtName,e["postalWardCode"]=t.wardCode,e["postalWardName"]=t.wardName,e["postalTelNo"]=vm.thongTinChuHoSo["contactTelNo"]),vm.$store.commit("setDichVuChuyenPhatKetQua",t),vm.$store.commit("setDichVuChuyenPhatHoSo",e)}vm.getNotifyConfig(vm.dossierId),vm.$store.dispatch("getServiceInfo",{serviceInfoId:t.serviceCode}).then((function(e){e.hasOwnProperty("isNotarization")&&"true"===String(e.isNotarization)?vm.isNotarization=!0:(vm.isNotarization=!1,vm.mauCongVan&&"UPDATE"!==vm.formCode||vm.$refs.thanhphanhoso.initData(t))})),"NEW_GROUP_CV_DI"===vm.formCode&&vm.getDetailActionCongVan()})).catch((function(t){}))}))},luuHoSo:function(t){var e=this;if(!e.loadingAction){e.$router.history.current.query;e.$store.commit("setPrintPH",!1);var a=this.$refs.thongtinchunghoso?this.$refs.thongtinchunghoso.getthongtinchunghoso():{},i=this.$refs.thongtinchuhoso.thongTinChuHoSo,o=this.$refs.thongtinchuhoso?this.$refs.thongtinchuhoso.thongTinNguoiNopHoSo:{},n=(this.$refs.thanhphanhoso.dossierTemplateItems,this.$refs.dichvuchuyenphatketqua?this.$refs.dichvuchuyenphatketqua.dichVuChuyenPhatKetQua:{}),s=this.$refs.dichvuchuyenphathoso?this.$refs.dichvuchuyenphathoso.dichVuChuyenPhatHoSo:"",r=e.$refs.thongtinchuhoso.showValid();if(r["validForm"]){var c=!1;if(r["validApplicant"])c=!0;else{var l=confirm(r["message"]+" Bạn có muốn tiếp tục?");l&&(c=!0)}if(c){if(!e.$refs.thanhphanhoso.validDossierTemplate())return;if(2===n.viaPostal&&!e.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat())return;if(s&&1===s.vnpostalStatus&&!e.$refs.dichvuchuyenphathoso.validDichVuChuyenPhat())return;var d=e.$refs.thanhphanhoso.dossierFilesItems,p=[];d&&"UPDATE"!==e.formCode&&d.forEach((function(t,a){t.eForm&&(t["dossierId"]=e.dossierId,p.push(e.$store.dispatch("putAlpacaForm",t)))}));var u=Object.assign(i,o,n,a);if(u["dossierId"]=e.dossierId,u["sampleCount"]=e.thongTinChiTietHoSo.sampleCount,u["originality"]=e.originality,u["dossierName"]=e.briefNote,s){var h={postalServiceName:s.postalServiceCode,postalAddress:s.postalAddress,postalCityCode:s.postalCityCode,postalCityName:s.postalCityName,postalDistrictCode:s.postalDistrictCode,postalDistrictName:s.postalDistrictName,postalWardCode:s.postalWardCode,postalWardName:s.postalWardName,postalTelNo:s.postalTelNo};u["vnpostalStatus"]=s&&s.vnpostalStatus?s.vnpostalStatus:0,u["vnpostalProfile"]=h}e.loadingAction=!0,setTimeout((function(){e.$store.dispatch("putDossier",u).then((function(a){if("UPDATE"===e.formCode)e.updateMetaData(),e.loadingAction=!1,e.urlHistoryUpdateDvc?window.location.href=e.urlHistoryUpdateDvc+"/"+e.dossierId:window.history.back();else{var i=e.$store.getters.loadingInitData,o=i.user.userName?i.user.userName:"",n=e.actionDetail.actionCode;t&&"send"===t&&(n=e.actionDetailSendDossierDvc.actionCode);var s={originality:e.originality,thongtinhoso:e.thongTinChiTietHoSo,dossierId:e.dossierId,actionCode:n,actionNote:"",actionUser:o,payload:"",security:"",assignUsers:"",payment:e.payments,createDossiers:"",dueDate:u.dueDate};if(t&&"send"===t){var r=confirm("Bạn có chắc chắn gửi hồ sơ này?");r?e.$store.dispatch("postAction",s).then((function(t){e.loadingAction=!1,e.updateMetaData(),e.$router.push({path:"/danh-sach-ho-so/"+e.index,query:{renew:Math.floor(100*Math.random())+1,q:e.menuConfigsToDo[e.index]["queryParams"]}}),e.tiepNhanState=!1})):e.loadingAction=!1}else e.$store.dispatch("postAction",s).then((function(t){e.loadingAction=!1,e.updateMetaData();e.$router.history.current.query;e.$router.push({path:"/danh-sach-ho-so/4/chi-tiet-ho-so/"+t.dossierId,query:{activeTab:"tabs-1"}}),e.tiepNhanState=!1})).catch((function(){e.loadingAction=!1}))}})).catch((function(t){e.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_0___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_0___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})).catch((function(){e.loadingAction=!1}))}),500)}}}},tiepNhanHoSo:function(t){var e=this;if(!e.loadingAction){e.$router.history.current.query;e.$store.commit("setPrintPH",!1);var a=this.$refs.thongtinchunghoso?this.$refs.thongtinchunghoso.getthongtinchunghoso():{},i=this.$refs.thongtinchuhoso?this.$refs.thongtinchuhoso.getThongTinChuHoSo():{},o=this.$refs.thongtinchuhoso?this.$refs.thongtinchuhoso.getThongTinNguoiNopHoSo():[],n=(this.$refs.thanhphanhoso&&this.$refs.thanhphanhoso.dossierTemplateItems,this.$refs.thanhphanhoso?e.$refs.thanhphanhoso.showValid():{validForm:!0}),s=e.dichVuChuyenPhatKetQua,r=e.$refs.thongtinchuhoso?e.$refs.thongtinchuhoso.showValid():{validForm:!0,validApplicant:!0},c=e.$refs.thongtinchuhosocongvan?e.$refs.thongtinchuhosocongvan.getThongTinChuHoSo():{validation:!0},l=!e.$refs.formTenHoSo||e.$refs.formTenHoSo.validate();if(r["validForm"]&&c["validation"]&&l&&n["validForm"]){var d=!1;if(r["validApplicant"])d=!0;else{var p=confirm(r["message"]+" Bạn có muốn tiếp tục?");p&&(d=!0)}if(d){if(e.loadingAction=!0,e.$refs.thanhphanhoso&&!e.$refs.thanhphanhoso.validDossierTemplate())return void(e.loadingAction=!1);if(2===s.viaPostal&&!e.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat())return void(e.loadingAction=!1);var u=e.$refs.thanhphanhoso?e.$refs.thanhphanhoso.dossierFilesItems:"",h=[];u&&u.forEach((function(t,a){t.eForm&&(t["dossierId"]=e.dossierId,h.push(e.$store.dispatch("putAlpacaForm",t)))}));var g="";g=e.mauCongVan?Object.assign(c,s,a):Object.assign(i,o,s,a),g["dossierId"]=e.dossierId,g["sampleCount"]=e.thongTinChiTietHoSo.sampleCount,g["dossierName"]=e.briefNote,g["originality"]=e.originality,g["fromViaPostal"]=e.fromViaPostal?1:0,e.thongTinChiTietHoSo.hasOwnProperty("fromATM")&&e.thongTinChiTietHoSo.hasOwnProperty("postAtmService")&&e.thongTinChiTietHoSo.postAtmService&&(g["fromATM"]=e.fromATM?2:1),e.thongTinChiTietHoSo.hasOwnProperty("receiveATMService")&&e.thongTinChiTietHoSo.hasOwnProperty("receiveFromATM")&&e.thongTinChiTietHoSo.receiveATMService&&(g["receiveFromATM"]=e.receiveFromATM?2:1);var m=function(){e.$store.dispatch("putDossier",g).then((function(a){if(e.loadingAction=!1,"UPDATE"===e.formCode)3===e.originality?window.history.back():e.$router.push({path:"/danh-sach-ho-so/0/chi-tiet-ho-so/"+e.dossierId+queryString,query:{renew:Math.floor(100*Math.random())+1}});else{var i=e.$store.getters.loadingInitData,o=i.user.userName?i.user.userName:"",n={};if(e.showThuPhi){if(n={requestPayment:e.payments["requestPayment"],paymentNote:e.payments["paymentNote"],paymentFee:e.payments["paymentFee"],advanceAmount:Number(e.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(e.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(e.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(e.payments["shipAmount"].toString().replace(/\./g,""))},e.payments["groupPaymentFile"]&&(n["groupPaymentFile"]=e.payments["groupPaymentFile"]),e.payments&&e.payments.hasOwnProperty("counter")&&e.payments.counter){var s={requestPayment:e.payments["requestPayment"],paymentNote:e.payments["paymentNote"],advanceAmount:Number(e.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(e.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(e.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(e.payments["shipAmount"].toString().replace(/\./g,"")),counter:e.payments.counter,paymentFee:e.payments["paymentFee"]};n.feeAmount=n.feeAmount*e.payments.counter,n.serviceAmount=n.serviceAmount*e.payments.counter,n.shipAmount=n.shipAmount*e.payments.counter,n.paymentNote=s?JSON.stringify(s):n.paymentNote}if(e.isNotarization){var r=e.$refs.tailieuchungthuc.dataExport();n.feeAmount=r.feeTotal}}var c={dueDate:e.editableDate&&g.dueDate?g.dueDate:e.dueDateEdit,receiveDate:e.receiveDateEdit};e.durationPhase&&(c=Object.assign(c,{durationPhase:e.durationPhase})),c=Object.assign(g,c);var l=e.actionDetail.actionCode,d={dossierId:e.dossierId,actionCode:l,actionNote:"",actionUser:o,payload:c,security:"",assignUsers:"",payment:n,createDossiers:""};e.thongTinChiTietHoSo.hasOwnProperty("allowAssignUser")&&"1"===e.thongTinChiTietHoSo.allowAssignUser&&(d.assignUsers=[{userId:i.user.userId,userName:o,assigned:1}]),e.loadingAction=!0,e.$store.dispatch("postAction",d).then((function(i){if(e.danhGiaCanBoTrenQuay&&e.sendMaHoSoDanhGia(e.dossierId),e.loadingAction=!1,t){var o=e.$router.history.current,n=o.query;e.rememberApplicant&&"2"==g["userType"]&&(n["rememberApplicant"]=!0,"undefined"!==typeof Storage&&sessionStorage.setItem("rememberApplicant",JSON.stringify(a)));var s=e.$store.getters.getDataCreateDossier;e.loadingAction=!0,e.$store.dispatch("postDossier",s).then((function(t){e.loadingAction=!1,e.dossierId=t.dossierId,e.$refs.thongtinchunghoso.changeDossierNo(t.dossierNo);var a="?";for(var i in n)""!==n[i]&&"undefined"!==n[i]&&void 0!==n[i]&&(a+=i+"="+n[i]+"&");e.$router.push({path:"/danh-sach-ho-so/0/ho-so/"+t.dossierId+"/NEW"+a,query:{renew:Math.floor(100*Math.random())+1}})})).catch((function(t){e.loadingAction=!1}))}else e.goBack(),e.tiepNhanState=!1,"undefined"!==typeof Storage&&sessionStorage.removeItem("rememberApplicant")})).catch((function(t){e.loadingAction=!1}))}})).catch((function(t){e.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_0___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_0___default.a.error("Yêu cầu của bạn thực hiện thất bại."),e.updateMetaData()})).catch((function(){e.loadingAction=!1}))};if(e.mauCongVan){if(e.mappingValidateGP)for(var f in e.mappingValidateGP)e.mappingValidateGP[f]=c[e.mappingValidateGP[f]];var v={formDataKey:e.mappingValidateGP?e.mappingValidateGP:"",deliverableType:e.mauGiayPhep};""===v.formDataKey?m():e.$store.dispatch("checkDaCapPhep",v).then((function(t){var a=!1,i=t.hasOwnProperty("data")?t.data:[];if(i.length>0&&(a=!0),a){var o=confirm("Đối tượng đã cấp phép. Bạn có muốn tiếp tục?");o?m():e.loadingAction=!1}else m()})).catch((function(t){m()}))}else m()}}else toastr__WEBPACK_IMPORTED_MODULE_0___default.a.error("Dữ liệu không hợp lệ"),e.applicantIdRequired=r["applicantIdRequired"]}},tiepNhanCongVan:function(t,e){var a=this,i=this.$refs.thongtincongvan.getThongTinCongVan(),o=i;o.dueDate=a.dateTimeView(i.dueDate),o=Object.assign(o,{typeAction:t||""});var n=!0;"NEW_GROUP_CV"===a.formCode&&(n=i.validation),n=(a.formCode,i.validation),"NEW_GROUP_CV_DI"===a.formCode&&"saveSend"===e&&a.hoSoDaXuLy.length>0?alert("Vui lòng xóa hồ sơ đã xử lý trước khi gửi công văn"):(a.loadingAction=!0,n?a.$store.dispatch("putDossierCongVan",o).then((function(t){var o;if("NEW_GROUP_CV"===a.formCode)o=i.metaData;else{var n=a.currentcyToString(String(a.totalFee));if("save"===e){var s={congvandagui:!1,donvinhan:"",tendonvinhan:"",donvinhandraf:i.metaData.donvinhan,tendonvinhandraf:i.metaData.tendonvinhan,actioncode:a.formActionGroup.action,postStepCode:a.postStepCodeCongVan,stepcode:a.formActionGroup.hasOwnProperty("stepCode")?a.formActionGroup.stepCode:"",donvinhancollection:a.formActionGroup.hasOwnProperty("donvinhan")?a.formActionGroup.donvinhan:"",requiredCVDenGovCode:a.formActionGroup.hasOwnProperty("requiredCVDenGovCode")?a.formActionGroup.requiredCVDenGovCode:"",requiredCVDenGroupId:a.formActionGroup.hasOwnProperty("requiredCVDenGroupId")?a.formActionGroup.requiredCVDenGroupId:"",totalSubsidy:a.totalFee,totalSubsidyText:n};o=Object.assign(i.metaData,s)}else{var r={congvandagui:!0,actioncode:a.formActionGroup.action,postStepCode:a.postStepCodeCongVan,stepcode:a.formActionGroup.hasOwnProperty("stepCode")?a.formActionGroup.stepCode:"",donvinhancollection:a.formActionGroup.hasOwnProperty("donvinhan")?a.formActionGroup.donvinhan:"",requiredCVDenGovCode:a.formActionGroup.hasOwnProperty("requiredCVDenGovCode")?a.formActionGroup.requiredCVDenGovCode:"",requiredCVDenGroupId:a.formActionGroup.hasOwnProperty("requiredCVDenGroupId")?a.formActionGroup.requiredCVDenGroupId:"",totalSubsidy:a.totalFee,totalSubsidyText:n};o=Object.assign(i.metaData,r)}}var c={id:a.dossierId,data:JSON.stringify(o)};"NEW_GROUP_CV"===a.formCode?a.$store.dispatch("putMetaData",c).then((function(){a.loadingAction=!1,a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/nhom-ho-so/"+a.formCode+"/"+t.dossierId,query:a.$router.history.current.query})})).catch((function(){a.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_0___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_0___default.a.error("Yêu cầu của bạn thực hiện thất bại")})):a.$store.dispatch("putMetaData",c).then((function(){var t={groupDossierId:i.dossierId,dossierId:""},o=[];for(var n in a.dossiersIntoGroupRender)o.push(a.dossiersIntoGroupRender[n]["dossierId"]);t["dossierId"]=o.toString(),a.$store.dispatch("postDossierIntoGroup",t).then((function(t){if(a.createFileCongVan){var o={dossierId:a.dossierId,partNo:a.createFileCongVan};a.$store.dispatch("loadFormData",o).then((function(t){var o=JSON.parse(t);Object.assign(o,{tp:a.createFileCongVan,dossierId:a.dossierId});a.$store.dispatch("postEformCallBack",o).then((function(t){"save"===e?(a.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_0___default.a.success("Lưu công văn thành công"),a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/nhom-ho-so/"+a.formCode+"/"+i.dossierId,query:a.$router.history.current.query})):a.processAction()}))})).catch((function(t){}))}else"save"===e?(a.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_0___default.a.success("Lưu công văn thành công"),a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/nhom-ho-so/"+a.formCode+"/"+i.dossierId,query:a.$router.history.current.query})):a.processAction()}))})).catch((function(){a.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_0___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_0___default.a.error("Yêu cầu của bạn thực hiện thất bại")}))})).catch((function(t){a.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_0___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_0___default.a.error("Yêu cầu của bạn thực hiện thất bại")})):(a.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_0___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_0___default.a.error("Dữ liệu không hợp lệ")))},boSungHoSo:function(){var t=this;t.$store.commit("setPrintPH",!1);var e=this.$refs.thongtinchunghoso.getthongtinchunghoso(),a=this.$refs.thongtinchuhoso.thongTinChuHoSo,i=this.$refs.thongtinchuhoso.thongTinNguoiNopHoSo,o=this.$refs.thanhphanhoso.dossierTemplateItems,n=this.$refs.lephi.lePhi,s=this.$refs.dichvuchuyenphatketqua.dichVuChuyenPhatKetQua;if(t.$refs.thongtinchuhoso.showValid()){var r=t.$refs.thanhphanhoso.dossierFilesItems,c=o,l=[],d=[];c&&(c.forEach((function(e,a){1===e.partType&&(e["dossierId"]=t.dossierId,d.push(t.$store.dispatch("postDossierMark",e)))})),r.forEach((function(e,a){e.eForm&&(e["dossierId"]=t.dossierId,l.push(t.$store.dispatch("putAlpacaForm",e)))}))),Promise.all(d).then((function(t){})).catch((function(t){})),Promise.all(l).then((function(r){var c=Object.assign(a,i,o,n,s,e);c["dossierId"]=t.dossierId,t.$store.dispatch("putDossier",c).then((function(e){t.updateMetaData();var a={dossierId:t.dossierId,actionCode:7100,payload:"",security:"",assignUsers:{},payment:{},createDossiers:{},dueDate:c.dueDate};t.$store.dispatch("postAction",a).then((function(t){}))}))})).catch((function(t){}))}},changeViapostal:function(t){this.viaPortalDetail=t?2:1},tiepNhanNhomHoSo:function(t){var e=this;e.$store.commit("setPrintPH",!1);var a=this.$refs.thongtinchuhoso.getThongTinNguoiNopHoSo(),i=(this.$refs.thanhphanhoso.dossierTemplateItems,e.dichVuChuyenPhatKetQua);if(e.loadingAction=!0,2!==i.viaPostal||e.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat()){var o=e.$refs.thanhphanhoso.dossierFilesItems,n=[];o&&o.forEach((function(t,a){t.eForm&&(t["dossierId"]=e.dossierId,n.push(e.$store.dispatch("putAlpacaForm",t)))}));var s=Object.assign(a,i);s["sampleCount"]=e.thongTinChiTietHoSo.sampleCount,s["dossierName"]=e.briefNote;var r={serviceCode:e.thongTinChiTietHoSo.serviceCode,govAgencyCode:e.thongTinChiTietHoSo.govAgencyCode,templateNo:e.thongTinChiTietHoSo.dossierTemplateNo,originality:9};e.$store.dispatch("postDossier",r).then((function(t){s["dossierId"]=t.dossierId,e.$store.dispatch("putDossier",s).then((function(t){e.updateMetaData(),e.loadingAction=!1,e.$router.push({path:"/danh-sach-ho-so/0/nhom-ho-so/"+e.formCode+"/"+t.dossierId,query:e.$router.history.current.query})})).catch((function(t){e.loadingAction=!1,e.updateMetaData(),toastr__WEBPACK_IMPORTED_MODULE_0___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_0___default.a.error("Yêu cầu của bạn thực hiện thất bại")}))}))}else e.loadingAction=!1},tiepNhanHoSoNewTemplate:function(t){var e=this,a={originality:e.getOriginality(),serviceCode:jquery__WEBPACK_IMPORTED_MODULE_1___default()("#serviceCode_hidden").val(),govAgencyCode:jquery__WEBPACK_IMPORTED_MODULE_1___default()("#govAgencyCode_hidden").val(),templateNo:jquery__WEBPACK_IMPORTED_MODULE_1___default()("#dossierTemplateNo_hidden").val(),dossiers:""},i=window.$("#formAlpacaNewTemplate").alpaca("get").getValue(),o=i;for(var n in o)String(n).indexOf("_")>=0&&delete o[n];a["dossiers"]=JSON.stringify(o["dossiers"]),a["dossierFileArr"]=JSON.stringify(o["dossierFileArr"]),a["dossierMarkArr"]=JSON.stringify(o["dossierMarkArr"]),a["payment"]=JSON.stringify(o["payment"]),"true"===String(jquery__WEBPACK_IMPORTED_MODULE_1___default()("#validate_required").val())?(e.loadingAction=!0,e.$store.dispatch("postDossierNewVersion",a).then((function(t){e.loadingAction=!1,e.$store.commit("setActivePrintBienNhan",t.dossierId),e.goBack()})).catch((function(t){e.loadingAction=!1}))):toastr__WEBPACK_IMPORTED_MODULE_0___default.a.error("Vui lòng nhập đầy đủ thông tin bắt buộc")},getDetailActionCongVan:function(){var t=this,e={dossierId:t.dossierId,stepCode:t.formActionGroup.stepCode,actionCode:t.formActionGroup.action};t.$store.dispatch("getDetailActionCongVan",e).then((function(e){var a;if(e.createDossierFiles)for(var i=e.createDossierFiles.split(","),o=function(e){var o=i.filter((function(a){return a===t.tphsCV[e]["partNo"]}));o.length>0&&7===t.tphsCV[e]["partType"]&&t.tphsCV[e]["hasForm"]&&(a=t.tphsCV[e]["partNo"])},n=0;n<t.tphsCV.length;n++)o(n);t.createFileCongVan=a,t.postStepCodeCongVan=e.postStepCode}))},getNotifyConfig:function(t){var e=this;if(e.notifyConfig&&3===e.originality){var a={dossierId:t,key:"smsNotify"};e.$store.dispatch("getNotifyConfig",a).then((function(t){"true"===String(t)?e.smsNotify=!0:e.smsNotify=!1}));var i={dossierId:t,key:"emailNotify"};e.$store.dispatch("getNotifyConfig",i).then((function(t){e.emailNotify=t,"true"===String(t)?e.emailNotify=!0:e.emailNotify=!1}))}},updateMetaData:function(){var t=this,e=t.$router.history.current.query;if(1==t.originality&&t.notifyConfig&&!t.showOptionName){var a={dossierId:t.dossierId,smsNotify:t.smsNotify,emailNotify:t.emailNotify};t.$store.dispatch("updateMetaData",a).then((function(t){}))}if(t.showOptionName){var i="";if(e.hasOwnProperty("optionName")&&e["optionName"]&&(i=e["optionName"]),1==t.originality&&t.notifyConfig){var o={dossierId:t.dossierId,smsNotify:t.smsNotify,emailNotify:t.emailNotify,optionName:i};t.$store.dispatch("updateMetaData",o).then((function(t){}))}else{var n={dossierId:t.dossierId,optionName:i};t.$store.dispatch("updateMetaData",n).then((function(t){}))}}},showHDTT:function(){var t=this;t.applicantNameGuide=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#delegateName").val(),t.applicantAddressGuide=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#delegateAddress").val(),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateWardCode-container").text()&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateWardCode-container").text().indexOf("/")<0&&(t.applicantAddressGuide+=", "+jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateWardCode-container").text(),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#delegateAddress").val()||t.applicantAddressGuide.replace(/,/g,"")),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateDistrictCode-container").text()&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateDistrictCode-container").text().indexOf("/")<0&&(t.applicantAddressGuide+=", "+jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateDistrictCode-container").text()),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateCityCode-container").text()&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateCityCode-container").text().indexOf("/")<0&&(t.applicantAddressGuide+=", "+jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateCityCode-container").text()),t.applicantTelNoGuide=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#delegateTelNo").val(),t.applicantEmailGuide=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#delegateEmail").val(),t.dialog_printGuide=!0,t.$refs.formDenied.resetValidation()},showTCTN:function(){var t=this;t.applicantNameGuide=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#delegateName").val(),t.applicantAddressGuide=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#delegateAddress").val(),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateWardCode-container").text()&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateWardCode-container").text().indexOf("/")<0&&(t.applicantAddressGuide+=", "+jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateWardCode-container").text(),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#delegateAddress").val()||t.applicantAddressGuide.replace(/,/g,"")),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateDistrictCode-container").text()&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateDistrictCode-container").text().indexOf("/")<0&&(t.applicantAddressGuide+=", "+jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateDistrictCode-container").text()),jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateCityCode-container").text()&&jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateCityCode-container").text().indexOf("/")<0&&(t.applicantAddressGuide+=", "+jquery__WEBPACK_IMPORTED_MODULE_1___default()("#select2-delegateCityCode-container").text()),t.applicantTelNoGuide=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#delegateTelNo").val(),t.applicantEmailGuide=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#delegateEmail").val(),t.dialog_denied=!0,t.$refs.formDenied.resetValidation()},doGuiding:function(t){var e=this,a=e.$router.history.current.query;if(e.$refs.formGuide.validate()){e.loadingAction=!0;var i=[];for(var o in e.tphsGuide)e.tphsGuide[o]["fileMark"]||i.push(e.tphsGuide[o]["partNo"]);var n={serviceConfigId:a.hasOwnProperty("service_config")&&a.service_config?a.service_config:"",serviceCode:e.serviceCode_hidden,serviceName:e.serviceName_hidden,templateNo:e.dossierTemplateNo_hidden,applicantName:e.applicantNameGuide,applicantAddress:e.applicantAddressGuide,applicantEmail:e.applicantEmailGuide,applicantTelNo:e.applicantTelNoGuide,govAgencyCode:e.govAgencyCode_hidden,govAgencyName:e.govAgencyName_hidden,typeCode:"DOC_03",partNo:i.toString(),applicantNote:e.applicantNoteGuide,type:"completed",applicantType:e.applicantTypeGuide?"citizen":"business"};"doc"===t&&(n["reportType"]="word"),"doc"!==t&&(e.tiltleDialog="Phiếu hướng dẫn hoàn thiện hồ sơ",e.dialogPDFLoading=!0,e.dialogPDF=!0),e.$store.dispatch("doGuiding",n).then((function(a){e.loadingAction=!1,e.dialog_printGuide=!1,e.dialogPDFLoading=!1,"doc"!==t&&(document.getElementById("dialogPDFPreview").src=a)})).catch((function(){e.loadingAction=!1}))}},doDenied:function(t){var e=this,a=e.$router.history.current.query;if(e.$refs.formDenied.validate()){e.loadingAction=!0;var i={serviceConfigId:a.hasOwnProperty("service_config")&&a.service_config?a.service_config:"",serviceCode:e.serviceCode_hidden,serviceName:e.serviceName_hidden,templateNo:e.dossierTemplateNo_hidden,applicantName:e.applicantNameGuide,applicantAddress:e.applicantAddressGuide,applicantEmail:e.applicantEmailGuide,applicantTelNo:e.applicantTelNoGuide,govAgencyCode:e.govAgencyCode_hidden,govAgencyName:e.govAgencyName_hidden,typeCode:"DOC_03",applicantNote:e.applicantNoteGuide,type:"denied",applicantType:e.applicantTypeGuide?"citizen":"business"};"doc"===t&&(i["reportType"]="word"),"doc"!==t&&(e.tiltleDialog="Phiếu từ chối tiếp nhận",e.dialogPDFLoading=!0,e.dialogPDF=!0),e.$store.dispatch("doGuiding",i).then((function(a){e.loadingAction=!1,e.dialog_denied=!1,e.dialogPDFLoading=!1,"doc"!==t&&(document.getElementById("dialogPDFPreview").src=a)})).catch((function(){e.loadingAction=!1}))}},viewDetail:function(t,e){var a=this;a.$router.history.current.query;a.$router.push("/danh-sach-ho-so/0/chi-tiet-ho-so/"+t["dossierId"])},removeDossierFromGroup:function(t){var e=this,a=e.dossiersIntoGroupRender.filter((function(e){return e.dossierId!==t.dossierId}));e.$store.commit("setDossierSelectedDoAction",a)},removeAllDossierFromGroup:function(){var t=this,e=t.dossiersIntoGroupRender.filter((function(e){return String(e.stepCode)===String(t.formActionGroup.stepCode)}));t.$store.commit("setDossierSelectedDoAction",e)},processAction:function(){var t=this;t.loadingAction=!0;var e=t.$store.getters.loadingInitData,a=e.user.userName?e.user.userName:"",i={dossierId:t.dossierId,actionCode:t.formActionGroup.action,actionUser:a};t.dossiersIntoGroupRender.length>0?t.$store.dispatch("doActionDossierIntoGroup",i).then((function(e){t.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_0___default.a.success("Lưu và gửi công văn thành công"),t.$router.push({path:"/danh-sach-ho-so/"+t.index,query:{renew:Math.floor(100*Math.random())+1,q:t.menuConfigsToDo[t.index]["queryParams"]}})})).catch((function(e){t.loadingAction=!1})):t.loadingAction=!1},createFileKqCongVan:function(){var t=this,e={dossierId:t.dossierId,partNo:t.createFileCongVan};t.$store.dispatch("loadFormData",e).then((function(e){var a=JSON.parse(e);Object.assign(a,{tp:t.createFileCongVan,dossierId:t.dossierId});t.$store.dispatch("postEformCallBack",a).then((function(t){}))})).catch((function(t){}))},copyFileDossierIntoGroup:function(){var t=this,e=t.dossiersIntoGroupRender.map((function(t){return t.dossierId})).toString(),a=(t.$refs.thongtincongvan.getFileCongVan(),t.filesKq.filter((function(e){return 7===e["dossierPartType"]&&e["dossierPartNo"]===t.createFileCongVan})));if(a.length>0&&e.length>0){var i=a.map((function(t){return t.dossierFileId})).toString(),o={dossierIds:e,dossierFileId:i};t.$store.dispatch("uploadFileDossierGroup",o).then((function(t){}))}},getMetaData:function(t){var e="";try{e=JSON.parse(t.metaData)}catch(a){}return e},sendMaHoSoDanhGia:function(t){var e=this;setTimeout((function(){var a={dossierId:t};e.$store.dispatch("getChiTietHoSo",a).then((function(t){var a=t.dossierNo,i={employeeId:e.userLoginInfomation.classPK,dossierNo:a};e.$store.dispatch("sendDossierNoVoting",i).then((function(t){}))}))}),300)},currency:function(t){if(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""},paggingData:function(t){var e=this;e.pagination.page=t.page;var a=e.pagination.page*e.pagination.rowsPerPage-e.pagination.rowsPerPage,i=e.pagination.page*e.pagination.rowsPerPage;e.dossiersIntoGroupRenderTemp=e.dossiersIntoGroupRender.slice(a,i)},formatDate:function(t){if(!t)return null;var e=t.split("-"),a=_slicedToArray(e,3),i=a[0],o=a[1],n=a[2];return"".concat(n,"/").concat(o,"/").concat(i)},parseDateToTimestamp:function(t){if(!t)return null;var e="".concat(t).split("/"),a=_slicedToArray(e,3),i=a[0],o=a[1],n=a[2],s="".concat(n,"-").concat(o.padStart(2,"0"),"-").concat(i.padStart(2,"0"));return"Invalid Date"==new Date(s)?"":new Date(s).getTime()},parseDate:function(t){try{var e=t.split("/"),a=_slicedToArray(e,3),i=a[0],o=a[1],n=a[2];return"".concat(n,"-").concat(o.padStart(2,"0"),"-").concat(i.padStart(2,"0"))}catch(s){return""}},dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""},goBack:function(){var t=this,e=t.$router.history.current.params,a=t.$router.history.current.query;t.isOffLine?t.$router.push({path:"/add-dvc/0"}):t.$router.push({path:"/danh-sach-ho-so/"+e.index,query:a})},goBackHistory:function(){window.history.back()},getThongTinValidateGp:function(t){var e=this,a={serverNo:t};e.$store.dispatch("getServerConfig",a).then((function(t){var a=JSON.parse(t.configs);e.mauGiayPhep=a.deliverableType,e.mappingValidateGP=a.mapping})).catch((function(t){}))},getSearchParams:function(t,e){var a="",i=t.split(",");return i.forEach((function(t){t=t.split("=");var i=t[0];i===e&&(a=t[1])})),a},currentcyToString:function(t){var e,a,i,o="",n=!1,s=new Array(32);while(t.length>0&&"0"==t.charAt(0))t=t.substring(1,t.length);if(a=t.length,a>28)return"So khong hop le";for(var r=1;r<=a;r++)t=t.replace(",","");a=t.length;for(r=1;r<=a;r++)s[r]=parseInt(t.charAt(r-1));for(r=1;r<=a;r++){if((a-r)%3==2&&0==s[r]&&a-r>=2&&(0==s[r+1]&&0==s[r+2]||(o+="không ")),2==s[r]&&(o+="hai "),3==s[r]&&(o+="ba "),6==s[r]&&(o+="sáu "),7==s[r]&&(o+="bảy "),8==s[r]&&(o+="tám "),9==s[r]&&(o+="chín "),4==s[r]&&(r>1&&(a-r)%3==0&&s[r-1]>1?o+="tư ":o+="bốn "),5==s[r]&&(r>1&&(a-r)%3==0&&0!=s[r-1]?o+="lăm ":o+="năm "),1==s[r]&&((a-r)%3==1?o+="mười ":(a-r)%3==0&&r>1&&s[r-1]>1?o+="mốt ":o+="một "),(a-r)%3==1&&0!=s[r]&&1!=s[r]&&(o+="mươi "),(a-r)%3==1&&0==s[r]&&0!=s[r+1]&&(o+="linh "),(a-r)%3!=2||0==s[r+1]&&0==s[r+2]||(o+="trăm "),r+2<=a&&0!=s[r]&&(a-r)%3==2&&0==s[r+1]&&0==s[r+2]&&(o+="trăm "),a-r==3&&(o+="nghìn "),a-r==6&&(o+="triệu "),a-r==9&&(o+="tỷ "),a-r==12){for(n=!0,e=r+1;r<a;r++)0!=s[r+1]&&(n=!1);o+=0==n?"nghìn ":"nghìn tỷ "}if(a-r==15&&(o+="triệu tỷ "),a-r==18&&(o+="tỷ tỷ "),a-r==21&&(o+="nghìn tỷ tỷ "),a-r==24&&(o+="triệu tỷ tỷ "),a-r==27&&(o+="tỷ tỷ tỷ "),a-r==30&&(o+="nghìn tỷ tỷ "),(a-r)%3==2&&0==s[r]&&0==s[r+1]&&0==s[r+2]&&(r+=2),(a-r)%3==0)for(i=1,e=r+1;e<=a;e++)0!=s[e]&&(i=0);if(1==i)break}""==o&&(o="không ");while(","==o.charAt(o.length))o=o.substring(0,o.length-1);return o=o.charAt(0).toUpperCase()+o.substring(1,o.length),"So khong hop le"!=o?o+="đồng chẵn":o=o,o}}}},c407:function(t,e,a){"use strict";a("eeae")},c5df:function(t,e,a){"use strict";var i=a("8336"),o=a("b0af"),n=a("99d9"),s=a("ac7c"),r=a("8fea"),c=a("169a"),l=a("cd55"),d=a("49e2"),p=a("0e8f"),u=a("4bd4"),h=a("132d"),g=a("a722"),m=a("490a"),f=a("b56d"),v=a("9910"),y=a("e0c7"),_=a("71a3"),D=a("fe57"),C=a("2677"),S=a("a844"),x=a("71d9"),T=a("2a7f"),b=a("3a2f"),N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(u["a"],{ref:"formTiepNhanHoSo",attrs:{"lazy-validation":""},model:{value:t.validTNHS,callback:function(e){t.validTNHS=e},expression:"validTNHS"}},[a("div",{staticClass:"row-header"},[a("div",{staticClass:"background-triangle-big"},["NEW_GROUP"===t.formCode?a("span",[t._v("THÔNG TIN NHÓM HỒ SƠ")]):t._e(),"NEW_GROUP_CV"===t.formCode||"NEW_GROUP_CV_DI"===t.formCode?a("span",[t.activeAddDossierIntoGroup?a("span",[t._v("THÊM MỚI HỒ SƠ")]):a("span",[t._v("THÔNG TIN CÔNG VĂN")])]):t._e()]),a("div",{staticClass:"layout wrap header_tools row-blue"},[a("div",{staticClass:"flex pl-3 text-ellipsis text-bold",attrs:{title:t.thongTinNhomHoSo.serviceName}},[t._v("\n          "+t._s(t.thongTinNhomHoSo.serviceName)+"\n        ")])])]),t.activeAddDossierIntoGroup?t._e():a("div",["NEW_GROUP"===t.formCode?a(g["a"],{staticStyle:{background:"#fff","border-bottom":"1px solid #dedede"},attrs:{wrap:""}},[a(p["a"],{staticClass:"my-2",attrs:{xs12:"",sm2:""}},[a(y["a"],{staticClass:"pl-0 text-header pt-2"},[t._v("Tên nhóm hồ sơ: ")])],1),a(p["a"],{staticClass:"my-2 pr-3",attrs:{xs12:"",sm10:""}},[a(C["a"],{staticClass:"mt-1",model:{value:t.thongTinNhomHoSo.dossierName,callback:function(e){t.$set(t.thongTinNhomHoSo,"dossierName",e)},expression:"thongTinNhomHoSo.dossierName"}})],1)],1):t._e(),"NEW_GROUP"===t.formCode?a("thong-tin-chu-ho-so",{ref:"thongtinnguoinophoso",attrs:{showApplicant:!0,showDelegate:!1}}):t._e(),"NEW_GROUP"===t.formCode?a("div",{staticStyle:{position:"relative","border-top":"1px solid #dedede"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:0}},[a(d["a"],[a("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("\n              Thành phần hồ sơ dùng chung    \n            ")]),a("thanh-phan-ho-so-1",{ref:"thanhphanhoso1",attrs:{onlyView:!1,id:"nm",partTypes:t.inputTypes}})],1)],1)],1):t._e(),"NEW_GROUP"===t.formCode?a("div",{staticStyle:{position:"relative"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],{key:1},[a("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("\n              Kết quả xử lý dùng chung    \n            ")]),a("thanh-phan-ho-so-2",{ref:"thanhphanhoso2",attrs:{onlyView:!0,id:"nm",partTypes:t.outputTypesGroup}})],1)],1)],1):t._e(),a("div",{staticStyle:{position:"relative","border-bottom":"1px solid #dedede"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],{key:1},["NEW_GROUP"===t.formCode?a("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("\n              Hồ sơ trong nhóm    \n            ")]):t._e(),"NEW_GROUP_CV"===t.formCode||"NEW_GROUP_CV_DI"===t.formCode?a("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("\n              Danh sách hồ sơ    \n            ")]):t._e(),t.dossiersIntoGroupRender.length>0?a("div",{staticClass:"mb-3"},[a(r["a"],{staticClass:"table-landing table-bordered",attrs:{"select-all":"",headers:t.headersCV,items:t.dossiersIntoGroupRenderTemp,"hide-actions":"","item-key":"dossierId"},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",t._l(t.headersCV,(function(e){return a("th",{key:e.text,class:e["class"]?e["class"]:"",attrs:{width:e["width"]?e["width"]+"px":""}},[a(b["a"],{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(e.text))]),a("span",[t._v(t._s(e.text))])])],1)})),0)]}},{key:"items",fn:function(e){return[a("tr",{staticStyle:{cursor:"pointer"},attrs:{title:"NEW_GROUP_CV_DI"===t.formCode&&String(t.metaDataGroupDossier["stepcode"])!==String(e.item.stepCode)&&t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&!t.metaDataGroupDossier.congvandagui?"Hồ sơ đã xử lý":""}},[a("td",{staticClass:"text-xs-center",staticStyle:{height:"40px !important"},attrs:{width:"50px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[a("span",[t._v(t._s(t.pagination.page*t.pagination.rowsPerPage-t.pagination.rowsPerPage+e.index+1))])]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"150px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[a("span",{style:"NEW_GROUP_CV_DI"===t.formCode&&String(t.metaDataGroupDossier["stepcode"])!==String(e.item.stepCode)&&t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&!t.metaDataGroupDossier.congvandagui?"text-decoration: underline;color: red;":""},[t._v("\n                        "+t._s(e.item.dossierNo)+"\n                      ")]),a("br"),"NEW_GROUP_CV_DI"===t.formCode&&String(t.metaDataGroupDossier["stepcode"])!==String(e.item.stepCode)&&t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&!t.metaDataGroupDossier.congvandagui?a("span",{staticStyle:{color:"red"}},[t._v("Hồ sơ đã xử lý")]):t._e()]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"150px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[t._v("\n                      "+t._s(e.item.applicantName)+"\n                    ")]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"100px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[t.getMetaData(e.item)&&t.getMetaData(e.item).hasOwnProperty("birthDateDay")&&t.getMetaData(e.item).hasOwnProperty("birthDateMonth")&&t.getMetaData(e.item).hasOwnProperty("birthDateYear")?a("span",[t._v(t._s(t.getMetaData(e.item).birthDateDay)+"/")]):t._e(),e.item&&t.getMetaData(e.item)&&t.getMetaData(e.item).hasOwnProperty("birthDateMonth")&&t.getMetaData(e.item).hasOwnProperty("birthDateYear")?a("span",[t._v(t._s(t.getMetaData(e.item).birthDateMonth)+"/")]):t._e(),e.item&&t.getMetaData(e.item)&&t.getMetaData(e.item).hasOwnProperty("birthDateYear")?a("span",[t._v(t._s(t.getMetaData(e.item).birthDateYear)+" ")]):t._e()]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[e.item.address?a("span",[t._v(t._s(e.item.address)+", ")]):t._e(),e.item.wardName?a("span",[t._v(t._s(e.item.wardName)+", ")]):t._e(),e.item.districtName?a("span",[t._v(t._s(e.item.districtName)+", ")]):t._e(),e.item.cityName?a("span",[t._v(t._s(e.item.cityName)+" ")]):t._e()]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"100px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[e.item.metaData&&t.getMetaData(e.item)&&t.getMetaData(e.item).yearPayment?a("span",[t._v(t._s(t.getMetaData(e.item).yearPayment)+" ")]):t._e()]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"100px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[e.item.metaData&&t.getMetaData(e.item)&&t.getMetaData(e.item).subsidy?a("span",[t._v(t._s(t.currency(t.getMetaData(e.item).subsidy))+" ")]):t._e()]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"100px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[e.item.dossierStatusText?a("span",[t._v(t._s(e.item.dossierStatusText)+" ")]):t._e()]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"100px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[e.item.applicantNote?a("span",[t._v(t._s(e.item.applicantNote)+" ")]):t._e()]),a("td",{staticClass:"text-xs-center",staticStyle:{height:"40px !important"},attrs:{width:!t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&t.checkGroupDossierIdCvDen(String(e.item["groupDossierIds"]))||t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&!t.metaDataGroupDossier.congvandagui?"170px":"70px"}},[a(i["a"],{staticClass:"mr-2 my-0",attrs:{flat:"",icon:"",color:"indigo",title:"Xem chi tiết"},on:{click:function(a){return t.viewDetail(e.item)}}},[a(h["a"],[t._v("fas fa fa-file-text")])],1),!t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&t.checkGroupDossierIdCvDen(String(e.item["groupDossierIds"]),"editAction",e.item)||t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&!t.metaDataGroupDossier.congvandagui&&t.checkGroupDossierIdCvDen(String(e.item["groupDossierIds"]),"editAction",e.item)?a(i["a"],{staticClass:"mr-2 my-0",attrs:{flat:"",icon:"",color:"green",title:"Sửa hồ sơ"},on:{click:function(a){return t.editDossierIntoGroup(e.item)}}},[a(h["a"],{attrs:{size:"22"}},[t._v("create")])],1):t._e(),!t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&t.checkGroupDossierIdCvDen(String(e.item["groupDossierIds"]))||t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&!t.metaDataGroupDossier.congvandagui?a(i["a"],{staticClass:"my-0",attrs:{flat:"",icon:"",color:"red",title:"Xóa khỏi công văn"},on:{click:function(a){return t.removeDossierFromGroup(e.item)}}},[a(h["a"],{attrs:{size:"22"}},[t._v("delete")])],1):t._e()],1)])]}}],null,!1,2529081291),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a(g["a"],{staticClass:"mt-3 ml-3",attrs:{wrap:""}},[a(p["a"],{staticClass:"pt-2",attrs:{xs12:"",sm2:""}},[a("span",[t._v("Tổng số hồ sơ xử lý: ")]),a("span",{staticClass:"text-bold"},[t._v(t._s(t.dossiersCounterIntoGroupFilter)+" ")])]),a(p["a"],{staticClass:"pt-2",attrs:{xs12:"",sm3:""}},[a("span",[t._v("Tổng số tiền: ")]),a("span",{staticClass:"text-bold"},[t._v(t._s(t.currency(t.totalFee))+" đồng")])]),a(p["a"],{attrs:{xs12:"",sm7:""}},[a("div",{staticClass:"text-xs-center layout wrap pr-1",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table px-2"},[a("tiny-pagination",{attrs:{showLimit:!0,total:t.dossiersIntoGroupRender.length,showTotal:!1,currentLimit:30,page:t.pagination.page,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.paggingData}})],1)])])],1),"NEW_GROUP_CV_DI"===t.formCode&&t.hoSoDaXuLy.length>0?a("div",{staticClass:"ml-2"},[a(h["a"],{attrs:{color:"red darken-2",size:"24"}},[t._v("report_problem")]),t._v("  \n                "),a("span",{staticStyle:{"font-size":"14px"}},[t._v("Hồ sơ \n                  "),a("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.hoSoDaXuLyList))]),t._v(" đã xử lý. Vui lòng xóa khỏi công văn trước khi gửi.\n                ")])],1):t._e()],1):a("div",{staticClass:"pl-5 py-2"},[t._v("Chưa có hồ sơ nào")]),"NEW_GROUP_CV"===t.formCode&&!t.metaDataGroupDossier.hasOwnProperty("congvandagui")||"NEW_GROUP_CV_DI"===t.formCode?a(p["a"],{staticClass:"text-right mb-3 mr-2",attrs:{xs12:""}},["NEW_GROUP_CV_DI"===t.formCode&&t.hoSoDaXuLy.length>0?a(i["a"],{staticClass:"mx-0 my-0 mr-2",attrs:{disabled:t.loadingAction,small:"",color:"primary"},on:{click:t.removeAllDossierFromGroup}},[a(h["a"],{attrs:{size:"20"}},[t._v("delete")]),t._v("  \n                "),a("span",[t._v("Xóa hồ sơ đã xử lý")])],1):t._e(),"Thêm mới hồ sơ"===t.addFormNewInGroup?a(i["a"],{staticClass:"mx-0 my-0 mr-2",attrs:{disabled:t.loadingAction,small:"",color:"primary"},on:{click:t.createDossierIntoGroup}},[a(h["a"],{attrs:{size:"20"}},[t._v("add")]),t._v("   \n                "),a("span",[t._v("Thêm mới hồ sơ")])],1):t._e(),"NEW_GROUP_CV"!==t.formCode&&t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&!t.metaDataGroupDossier.congvandagui?a(i["a"],{staticClass:"mx-0 my-0",attrs:{disabled:t.loadingAction,small:"",color:"primary"},on:{click:t.showDossierToAdd}},[a(h["a"],{attrs:{size:"20"}},[t._v("create_new_folder")]),t._v("   \n                "),a("span",[t._v("Thêm hồ sơ đã có")])],1):t._e()],1):t._e(),"NEW_GROUP"===t.formCode?a(p["a"],{staticClass:"text-right mb-3 mr-2",attrs:{xs12:""}},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"dossierImport"},on:{change:function(e){return t.uploadfileDossierImport(e)}}}),a(i["a"],{staticClass:"mx-0 my-0 mr-2",staticStyle:{height:"36px !important"},attrs:{color:"primary"},on:{click:t.createDossierIntoGroup}},[a(h["a"],{attrs:{size:"20"}},[t._v("add")]),t._v("   \n                "),a("span",[t._v("Thêm hồ sơ vào nhóm")])],1),a(i["a"],{staticClass:"mx-0 my-0 mr-1",staticStyle:{height:"36px !important"},attrs:{color:"primary"},on:{click:t.importIntoGroup}},[a(h["a"],{attrs:{size:"20"}},[t._v("cloud_upload")]),t._v("   \n                "),a("span",[t._v("Import hồ sơ vào nhóm")])],1)],1):t._e()],1)],1)],1)],1),t.activeAddDossierIntoGroup?a("div",[t.activeAddDossierIntoGroup&&"NEW_GROUP"===t.formCode?a("thong-tin-chu-ho-so",{ref:"thongtinchuhoso",attrs:{showApplicant:!1,showDelegate:!0}}):t._e(),"NEW_GROUP_CV"===t.formCode||"NEW_GROUP_CV_DI"===t.formCode?a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],[a("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),a("span",[t._v("Tên hồ sơ")]),t._v("\n                \n          ")]),a("div",[a(o["a"],[a(n["b"],[a(u["a"],{ref:"formTenHoSo",attrs:{"lazy-validation":""},model:{value:t.valid_tenHoSo,callback:function(e){t.valid_tenHoSo=e},expression:"valid_tenHoSo"}},[a(S["a"],{attrs:{rows:2,box:"",label:"Nhập tên hồ sơ",rules:[t.rules.varchar5000]},model:{value:t.dossierNameCongVan,callback:function(e){t.dossierNameCongVan=e},expression:"dossierNameCongVan"}})],1)],1)],1)],1)])],1):t._e(),t.activeAddDossierIntoGroup?a("div",{staticStyle:{position:"relative"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:0}},[a(d["a"],[a("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("\n              Thành phần hồ sơ     \n            ")]),a("thanh-phan-ho-so",{ref:"thanhphanhoso",attrs:{formCode:t.formCode,onlyView:!1,id:"nm",partTypes:t.inputTypesIntoGroup}})],1)],1)],1):t._e(),0!==t.viaPortalDetail?a("div",{staticStyle:{position:"relative"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:0}},[a(d["a"],{attrs:{"hide-actions":"",value:"2"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"background-triangle-small"},[a(h["a"],{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Dịch vụ chuyển phát kết quả")]),a("dich-vu-chuyen-phat-ket-qua",{ref:"dichvuchuyenphatketqua",on:{changeViapostal:t.changeViapostal}})],1)],1)],1):t._e(),a("div",{staticStyle:{position:"relative"}},[a(l["a"],{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[a(d["a"],{attrs:{"hide-actions":"",value:"2"}},[t.showThuPhi?a("thu-phi",{attrs:{viaPortal:t.viaPortalDetail},model:{value:t.payments,callback:function(e){t.payments=e},expression:"payments"}}):t._e()],1)],1)],1)],1):t._e(),t.activeAddDossierIntoGroup||t.activeAddGroup?a(D["a"],{staticClass:"mb-0 mt-4",attrs:{"icons-and-text":"",centered:""}},[t.activeAddGroup&&"NEW_GROUP_CV"===t.formCode&&!t.metaDataGroupDossier.hasOwnProperty("congvandagui")?a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-1"},on:{click:function(e){return t.putGroupDossier()}}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"20"}},[t._v("save")]),t._v("   \n          "),a("span",[t._v("Cập nhật")]),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1):t._e(),t.activeAddGroup&&"NEW_GROUP_CV_DI"===t.formCode&&t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&!t.metaDataGroupDossier.congvandagui?a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-1"},on:{click:function(e){return t.putGroupDossier("save")}}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"20"}},[t._v("save")]),t._v("   \n          "),a("span",[t._v("Lưu công văn")]),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1):t._e(),t.activeAddGroup&&"NEW_GROUP_CV_DI"===t.formCode&&t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&!t.metaDataGroupDossier.congvandagui?a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-2"},on:{click:function(e){return t.putGroupDossier("saveSend")}}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction||0===t.dossiersCounterIntoGroupFilter}},[a(h["a"],{attrs:{size:"20"}},[t._v("save")]),t._v("   \n          "),a("span",[t._v("Lưu và gửi công văn")]),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1):t._e(),t.activeAddGroup||"NEW_GROUP_CV"!==t.formCode&&"NEW_GROUP_CV_DI"!==t.formCode?t._e():a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-1"},on:{click:function(e){return t.tiepNhanHoSoCongVan()}}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"20"}},[t._v("save")]),t._v("   \n          "),a("span",[t._v("Tiếp nhận hồ sơ")]),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1),t.activeAddGroup||"NEW_GROUP"!==t.formCode?t._e():a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-1"},on:{click:function(e){return t.tiepNhanHoSo()}}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"20"}},[t._v("save")]),t._v("   \n          "),a("span",[t._v("Tiếp nhận hồ sơ")]),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1),"NEW_GROUP_CV_DI"===t.formCode&&t.createFileCongVan?a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-3"}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction},on:{click:t.printCongVan}},[a(h["a"],{attrs:{size:"20"}},[t._v("printer")]),t._v("  \n          "),a("span",{staticStyle:{"margin-left":"-30px"}},[t._v("In công văn")]),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1):t._e(),t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&!t.metaDataGroupDossier.congvandagui||t.activeDeleteCongVan?a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-4"},on:{click:function(e){return t.deleteCongVan()}}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"20"}},[t._v("clear")]),t._v("   \n          "),a("span",[t._v("Xóa công văn")]),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1):t._e(),a(_["a"],{staticClass:"px-0 py-0",attrs:{href:"#tab-5"},on:{click:t.goBack}},[a(i["a"],{attrs:{flat:"",loading:t.loadingAction,disabled:t.loadingAction}},[a(h["a"],{attrs:{size:"18"}},[t._v("reply")]),t._v("  \n          Quay lại\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1)],1):t._e()],1),a(c["a"],{attrs:{"max-width":"700",transition:"fade-transition"},model:{value:t.dialogImportDosier,callback:function(e){t.dialogImportDosier=e},expression:"dialogImportDosier"}},[a(o["a"],[a(x["a"],{attrs:{flat:"",dark:"",color:"primary"}},[a(T["b"],[t._v("Import hồ sơ")]),a(v["a"]),a(i["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogImportDosier=!1}}},[a(h["a"],[t._v("close")])],1)],1),a(n["b"],{staticClass:"pt-0 pb-0 px-0"},[a(p["a"],{staticClass:"text-xs-center"},[a(m["a"],{staticClass:"my-2",attrs:{rotate:-90,size:70,width:10,value:t.valueProgress,color:"primary"}},[a("span",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[t._v(t._s(t.countDossierProgress))])]),a("div",{staticClass:"pb-0",staticStyle:{margin:"0 auto"}},[a(o["a"],{staticClass:"py-0"},[a("span",{staticStyle:{color:"green"}},[t._v("Thành công: "+t._s(t.countDossierSuccess)+" hồ sơ")]),a("p",{staticStyle:{color:"red"}},[t._v("Lỗi: "+t._s(t.dossierError.length)+" hồ sơ")])])],1)],1),t.dossierError.length&&!t.loadingImportDossier?a("div",{staticClass:"px-2",staticStyle:{margin:"0 auto"}},[a("span",{staticStyle:{"font-size":"1.2em","font-weight":"bold"}},[t._v("Danh sách hồ sơ bị lỗi:")]),a(r["a"],{staticClass:"table-landing table-bordered mt-2",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.headers,items:t.dossierError,"hide-actions":"","item-key":"dossierId"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{staticStyle:{cursor:"pointer"}},[a("td",{staticClass:"text-xs-center",attrs:{width:""}},[a("span",[t._v(t._s(e.index+1))])]),a("td",{staticClass:"text-xs-left",attrs:{width:""}},[t._v("\n                  "+t._s(e.item.applicantName)+"\n                ")]),a("td",{staticClass:"text-xs-left"},[t._v("\n                  "+t._s(e.item.applicantIdNo)+"\n                ")]),a("td",{staticClass:"text-xs-left",attrs:{width:""}},[t._v("\n                  "+t._s(e.item.address)+"\n                ")])])]}}],null,!1,497169179)})],1):t._e()],1),a(n["a"],[a(v["a"]),t.dossierError.length?a(i["a"],{attrs:{color:"primary",loading:t.loadingImportDossier,disabled:t.loadingImportDossier},nativeOn:{click:function(e){return t.addDossierAgain()}}},[a(h["a"],[t._v("send")]),t._v(" \n            Thực hiện lại\n            "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1):t._e(),a(i["a"],{staticStyle:{color:"#fff"},attrs:{color:"red",loading:t.loadingImportDossier,disabled:t.loadingImportDossier},nativeOn:{click:function(e){t.dialogImportDosier=!1}}},[a(h["a"],[t._v("reply")]),t._v(" \n          Quay lại\n          "),a("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1)],1)],1),a(c["a"],{attrs:{"max-width":"1000",transition:"fade-transition"},model:{value:t.dialogSelectDosier,callback:function(e){t.dialogSelectDosier=e},expression:"dialogSelectDosier"}},[a(o["a"],{attrs:{flat:""}},[a(x["a"],{attrs:{flat:"",dark:"",color:"primary"}},[a(T["b"],[t._v("Chọn hồ sơ đính kèm tài liệu")]),a(v["a"]),a(i["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelAddFile.apply(null,arguments)}}},[a(h["a"],[t._v("close")])],1)],1),a(n["b"],{staticClass:"pt-0 pb-0 px-0"},[t.dossiersIntoGroupRender.length>0?a("div",{staticClass:"mb-3"},[a(g["a"],{staticClass:"my-2",attrs:{wrap:""}},[a(p["a"],{staticStyle:{width:"120px"}},[a(y["a"],{staticClass:"pl-0 text-header"},[t._v("Bước xử lý: ")])],1),a(p["a"],{staticClass:"pr-3",staticStyle:{width:"calc(100% - 120px)"}},[a(f["a"],{attrs:{items:t.stepList,"item-text":"stepName","item-value":"stepCode","return-object":"",clearable:""},on:{change:t.changeStep},model:{value:t.stepSelected,callback:function(e){t.stepSelected=e},expression:"stepSelected"}})],1)],1),a(r["a"],{staticClass:"table-landing table-bordered",attrs:{"select-all":"",headers:t.headers,items:t.dossiersIntoGroupRender,pagination:t.pagination,"hide-actions":"","item-key":"dossierId"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",[a("th",{staticClass:"v_data_table_check_all",staticStyle:{"padding-left":"14px !important"},attrs:{width:"32px"}},[a(s["a"],{attrs:{"input-value":e.all,indeterminate:e.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(e){return t.toggleAllSelectDialog.apply(null,arguments)}}})],1),t._l(t.headers,(function(e){return a("th",{key:e.text,class:e["class"]?e["class"]:"",attrs:{width:e["width"]?e["width"]+"px":""}},[a(b["a"],{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(e.text))]),a("span",[t._v(t._s(e.text))])])],1)}))],2)]}},{key:"items",fn:function(e){return[a("tr",{staticStyle:{cursor:"pointer"}},[a("td",{staticClass:"text-xs-center pl-3",staticStyle:{height:"40px !important"},attrs:{width:"32px"}},[a(s["a"],{attrs:{primary:"","hide-details":""},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"props.selected"}})],1),a("td",{staticClass:"text-xs-center",staticStyle:{height:"40px !important"},attrs:{width:"50px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[a("span",[t._v(t._s(t.pagination.page*t.pagination.rowsPerPage-t.pagination.rowsPerPage+e.index+1))])]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"150px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[t._v("\n                  "+t._s(e.item.applicantName)+"\n                ")]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[t._v("\n                  "+t._s(e.item.applicantName)+"\n                ")]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"200px"},on:{click:function(a){return t.viewDetail(e.item,e.index)}}},[t._v("\n                  "+t._s(e.item.dossierSubStatusText?e.item.dossierSubStatusText:e.item.dossierStatusText)+"\n                ")])])]}}],null,!1,3528426232),model:{value:t.selectedAttach,callback:function(e){t.selectedAttach=e},expression:"selectedAttach"}}),t.dossiersIntoGroupRender.length>30?a("div",{staticClass:"text-xs-center layout wrap mt-2 pr-1",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table px-2"},[a("tiny-pagination",{attrs:{total:t.dossiersIntoGroupRender.length,currentLimit:30,page:t.pagination.page,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.paggingData}})],1)]):t._e()],1):t._e()]),a(n["a"],[a(v["a"]),a(i["a"],{attrs:{color:"primary"},nativeOn:{click:function(e){return t.addFileToDossier()}}},[a(h["a"],[t._v("send")]),t._v(" \n          Xác nhận\n        ")],1),a(i["a"],{staticStyle:{color:"#fff"},attrs:{color:"red"},nativeOn:{click:function(e){return t.cancelAddFile.apply(null,arguments)}}},[a(h["a"],[t._v("close")]),t._v(" \n          Bỏ qua\n        ")],1)],1)],1)],1),a(c["a"],{attrs:{"max-width":"1300",transition:"fade-transition"},model:{value:t.dialogAddDossier,callback:function(e){t.dialogAddDossier=e},expression:"dialogAddDossier"}},[a(o["a"],{attrs:{flat:""}},[a(x["a"],{attrs:{flat:"",dark:"",color:"primary"}},[a(T["b"],[t._v("Chọn hồ sơ")]),a(v["a"]),a(i["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogAddDossier=!1}}},[a(h["a"],[t._v("close")])],1)],1),a(n["b"],{staticClass:"pt-0 pb-0 px-0"},[a("div",{staticClass:"mb-3"},[a(g["a"],{staticClass:"my-2",attrs:{wrap:""}},[a(p["a"],{staticClass:"px-2 mt-3"},[a(C["a"],{attrs:{label:"Tìm kiếm theo mã hồ sơ","append-icon":"search",box:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchKeyWordDossierToAdd.apply(null,arguments)},"click:append":t.searchKeyWordDossierToAdd},model:{value:t.dossierNoKey,callback:function(e){t.dossierNoKey=e},expression:"dossierNoKey"}})],1)],1),a(r["a"],{staticClass:"table-landing table-bordered",attrs:{headers:t.headersCV,items:t.dossiersSelectAdd,"select-all":!0,"hide-actions":"","item-key":"dossierId"},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",[a("th",{staticClass:"v_data_table_check_all",staticStyle:{"padding-left":"14px !important"},attrs:{width:"32px"}},[a(s["a"],{staticClass:"pl-1",attrs:{"input-value":e.all,indeterminate:e.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(e){return t.toggleAllSelectDossierAdd.apply(null,arguments)}}})],1),t._l(t.headersCV,(function(e){return a("th",{key:e.text,class:e["class"]?e["class"]:"",attrs:{width:e["width"]?e["width"]+"px":""}},[a(b["a"],{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(e.text))]),a("span",[t._v(t._s(e.text))])])],1)}))],2)]}},{key:"items",fn:function(e){return[a("tr",{staticStyle:{cursor:"pointer"}},[a("td",{staticClass:"text-xs-center",staticStyle:{height:"40px !important"},attrs:{width:"30px"}},[a(s["a"],{staticClass:"pl-3",attrs:{primary:"","hide-details":"",color:"primary"},on:{change:t.changeSelectedDossierAdd},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"props.selected"}})],1),a("td",{staticClass:"text-xs-center",staticStyle:{height:"40px !important"},attrs:{width:"50px"}},[a("span",[t._v(t._s(t.hosoDatasPage*t.numberPerPageAddDossier-t.numberPerPageAddDossier+e.index+1))])]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"150px"}},[t._v("\n                  "+t._s(e.item.dossierNo)+"\n                ")]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"150px"}},[t._v("\n                  "+t._s(e.item.applicantName)+"\n                ")]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"100px"}},[t.getMetaData(e.item)&&t.getMetaData(e.item).hasOwnProperty("birthDateDay")&&t.getMetaData(e.item).hasOwnProperty("birthDateMonth")&&t.getMetaData(e.item).hasOwnProperty("birthDateYear")?a("span",[t._v(t._s(t.getMetaData(e.item).birthDateDay)+"/")]):t._e(),e.item&&t.getMetaData(e.item)&&t.getMetaData(e.item).hasOwnProperty("birthDateMonth")&&t.getMetaData(e.item).hasOwnProperty("birthDateYear")?a("span",[t._v(t._s(t.getMetaData(e.item).birthDateMonth)+"/")]):t._e(),e.item&&t.getMetaData(e.item)&&t.getMetaData(e.item).hasOwnProperty("birthDateYear")?a("span",[t._v(t._s(t.getMetaData(e.item).birthDateYear)+" ")]):t._e()]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"}},[e.item.address?a("span",[t._v(t._s(e.item.address)+", ")]):t._e(),e.item.wardName?a("span",[t._v(t._s(e.item.wardName)+", ")]):t._e(),e.item.districtName?a("span",[t._v(t._s(e.item.districtName)+", ")]):t._e(),e.item.cityName?a("span",[t._v(t._s(e.item.cityName)+" ")]):t._e()]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"100px"}},[e.item.metaData&&t.getMetaData(e.item)&&t.getMetaData(e.item).yearPayment?a("span",[t._v(t._s(t.getMetaData(e.item).yearPayment)+" ")]):t._e()]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"100px"}},[e.item.metaData&&t.getMetaData(e.item)&&t.getMetaData(e.item).subsidy?a("span",[t._v(t._s(t.currency(t.getMetaData(e.item).subsidy))+" ")]):t._e()]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"100px"}},[e.item.dossierStatusText?a("span",[t._v(t._s(e.item.dossierStatusText)+" ")]):t._e()]),a("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"100px"}},[e.item.applicantNote?a("span",[t._v(t._s(e.item.applicantNote)+" ")]):t._e()]),a("td",{staticClass:"text-xs-center",staticStyle:{height:"40px !important"},attrs:{width:"100px"}},[a(i["a"],{staticClass:"mr-2 my-0",attrs:{disabled:t.loadingAction,small:"",outline:"",color:"primary"},on:{click:function(a){return t.addDossierToGroup(e.item)}}},[a(h["a"],{attrs:{size:"20"}},[t._v("add")]),t._v("   \n                    "),a("span",[t._v("Thêm hồ sơ")])],1)],1)])]}}]),model:{value:t.selectedDossierAdd,callback:function(e){t.selectedDossierAdd=e},expression:"selectedDossierAdd"}}),a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[a("div",{staticClass:"flex pagging-table px-2"},[a("tiny-pagination",{attrs:{total:t.hosoDatasTotal,page:t.hosoDatasPage,numberPerPage:t.numberPerPageAddDossier,showLimit:!1,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.paggingDataDossierAdd}})],1)])],1)]),a(n["a"],[a(v["a"]),a(i["a"],{attrs:{disabled:t.loadingAction,color:"primary"},nativeOn:{click:function(e){return t.addMultipleDossierToGroup()}}},[a(h["a"],[t._v("send")]),t._v(" \n          Xác nhận\n        ")],1),a(i["a"],{attrs:{disabled:t.loadingAction,color:"primary"},nativeOn:{click:function(e){t.dialogAddDossier=!1}}},[a(h["a"],{staticClass:"white--text"},[t._v("close")]),t._v(" \n          Thoát\n        ")],1)],1)],1)],1),a(c["a"],{staticStyle:{overflow:"hidden"},attrs:{"max-width":"1000",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[a(o["a"],[a(x["a"],{attrs:{dark:"",color:"primary"}},[a(T["b"],[a("span",[t._v("In công văn")])]),a(v["a"]),a(i["a"],{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[a(h["a"],[t._v("close")])],1)],1),a("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPdfFile",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},P=[],w=a("854a"),I=a.n(w),A=a("1157"),G=a.n(A),k=(a("bc3a"),a("826a")),O=a("5491"),E=a("c199"),M=a("f374"),$=a("a9a9"),F=a("e722");function V(t,e){return U(t)||q(t,e)||H(t,e)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(t,e){if(t){if("string"===typeof t)return R(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?R(t,e):void 0}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function q(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i,o,n,s,r=[],c=!0,l=!1;try{if(n=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;c=!1}else for(;!(c=(i=n.call(a)).done)&&(r.push(i.value),r.length!==e);c=!0);}catch(d){l=!0,o=d}finally{try{if(!c&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(l)throw o}}return r}}function U(t){if(Array.isArray(t))return t}I.a.options={closeButton:!0,timeOut:"5000"};var W={props:["index","id","formCode"],components:{"thong-tin-chu-ho-so":k["a"],"thanh-phan-ho-so":O["a"],"thanh-phan-ho-so-1":O["a"],"thanh-phan-ho-so-2":O["a"],"thong-tin-chung":E["a"],"thu-phi":M["a"],"dich-vu-chuyen-phat-ket-qua":$["a"],"tiny-pagination":F["a"]},data:function(){return{valid_tenHoSo:!1,detailGroup:!1,dialogImportDosier:!1,dialogSelectDosier:!1,dialogAddDossier:!1,dossiersSelectAdd:[],selectedDossierAdd:[],selectMultiplePage:[],selectedDoAction:[],groupDossierList:[],groupDossierSelected:"",dossierNoKey:"",hosoDatasPage:1,hosoDatasTotal:0,hosoTotalPage:0,numberPerPageAddDossier:5,dossiersIntoGroup:[],dossiersIntoGroupRender:[],dossiersIntoGroupRenderTemp:[],selected:[],selectedAttach:[],stepList:[],stepSelected:"",btnDynamics:[],processOptionSelected:"",thongTinNhomHoSo:"",validTNHS:!1,groupDossierNameCreate:"",currentDossierIntoGroup:"",dossierId:"",mark:!0,stateEditSample:!1,tiepNhanState:!1,activeAddGroup:!1,thongTinChiTietHoSo:{},payments:{},paymentProfile:{},briefNote:"",receiveDateEdit:"",editableDate:!1,dueDateEdit:"",viaPortalDetail:0,showThuPhi:!1,inputTypes:[6],outputTypesGroup:[7],inputTypesIntoGroup:[1,3,6],outputTypes:[2],sampleCount:0,isMobile:!1,loadingAction:!1,dialogAddGroup:!1,activeAddDossierIntoGroup:!1,headersCV:[{text:"STT",align:"center",sortable:!1,class:"text-xs-center"},{text:"Mã hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Họ và tên",align:"center",sortable:!1,class:"text-xs-center"},{text:"Năm sinh",align:"center",sortable:!1,class:"text-xs-center"},{text:"Nơi đăng ký HKTT",align:"center",sortable:!1,class:"text-xs-center"},{text:"Số tháng được hưởng",align:"center",sortable:!1,class:"text-xs-center"},{text:"Mức trợ cấp (đồng/tháng)",align:"center",sortable:!1,class:"text-xs-center"},{text:"Trạng thái",align:"center",sortable:!1,class:"text-xs-center"},{text:"Ghi chú",align:"center",sortable:!1,class:"text-xs-center"},{text:"Thao tác",align:"center",sortable:!1,class:"text-xs-center"}],headers:[{text:"STT",align:"center",sortable:!1,class:"text-xs-center"},{text:"Mã hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Tên chủ hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Trạng thái",align:"center",sortable:!1,class:"text-xs-center"}],filesGroupDossier:[],countDossierProgress:0,listDossierImport:[],progressUploadFile:!1,loadingImportDossier:!1,dossierError:[],dossierSuccess:[],totalDossier:0,valueProgress:0,countDossierSuccess:0,dossierNameCongVan:"",pagination:{rowsPerPage:15,page:1},tphsCV:"",totalFee:0,dossiersCounterIntoGroupFilter:0,hoSoDaXuLy:[],hoSoDaXuLyList:"",addFormNewInGroup:"",metaDataGroupDossier:"",createFileCongVan:"",postStepCodeCongVan:"",donvinhanCollection:"",requiredCVDenGroupId:"",requiredCVDenGovCode:"",hasTaoQuyetDinh:!1,dialogPDF:!1,congvanguiden:!1,mauCongVan:!1,activeDeleteCongVan:!1,mauGiayPhep:"KQGP",mappingValidateGP:"",rules:{required:function(t){return!!t||"Thông tin bắt buộc"},email:function(t){t=t.trim();var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Địa chỉ Email không hợp lệ"},passWord:function(t){var e=/^(?![0-9]{6,})[0-9a-zA-Z]{6,}$/;return e.test(t)||"Gồm các ký tự 0-9, a-z và ít nhất 6 ký tự"},telNo:function(t){var e=/^([0-9]{0,})$/;return"string"===typeof t&&(t=t.trim()),e.test(t)||"Gồm các ký tự 0-9"},varchar100:function(t){return!t||(t=String(t).trim(),t.length<=100||"Không được nhập quá 100 ký tự")},varchar255:function(t){return!t||(t=String(t).trim(),t.length<=255||"Không được nhập quá 255 ký tự")},varchar500:function(t){return!t||(t=String(t).trim(),t.length<=500||"Không được nhập quá 500 ký tự")},varchar5000:function(t){return!t||(t=String(t).trim(),t.length<=5e3||"Không được nhập quá 5000 ký tự")}}}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()},dichVuChuyenPhatKetQua:function(){return this.$store.getters.dichVuChuyenPhatKetQua},thongTinChuHoSo:function(){return this.$store.getters.thongTinChuHoSo},filesAdd:function(){return this.$store.getters.getFilesAdd},activeAddFileGroup:function(){return this.$store.getters.activeAddFileGroup},menuConfigs:function(){return this.$store.getters.getMenuConfigsTodo}},created:function(){var t=this;t.$nextTick((function(){t.$router.history.current.query;var e=t.id;t.menuConfigs&&t.menuConfigs.length>0&&(t.addFormNewInGroup=t.menuConfigs[t.index]["tableConfig"].hasOwnProperty("addFormNewInGroup")?t.menuConfigs[t.index]["tableConfig"]["addFormNewInGroup"]:""),e&&t.getDetaiGroup(e)}))},beforeDestroy:function(){var t=G()('meta[name="viewport"]');t.attr("content","initial-scale=1.0, width=device-width"),"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize,{passive:!0})},mounted:function(){var t=this;t.thongTinNhomHoSo&&"NEW_GROUP"===t.formCode&&("NEW_GROUP"===t.formCode&&t.$refs.thongtinnguoinophoso.initData(t.thongTinNhomHoSo),t.$refs.thanhphanhoso1.initData(t.thongTinNhomHoSo),t.$refs.thanhphanhoso2.initData(t.thongTinNhomHoSo),t.filesGroupDossier=t.$refs.thanhphanhoso1.getFilesGroupDossier())},watch:{isMobile:function(t){var e=G()('meta[name="viewport"]');t?e.attr("content",""):e.attr("content","initial-scale=1.0, width=device-width")},$route:function(t,e){var a=this,i=(t.query,a.id);a.addFormNewInGroup=a.menuConfigs[a.index]["tableConfig"].hasOwnProperty("addFormNewInGroup")?a.menuConfigs[a.index]["tableConfig"]["addFormNewInGroup"]:"",i&&a.getDetaiGroup(i)},dossiersIntoGroupRender:function(t){var e=this,a=0;if(e.dossiersCounterIntoGroupFilter=t.length,"NEW_GROUP_CV_DI"===e.formCode&&e.metaDataGroupDossier.hasOwnProperty("congvandagui")&&!e.metaDataGroupDossier.congvandagui&&(e.dossiersCounterIntoGroupFilter=t.filter((function(t){return String(t.stepCode)===String(e.metaDataGroupDossier.stepcode)})).length,e.hoSoDaXuLy=e.dossiersIntoGroupRender.filter((function(t){return String(t.stepCode)!==String(e.metaDataGroupDossier.stepcode)})),e.hoSoDaXuLy.length>0&&(e.hoSoDaXuLyList=e.hoSoDaXuLy.map((function(t){return t.dossierNo})).toString())),t&&t.length>0){for(var i=0;i<t.length;i++)if("NEW_GROUP_CV_DI"===e.formCode&&e.metaDataGroupDossier.hasOwnProperty("congvandagui")&&!e.metaDataGroupDossier.congvandagui){if(String(t[i].stepCode)===String(e.metaDataGroupDossier.stepcode)){var o=e.getMetaData(t[i]),n=0;if(o){var s=!(!o.hasOwnProperty("trocapmotlan")||!o["trocapmotlan"]);n=s?Number(o["subsidy"]):Number(o["yearPayment"])*Number(o["subsidy"]),a+=n}}}else{var r=e.getMetaData(t[i]),c=0;if(r){var l=!(!r.hasOwnProperty("trocapmotlan")||!r["trocapmotlan"]);c=l?Number(r["subsidy"]):Number(r["yearPayment"])*Number(r["subsidy"]),a+=c}}e.dossiersIntoGroupRenderTemp=t.slice(0,e.pagination.rowsPerPage),e.totalFee=a}else e.dossiersIntoGroupRenderTemp=[],e.totalFee=0},thongTinNhomHoSo:function(t){var e=this;if(t&&("NEW_GROUP"===e.formCode&&("NEW_GROUP"===e.formCode&&e.$refs.thongtinnguoinophoso.initData(t),e.$refs.thanhphanhoso1.initData(t),e.$refs.thanhphanhoso2.initData(t),e.$store.dispatch("loadDossierFiles",t.dossierId).then((function(t){e.filesGroupDossier=t})).catch((function(t){}))),"NEW_GROUP_CV"===e.formCode||"NEW_GROUP_CV_DI"===e.formCode)){e.$refs.thongtincongvan.initData(t);t.dossierTemplateNo;e.$store.dispatch("loadDossierFiles",t.dossierId).then((function(t){e.filesGroupDossier=t})).catch((function(t){}))}},selected:function(t){},activeAddFileGroup:function(t){var e=this;e.stepSelected="",e.dialogSelectDosier=t},selectMultiplePage:{handler:function(t){var e=this;if(t.length>0)for(var a in e.selectedDoAction=[],t)e.selectedDoAction=e.selectedDoAction.concat(t[a]["selected"]);else e.selectedDoAction=[]},deep:!0},menuConfigs:{handler:function(t){var e=this;t.length&&(e.addFormNewInGroup=e.menuConfigs[parseInt(e.index)]["tableConfig"].hasOwnProperty("addFormNewInGroup")?e.menuConfigs[e.index]["tableConfig"]["addFormNewInGroup"]:"")},deep:!0}},methods:{onResize:function(){var t=this,e=window.innerWidth<1024;t.isMobile=e},paggingData:function(t){var e=this;e.pagination.page=t.page;var a=e.pagination.page*e.pagination.rowsPerPage-e.pagination.rowsPerPage,i=e.pagination.page*e.pagination.rowsPerPage;e.dossiersIntoGroupRenderTemp=e.dossiersIntoGroupRender.slice(a,i)},paggingDataDossierAdd:function(t){var e=this;e.hosoDatasPage=t.page,e.searchDossierToAdd()},getGroupDossier:function(){var t=this,e=t.$router.history.current.query,a={service:e.serviceCode?e.serviceCode:"",template:e.template_no?e.template_no:"",agency:e.govAgencyCode?e.govAgencyCode:""};t.$store.dispatch("getGroupDossier",a).then((function(e){t.groupDossierList=e}))},getDetaiGroup:function(t){var e=this;e.$store.dispatch("getDetailDossier",t).then((function(a){e.thongTinNhomHoSo=a,e.activeAddDossierIntoGroup=!1,e.activeAddGroup=!0,e.groupDossierSelected=a,e.metaDataGroupDossier=e.getMetaData(e.thongTinNhomHoSo),e.donvinhanCollection=e.metaDataGroupDossier.hasOwnProperty("donvinhancollection")?e.metaDataGroupDossier.donvinhancollection:"",e.requiredCVDenGroupId=e.metaDataGroupDossier.hasOwnProperty("requiredCVDenGroupId")?e.metaDataGroupDossier.requiredCVDenGroupId:"",e.requiredCVDenGovCode=e.metaDataGroupDossier.hasOwnProperty("requiredCVDenGovCode")?e.metaDataGroupDossier.requiredCVDenGovCode:"",e.hasTaoQuyetDinh=!!e.metaDataGroupDossier.hasOwnProperty("taoQuyetDinh")&&e.metaDataGroupDossier.taoQuyetDinh;var i={groupDossierId:t};e.dossiersIntoGroup=[],e.dossiersIntoGroupRender=[],e.$store.dispatch("getDossiersIntoGroup",i).then((function(t){if(e.dossiersIntoGroup=t,(e.metaDataGroupDossier.hasOwnProperty("congvandagui")&&e.metaDataGroupDossier.congvandagui||!e.metaDataGroupDossier.hasOwnProperty("congvandagui"))&&(e.activeDeleteCongVan=0===e.dossiersIntoGroup.length),e.$store.commit("setSelectDossierGroup",e.dossiersIntoGroup),e.dossiersIntoGroup.length>0){var a=[],i=function(t){0===a.filter((function(a){return String(a["stepCode"])===String(e.dossiersIntoGroup[t]["stepCode"])})).length&&a.push({stepCode:e.dossiersIntoGroup[t]["stepCode"],stepName:e.dossiersIntoGroup[t]["stepName"]})};for(var o in e.dossiersIntoGroup)i(o);e.stepList=a}e.dossiersIntoGroupRender=e.dossiersIntoGroup}));var o={dossierTemplateNo:e.thongTinNhomHoSo.dossierTemplateNo};e.$store.dispatch("loadDossierFormTemplates",o).then((function(t){e.tphsCV=t["dossierParts"],e.getDetailActionCongVan(),e.mauCongVan=!(!t["newFormScript"]||!t["newFormScript"].startsWith("MAU_CV_"))&&t["newFormScript"]}))}))},changeStep:function(){var t=this;setTimeout((function(){t.stepSelected?(t.dossiersIntoGroupRender=t.dossiersIntoGroup.filter((function(e){return String(e["stepCode"])===String(t.stepSelected["stepCode"])})),t.$store.dispatch("pullProcessSteps",t.stepSelected).then((function(e){e.hasOwnProperty("menuGroup")&&e.menuGroup?t.$store.dispatch("getDetailMenuConfig",e).then((function(e){if(e.hasOwnProperty("buttonConfig")&&e.buttonConfig)try{t.btnDynamics=JSON.parse(e["buttonConfig"])["buttons"],t.btnDynamics=t.btnDynamics.filter((function(t){return"ACTIONS"===t["form"]})),t.btnDynamics=t.btnDynamics.filter((function(e){return!e.hasOwnProperty("onlySteps")||e.hasOwnProperty("onlySteps")&&e["onlySteps"].filter((function(e){return String(e)===String(t.stepSelected["stepCode"])})).length>=0}))}catch(a){t.btnDynamics=[]}else t.btnDynamics=[]})):t.btnDynamics=[]}))):(t.dossiersIntoGroupRender=t.dossiersIntoGroup,t.btnDynamics=[])}),200)},btnActionEvent:function(t,e){var a=this;a.selected&&0!==a.selected.length?a.$store.dispatch("loadActionActive",t).then((function(){a.$store.dispatch("loadDossierSelected",a.selected).then((function(){var e=a.selected.map((function(t){return t.dossierId})).join(","),i=a.$router.history.current.query;i["dossiers"]=e,i["actionActive"]=JSON.stringify(t),a.$router.push({path:"/danh-sach-ho-so/0/xu-ly-ho-so",query:i})}))})):I.a.error("Chọn hồ sơ để thực hiện")},showDossierToAdd:function(){var t=this;t.hosoDatasPage=1,t.dossierNoKey="",t.selectMultiplePage=[],t.searchDossierToAdd(),t.dialogAddDossier=!0},putGroupDossier:function(t){var e=this,a=e.$router.history.current.params;e.$router.history.current.query;if("NEW_GROUP"===e.formCode){var i=this.$refs.thongtinnguoinophoso?this.$refs.thongtinnguoinophoso.thongTinNguoiNopHoSo:{},o=e.$refs.thongtinnguoinophoso.showValid();if(o["validForm"]){var n=!1;if(o["validApplicant"])n=!0;else{var s=confirm(o["message"]+" Bạn có muốn tiếp tục?");s&&(n=!0)}if(n){var r=Object.assign(e.thongTinNhomHoSo,i);r["dossierId"]=e.thongTinNhomHoSo.dossierId,r["originality"]=e.thongTinNhomHoSo.originality,r["dossierName"]=e.thongTinNhomHoSo.dossierName,setTimeout((function(){e.$store.dispatch("putDossier",r).then((function(t){I.a.clear(),I.a.success("Cập nhật thành công")})).catch((function(t){I.a.clear(),I.a.error("Yêu cầu của bạn thực hiện thất bại.")}))}),500)}}}if("NEW_GROUP_CV"===e.formCode||"NEW_GROUP_CV_DI"===e.formCode){var c=this.$refs.thongtincongvan.getThongTinCongVan(),l=c;l.dueDate=e.dateTimeView(c.dueDate);var d=!0;if("NEW_GROUP_CV"===e.formCode&&(d=c.validation),d="NEW_GROUP_CV_DI"===e.formCode&&"save"===t||c.validation,"NEW_GROUP_CV_DI"===e.formCode&&"saveSend"===t&&e.hoSoDaXuLy.length>0)return void alert("Vui lòng xóa hồ sơ đã xử lý trước khi gửi công văn");d?(e.loadingAction=!0,e.$store.dispatch("putDossierCongVan",l).then((function(i){var o;if("NEW_GROUP_CV"===e.formCode)o=c.metaData;else{var n=e.currentcyToString(String(e.totalFee));if("save"===t){var s={congvandagui:!1,donvinhan:"",tendonvinhan:"",donvinhandraf:c.metaData.donvinhan,tendonvinhandraf:c.metaData.tendonvinhan,totalSubsidy:e.totalFee,totalSubsidyText:n};o=Object.assign(c.metaData,s)}else o=Object.assign(c.metaData,{congvandagui:!0,totalSubsidy:e.totalFee,totalSubsidyText:n})}var r={id:c.dossierId,data:JSON.stringify(o)};"NEW_GROUP_CV"===e.formCode?e.$store.dispatch("putMetaData",r).then((function(){e.loadingAction=!1,e.$router.push({path:"/danh-sach-ho-so/"+a.index+"?"+window.location.href.split("?")[1]})})).catch((function(){e.loadingAction=!1,I.a.clear(),I.a.error("Yêu cầu của bạn thực hiện thất bại")})):e.$store.dispatch("putMetaData",r).then((function(){var i={groupDossierId:c.dossierId,dossierId:""},o=[];for(var n in e.dossiersIntoGroupRender)o.push(e.dossiersIntoGroupRender[n]["dossierId"]);if(i["dossierId"]=o.toString(),e.createFileCongVan){var s={dossierId:e.thongTinNhomHoSo["dossierId"],partNo:e.createFileCongVan};e.$store.dispatch("loadFormData",s).then((function(o){var n=JSON.parse(o),s=Object.assign(n,{tp:e.createFileCongVan,dossierId:e.thongTinNhomHoSo["dossierId"]});e.$store.dispatch("postEformCallBack",s).then((function(o){"save"===t?e.$store.dispatch("postDossierIntoGroup",i).then((function(t){e.loadingAction=!1,I.a.success("Lưu công văn thành công"),e.$router.push({path:"/danh-sach-ho-so/"+a.index+"?"+window.location.href.split("?")[1]})})).catch((function(){e.loadingAction=!1})):e.processAction()}))})).catch((function(t){}))}else"save"===t?e.$store.dispatch("postDossierIntoGroup",i).then((function(t){e.loadingAction=!1,I.a.success("Lưu công văn thành công"),e.$router.push({path:"/danh-sach-ho-so/"+a.index+"?"+window.location.href.split("?")[1]})})).catch((function(){e.loadingAction=!1})):e.processAction()})).catch((function(t){e.loadingAction=!1,I.a.clear(),I.a.error("Yêu cầu của bạn thực hiện thất bại")}))})).catch((function(t){e.loadingAction=!1,I.a.clear(),I.a.error("Yêu cầu của bạn thực hiện thất bại")}))):(e.loadingAction=!1,I.a.clear(),I.a.error("Vui lòng điền đầy đủ các thông tin bắt buộc"))}},createDossierIntoGroup:function(){var t=this;t.$router.history.current.query;t.activeAddGroup=!1,t.activeAddDossierIntoGroup=!0;var e={serviceCode:t.thongTinNhomHoSo.serviceCode,govAgencyCode:t.thongTinNhomHoSo.govAgencyCode,templateNo:t.thongTinNhomHoSo.dossierTemplateNo,originality:t.originality,groupDossierId:t.thongTinNhomHoSo.dossierId,dossierId:""};t.$store.dispatch("postDossier",e).then((function(a){t.currentDossierIntoGroup=a,e.dossierId=a.dossierId,setTimeout((function(){a["editable"]=!1,"NEW_GROUP_CV"!==t.formCode&&"NEW_GROUP_CV_DI"!==t.formCode||t.$refs.thongtinchuhosocongvan.initData(a),""===a.dossierStatus?t.$store.dispatch("pullNextactions",a).then((function(e){if(e){var i=e.filter((function(t){return 1100===t.actionCode||"1100"===t.actionCode}));t.$store.dispatch("processPullBtnDetail",{dossierId:a.dossierId,actionId:i[0]?i[0].processActionId:""}).then((function(e){a["editable"]=!(!e||!e.receiving)&&e.receiving.editable,a["receivingDuedate"]=e&&e.receiving&&e.receiving.dueDate?e.receiving.dueDate:null,a["receivingDate"]=e&&e.receiving?e.receiving.receiveDate:"",t.editableDate=!(!e||!e.receiving)&&e.receiving.editable,t.dueDateEdit=e&&e.receiving&&e.receiving.dueDate?e.receiving.dueDate:"",t.receiveDateEdit=e&&e.receiving?e.receiving.receiveDate:"",e&&e.payment&&e.payment.requestPayment>0&&(t.showThuPhi=!0,t.payments=e.payment);var i=t.getSearchParams(e["preCondition"],"validateDeliverable");i&&t.getThongTinValidateGp(i)}))}})):t.$refs.thongtinchunghoso&&t.$refs.thongtinchunghoso.initData(a);var e=t.filesGroupDossier.filter((function(t){return 6===t["dossierPartType"]||7===t["dossierPartType"]}));if(e.length>0){var i=e.map((function(t){return t.dossierFileId})).toString(),o={dossierIds:a.dossierId,dossierFileId:i};t.$store.dispatch("uploadFileDossierGroup",o).then((function(e){setTimeout((function(){t.$refs.thanhphanhoso.initData(a)}),300)}))}else t.$refs.thanhphanhoso.initData(a);if(t.viaPortalDetail=a.viaPostal,a.viaPostal>0){var n=a.address?a.address+", "+a.wardName+" - "+a.districtName+" - "+a.cityName:"";"NEW"===t.formCode&&1===t.originality&&(a["postalAddress"]=n,a["postalTelNo"]=t.thongTinChuHoSo["contactTelNo"]),t.$store.commit("setDichVuChuyenPhatKetQua",a)}}),300),t.$store.dispatch("postDossierIntoGroup",e).then((function(t){}))})).catch((function(t){}))},uploadfileDossierImport:function(t){var e=this,a=e.$refs.thanhphanhoso1.dossierTemplateItems;a=a.filter((function(t){return 1===t["partType"]||6===t["partType"]})),e.$store.dispatch("loadDossierFiles",e.thongTinNhomHoSo["dossierId"]).then((function(t){var a=[];for(var i in t)1!==t[i]["dossierPartType"]&&6!==t[i]["dossierPartType"]||a.push(t[i]["dossierFileId"]);e.dossierFiles=a?a.toString():"",e.progressUploadFile=!0;var o={};e.countDossierProgress=0,e.valueProgress=0,e.listDossierImport=[],e.dossierError=[],e.dossierSuccess=[],e.countDossierSuccess=0,o["dossierId"]=e.thongTinNhomHoSo["dossierId"],o["referenceUid"]=e.thongTinNhomHoSo["referenceUid"],o["selector"]="dossierImport",o["partTip"]={tip:"",maxSize:10,extensions:"xlsx,xls"};G()("#dossierImport")[0].files[0];e.$store.dispatch("uploadDossierFileImport",o).then((function(t){if(e.progressUploadFile=!1,e.totalDossier=t.total,t.total){var a=confirm("Bạn có chắc chắn thực hiện hành động này?");a&&(e.dialogImportDosier=!0,e.listDossierImport=t.data,setTimeout((function(){if(e.listDossierImport.length){e.loadingImportDossier=!0;var t=[];e.listDossierImport.forEach((function(a,i){setTimeout((function(){t.push(e.doCreateDossier(a,i)),t.length===e.listDossierImport.length&&Promise.all(t).then((function(t){e.loadingImportDossier=!1;var a={groupDossierId:e.thongTinNhomHoSo.dossierId,dossierId:""},i=[];for(var o in e.dossierSuccess)i.push(e.dossierSuccess[o]["dossierId"]);a["dossierId"]=i.toString(),e.$store.dispatch("postDossierIntoGroup",a).then((function(t){0===e.dossierError.length&&(I.a.success("Import hồ sơ thành công"),e.getDetaiGroup(e.thongTinNhomHoSo.dossierId),e.dialogImportDosier=!1)}))})).catch((function(t){e.loadingImportDossier=!1}))}),1e3*i)}))}}),300))}else e.listDossierImport=[],I.a.error("Dữ liệu bị lỗi, vui lòng kiểm tra lại!")})).catch((function(t){e.dialogImportDosier=!1,e.progressUploadFile=!1,I.a.error("Tải file lỗi, vui lòng thử lại!")}))})).catch((function(t){}))},importIntoGroup:function(){document.getElementById("dossierImport").value="",document.getElementById("dossierImport").click()},addDossierAgain:function(){var t=this;if(t.countDossierProgress=t.dossierSuccess.length,t.valueProgress=100*t.countDossierProgress/t.totalDossier,t.countDossierSuccess=t.dossierSuccess.length,t.dossierError.length){t.loadingImportDossier=!0;var e=[];t.dossierError.forEach((function(a,i){setTimeout((function(){e.push(t.doCreateDossier(a,i)),e.length===t.dossierError.length&&Promise.all(e).then((function(e){t.loadingImportDossier=!1;var a={groupDossierId:t.thongTinNhomHoSo.dossierId,dossierId:""},i=[];for(var o in t.dossierSuccess)i=i.push(t.dossierSuccess[o]["dossierId"]),a["dossierId"]=i.toString();t.$store.dispatch("postDossierIntoGroup",a).then((function(e){0===t.dossierError.length&&(I.a.success("Import hồ sơ thành công"),t.getDetaiGroup(t.thongTinNhomHoSo.dossierId),t.dialogImportDosier=!1)}))})).catch((function(e){t.loadingImportDossier=!1}))}),1e3*i)}))}},doCreateDossier:function(t,e){var a=this;return new Promise((function(i,o){var n=a,s=a.$refs.thanhphanhoso1.dossierTemplateItems,r={},c=t,l="",d="",p=n.$refs.thongtinnguoinophoso;if(r["serviceCode"]=n.thongTinNhomHoSo["serviceCode"],r["govAgencyCode"]=n.thongTinNhomHoSo["govAgencyCode"],r["dossierTemplateNo"]=n.thongTinNhomHoSo["dossierTemplateNo"],r["originality"]=n.originality,s&&s.length){var u=s.map((function(t){return{partNo:t.partNo,partName:t.partName,fileMark:t.fileMark}}));l=JSON.stringify(u)}else l="";if(r["dossierMarks"]=l,p&&p["thongTinNguoiNopHoSo"]){var h=p["thongTinNguoiNopHoSo"];c=Object.assign(c,h)}r["dossiers"]=c?JSON.stringify(c):"",r["dossierFiles"]=n.dossierFiles?n.dossierFiles:"",r["payment"]=d?JSON.stringify(d):"",n.$store.dispatch("importDossier",r).then((function(t){n.countDossierProgress++,n.valueProgress+=100/n.totalDossier,n.listDossierImport[e]["dossierId"]=t["dossierId"],n.listDossierImport[e]["flagError"]=!1,n.countDossierSuccess<n.listDossierImport.length&&n.countDossierSuccess++,n.calDossierErrorSuccess(),i(!0)})).catch((function(t){n.countDossierProgress++,n.valueProgress+=100/n.totalDossier,n.listDossierImport[e]["flagError"]=!0,n.calDossierErrorSuccess(),o(t)}))}))},calDossierErrorSuccess:function(){var t=this;t.dossierError=t.listDossierImport.filter((function(t){return t["flagError"]})),t.dossierSuccess=t.listDossierImport.filter((function(t){return!t.hasOwnProperty("flagError")||!t["flagError"]}))},tiepNhanHoSo:function(t){var e=this;e.$store.commit("setPrintPH",!1);var a=this.$refs.thongtinchuhoso.getThongTinChuHoSo(),i=this.$refs.thongtinchuhoso.getThongTinNguoiNopHoSo(),o=(this.$refs.thanhphanhoso.dossierTemplateItems,e.dichVuChuyenPhatKetQua),n=e.$refs.thongtinchuhoso.showValid();if(n["validForm"]){var s=!0;if(s){if(e.loadingAction=!0,!e.$refs.thanhphanhoso.validDossierTemplate())return void(e.loadingAction=!1);if(2===o.viaPostal&&!e.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat())return void(e.loadingAction=!1);var r=e.$refs.thanhphanhoso.dossierFilesItems,c=[];r&&r.forEach((function(t,a){t.eForm&&(t["dossierId"]=e.dossierId,c.push(e.$store.dispatch("putAlpacaForm",t)))})),i={sameUser:!1,delegateName:e.thongTinNhomHoSo["delegateName"],delegateCityCode:e.thongTinNhomHoSo["delegateCityCode"],delegateAddress:e.thongTinNhomHoSo["delegateAddress"],delegateDistrictCode:e.thongTinNhomHoSo["delegateDistrictCode"],delegateWardCode:e.thongTinNhomHoSo["delegateWardCode"],delegateEmail:e.thongTinNhomHoSo["delegateEmail"],delegateTelNo:e.thongTinNhomHoSo["delegateTelNo"],delegateIdNo:e.thongTinNhomHoSo["delegateIdNo"]};var l=Object.assign(a,i,o);l["dossierId"]=e.currentDossierIntoGroup.dossierId,l["sampleCount"]=e.currentDossierIntoGroup.sampleCount,l["originality"]=e.originality,e.$store.dispatch("putDossier",l).then((function(a){if(e.loadingAction=!1,"UPDATE"===e.formCode)e.goBack();else{var i=e.$store.getters.loadingInitData,o=i.user.userName?i.user.userName:"",n={};e.showThuPhi&&(n={requestPayment:e.payments["requestPayment"],paymentNote:e.payments["paymentNote"],advanceAmount:Number(e.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(e.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(e.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(e.payments["shipAmount"].toString().replace(/\./g,""))});var s={dueDate:e.editableDate&&l.dueDate?l.dueDate:e.dueDateEdit,receiveDate:e.receiveDateEdit},r={dossierId:e.currentDossierIntoGroup.dossierId,actionCode:1100,actionNote:"",actionUser:o,payload:s,security:"",assignUsers:"",payment:n,createDossiers:""};e.loadingAction=!0,e.$store.dispatch("postAction",r).then((function(a){e.loadingAction=!1,t?e.createDossierIntoGroup():(I.a.success("Thêm hồ sơ vào nhóm thành công"),e.getDetaiGroup(e.id),e.activeAddDossierIntoGroup=!1)})).catch((function(t){e.loadingAction=!1}))}})).catch((function(t){e.loadingAction=!1,I.a.clear(),I.a.error("Yêu cầu của bạn thực hiện thất bại.")}))}}},tiepNhanHoSoCongVan:function(t){var e=this,a=this.$refs.thongtinchuhosocongvan.getThongTinChuHoSo(),i=(this.$refs.thanhphanhoso.dossierTemplateItems,e.dichVuChuyenPhatKetQua),o=!0;if(o&&a.validation&&e.$refs.formTenHoSo.validate()){if(e.loadingAction=!0,!e.$refs.thanhphanhoso.validDossierTemplate())return void(e.loadingAction=!1);if(2===i.viaPostal&&!e.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat())return void(e.loadingAction=!1);var n=e.$refs.thanhphanhoso.dossierFilesItems,s=[];n&&n.forEach((function(t,a){t.eForm&&(t["dossierId"]=e.dossierId,s.push(e.$store.dispatch("putAlpacaForm",t)))}));var r=Object.assign(a,i);r["dossierId"]=e.currentDossierIntoGroup.dossierId,r["sampleCount"]=e.currentDossierIntoGroup.sampleCount,r["originality"]=e.originality,r["userType"]="1";var c=function(){e.$store.dispatch("putDossier",r).then((function(a){if(e.loadingAction=!1,"UPDATE"===e.formCode)e.goBack();else{var i=e.$store.getters.loadingInitData,o=i.user.userName?i.user.userName:"",n={};e.showThuPhi&&(n={requestPayment:e.payments["requestPayment"],paymentNote:e.payments["paymentNote"],advanceAmount:Number(e.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(e.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(e.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(e.payments["shipAmount"].toString().replace(/\./g,""))});var s={dueDate:e.editableDate&&r.dueDate?r.dueDate:e.dueDateEdit,receiveDate:e.receiveDateEdit},c={dossierId:e.currentDossierIntoGroup.dossierId,actionCode:1100,actionNote:"",actionUser:o,payload:s,security:"",assignUsers:"",payment:n,createDossiers:""};e.loadingAction=!0,e.$store.dispatch("postAction",c).then((function(a){e.loadingAction=!1,t?e.createDossierIntoGroup():(I.a.success("Thêm hồ sơ vào nhóm thành công"),e.getDetaiGroup(e.id),e.activeAddDossierIntoGroup=!1)})).catch((function(t){e.loadingAction=!1}))}})).catch((function(t){e.loadingAction=!1,I.a.clear(),I.a.error("Yêu cầu của bạn thực hiện thất bại.")}))};if(e.mappingValidateGP)for(var l in e.mappingValidateGP)e.mappingValidateGP[l]=a[e.mappingValidateGP[l]];var d={formDataKey:e.mappingValidateGP?e.mappingValidateGP:"",deliverableType:e.mauGiayPhep};""===d.formDataKey?c():e.$store.dispatch("checkDaCapPhep",d).then((function(t){var a=!1,i=t.hasOwnProperty("data")?t.data:[];if(i.length>0&&(a=!0),a){var o=confirm("Đối tượng đã cấp phép. Bạn có muốn tiếp tục?");o?c():e.loadingAction=!1}else c()})).catch((function(t){c()}))}else e.loadingAction=!1,I.a.clear(),I.a.error("Dữ liệu không hợp lệ")},changeViapostal:function(t){this.viaPortalDetail=t?2:1},durationText:function(t,e){var a;if(1===t&&e>8){var i,o=Math.floor(e/8)+" ngày";i=e%8!==0?8*(e/8-Math.floor(e/8))+" giờ":"",a="".concat(o," ").concat(i)}else 0===t?a=e+" ngày":1===t&&e<=8&&(a=e+" giờ");return a},viewDetail:function(t,e){var a=this;a.$router.history.current.query;a.$router.push("/danh-sach-ho-so/0/chi-tiet-ho-so/"+t["dossierId"])},editDossierIntoGroup:function(t){var e=this,a=e.$router.history.current.query;a["template_no"]=t.dossierTemplateNo,a["serviceCode"]=t.serviceCode,e.$router.push({path:"/danh-sach-ho-so/0/ho-so/"+t.dossierId+"/UPDATE",query:a})},removeDossierFromGroup:function(t){var e=this,a={dossierId:t.dossierId,groupDossierId:e.thongTinNhomHoSo["dossierId"]},i=confirm("Bạn có muốn thực hiện thao tác này?");i&&e.$store.dispatch("removeDossierFromGroup",a).then((function(t){I.a.success("Yêu cầu thực hiện thành công"),setTimeout((function(){var t={groupDossierId:e.thongTinNhomHoSo["dossierId"]};e.$store.dispatch("getDossiersIntoGroup",t).then((function(t){if(e.dossiersIntoGroup=t,(e.metaDataGroupDossier.hasOwnProperty("congvandagui")&&e.metaDataGroupDossier.congvandagui||!e.metaDataGroupDossier.hasOwnProperty("congvandagui"))&&(e.activeDeleteCongVan=0===e.dossiersIntoGroup.length),e.$store.commit("setSelectDossierGroup",e.dossiersIntoGroup),e.dossiersIntoGroup.length>0){var a=[],i=function(t){0===a.filter((function(a){return String(a["stepCode"])===String(e.dossiersIntoGroup[t]["stepCode"])})).length&&a.push({stepCode:e.dossiersIntoGroup[t]["stepCode"],stepName:e.dossiersIntoGroup[t]["stepName"]}),e.stepList=a};for(var o in e.dossiersIntoGroup)i(o);e.dossiersIntoGroupRender=e.dossiersIntoGroup}e.dossiersIntoGroupRender=e.dossiersIntoGroup})).catch((function(){I.a.error("Yêu cầu thực hiện thất bại")}))}),100)}))},removeAllDossierFromGroup:function(){for(var t=this,e=[],a=0;a<t.hoSoDaXuLy.length;a++)e.push(t.$store.dispatch("removeDossierFromGroup",{dossierId:t.hoSoDaXuLy[a].dossierId,groupDossierId:t.thongTinNhomHoSo["dossierId"]}));t.loadingAction=!0,Promise.all(e).then((function(){t.loadingAction=!1,I.a.success("Yêu cầu thực hiện thành công"),setTimeout((function(){var e={groupDossierId:t.thongTinNhomHoSo["dossierId"]};t.$store.dispatch("getDossiersIntoGroup",e).then((function(e){if(t.dossiersIntoGroup=e,(t.metaDataGroupDossier.hasOwnProperty("congvandagui")&&t.metaDataGroupDossier.congvandagui||!t.metaDataGroupDossier.hasOwnProperty("congvandagui"))&&(t.activeDeleteCongVan=0===t.dossiersIntoGroup.length),t.$store.commit("setSelectDossierGroup",t.dossiersIntoGroup),t.dossiersIntoGroup.length>0){var a=[],i=function(e){0===a.filter((function(a){return String(a["stepCode"])===String(t.dossiersIntoGroup[e]["stepCode"])})).length&&a.push({stepCode:t.dossiersIntoGroup[e]["stepCode"],stepName:t.dossiersIntoGroup[e]["stepName"]}),t.stepList=a};for(var o in t.dossiersIntoGroup)i(o);t.dossiersIntoGroupRender=t.dossiersIntoGroup}t.dossiersIntoGroupRender=t.dossiersIntoGroup})).catch((function(){}))}),100)})).catch((function(){t.loadingAction=!1}))},addFileToDossier:function(){var t=this,e=t.selectedAttach.map((function(t){return t.dossierId})).toString(),a=t.filesAdd.map((function(t){return t.dossierFileId})).toString(),i={dossierIds:e,dossierFileId:a};t.$store.dispatch("uploadFileDossierGroup",i).then((function(t){I.a.success("Đính kèm tài liệu thành công")}))},searchKeyWordDossierToAdd:function(){var t=this;t.selectMultiplePage=[],t.searchDossierToAdd()},searchDossierToAdd:function(){var t,e=this;t="NEW_GROUP_CV"===e.formCode?e.menuConfigs.filter((function(t){return t.id.startsWith("CV_DEN")}))[0]:e.menuConfigs.filter((function(t){return t.id.startsWith("CV_DI")}))[0];var a=t["tableConfig"].hasOwnProperty("apiGetDossierAddGroup")?t["tableConfig"]["apiGetDossierAddGroup"]:"",i={api:a,dossierNo:e.dossierNoKey,service:e.thongTinNhomHoSo.serviceCode,page:e.hosoDatasPage,numberPerPage:e.numberPerPageAddDossier,originality:3,sort:"dossierNo",top:"passed",order:!0,groupDossierIdHs:e.thongTinNhomHoSo.dossierId};e.metaDataGroupDossier.hasOwnProperty("requiredCVDenGroupId")&&(i=Object.assign(i,{groupDossierId:e.metaDataGroupDossier.requiredCVDenGroupId})),a?e.$store.dispatch("getHoSoAddGroup",i).then((function(t){var a=t.hasOwnProperty("data")?t.data:[];if(a=a.filter((function(t){return String(t.stepCode)===String(e.metaDataGroupDossier.stepcode)})),e.dossiersSelectAdd=a,e.hosoDatasTotal=a.length,e.hosoTotalPage=Math.ceil(e.hosoDatasTotal/e.numberPerPageAddDossier),e.hosoTotalPage>0&&0===e.selectMultiplePage.length)for(var i=0;i<e.hosoTotalPage;i++){var o={selected:[],page:i+1};e.selectMultiplePage.push(o)}e.selectedDossierAdd=e.selectMultiplePage[e.hosoDatasPage-1]["selected"]})).catch((function(t){e.dossiersSelectAdd=[],e.hosoDatasTotal=0})):(e.dossiersSelectAdd=[],e.hosoDatasTotal=0)},changeSelectedDossierAdd:function(){var t=this;t.selectMultiplePage[t.hosoDatasPage-1]["selected"]=t.selectedDossierAdd},addMultipleDossierToGroup:function(){for(var t=this,e=[],a=t.selectedDoAction.length,i=0;i<a;i++){var o=t.selectedDoAction[i]["dossierId"];e.push(o)}t.addDossierToGroup(!1,e.toString())},addDossierToGroup:function(t,e){var a=this;a.loadingAction=!0;var i={groupDossierId:a.thongTinNhomHoSo.dossierId,dossierId:e||t.dossierId};a.$store.dispatch("postDossierIntoGroup",i).then((function(o){I.a.clear(),I.a.success("Thêm hồ sơ thành công"),setTimeout((function(){a.loadingAction=!1,a.dialogAddDossier=!1,a.$store.dispatch("getDossiersIntoGroup",i).then((function(t){if(a.dossiersIntoGroup=t,(a.metaDataGroupDossier.hasOwnProperty("congvandagui")&&a.metaDataGroupDossier.congvandagui||!a.metaDataGroupDossier.hasOwnProperty("congvandagui"))&&(a.activeDeleteCongVan=0===a.dossiersIntoGroup.length),a.$store.commit("setSelectDossierGroup",a.dossiersIntoGroup),a.dossiersIntoGroup.length>0){var e=[],i=function(t){0===e.filter((function(e){return String(e["stepCode"])===String(a.dossiersIntoGroup[t]["stepCode"])})).length&&e.push({stepCode:a.dossiersIntoGroup[t]["stepCode"],stepName:a.dossiersIntoGroup[t]["stepName"]})};for(var o in a.dossiersIntoGroup)i(o);a.stepList=e}a.dossiersIntoGroupRender=a.dossiersIntoGroup}))}),500);var n=a.filesGroupDossier.filter((function(t){return 6===t["dossierPartType"]||7===t["dossierPartType"]}));if(n.length>0){var s=n.map((function(t){return t.dossierFileId})).toString(),r={dossierIds:e||t.dossierId,dossierFileId:s};a.$store.dispatch("uploadFileDossierGroup",r).then((function(t){}))}})).catch((function(){a.loadingAction=!1}))},processAction:function(){var t=this,e=t.$store.getters.loadingInitData,a=e.user.userName?e.user.userName:"",i={dossierId:t.thongTinNhomHoSo["dossierId"],actionCode:t.metaDataGroupDossier.actioncode,actionUser:a};t.dossiersIntoGroupRender.length>0?(t.loadingAction=!0,t.$store.dispatch("doActionDossierIntoGroup",i).then((function(e){t.loadingAction=!1,I.a.success("Lưu và gửi công văn thành công"),t.$router.push({path:"/danh-sach-ho-so/"+t.index,query:{renew:Math.floor(100*Math.random())+1,q:t.menuConfigs[t.index]["queryParams"]}})})).catch((function(e){t.loadingAction=!1}))):(t.loadingAction=!1,I.a.error("Công văn chưa có hồ sơ"))},getDetailActionCongVan:function(){var t=this,e={dossierId:t.thongTinNhomHoSo["dossierId"],stepCode:t.metaDataGroupDossier.stepcode,actionCode:t.metaDataGroupDossier.actioncode};t.$store.dispatch("getDetailActionCongVan",e).then((function(e){var a;if(e.createDossierFiles)for(var i=e.createDossierFiles.split(","),o=function(e){var o=i.filter((function(a){return a===t.tphsCV[e]["partNo"]}));o.length>0&&7===t.tphsCV[e]["partType"]&&t.tphsCV[e]["hasForm"]&&(a=t.tphsCV[e]["partNo"])},n=0;n<t.tphsCV.length;n++)o(n);t.createFileCongVan=a,t.postStepCodeCongVan=e.postStepCode}))},createFileKqCongVan:function(t){var e=this,a={dossierId:e.thongTinNhomHoSo["dossierId"],partNo:e.createFileCongVan};e.$store.dispatch("loadFormData",a).then((function(t){var a=JSON.parse(t),i=Object.assign(a,{tp:e.createFileCongVan,dossierId:e.thongTinNhomHoSo["dossierId"]});e.$store.dispatch("postEformCallBack",i).then((function(t){}))})).catch((function(t){}))},printCongVan:function(){var t=this;t.loadingAction=!0,t.$store.dispatch("loadDossierFiles",t.thongTinNhomHoSo["dossierId"]).then((function(e){var a=e,i=a.filter((function(e){return e.dossierPartNo==t.createFileCongVan&&e.eForm&&"7"===String(e.dossierPartType)}))[0];i&&i["fileSize"]?t.$store.dispatch("viewFile",i).then((function(e){t.loadingAction=!1,t.dialogPDF=!0,document.getElementById("dialogPdfFile").src=e})).catch((function(e){t.loadingAction=!1})):(I.a.error("Bản in công văn chưa được tạo"),t.loadingAction=!1)})).catch((function(){t.loadingAction=!1}))},copyFileDossierIntoGroup:function(){var t=this,e=t.dossiersIntoGroupRender.map((function(t){return t.dossierId})).toString(),a=(t.$refs.thongtincongvan.getFileCongVan(),t.filesKq.filter((function(e){return 7===e["dossierPartType"]&&e["dossierPartNo"]===t.createFileCongVan})));if(a.length>0&&e.length>0){var i=a.map((function(t){return t.dossierFileId})).toString(),o={dossierIds:e,dossierFileId:i};t.$store.dispatch("uploadFileDossierGroup",o).then((function(t){}))}},deleteCongVan:function(){var t=this,e={dossierId:t.thongTinNhomHoSo["dossierId"]},a=confirm("Bạn có chắc chắn thực hiện xóa công văn?");a&&t.$store.dispatch("deleteDossier",e).then((function(e){I.a.success("Xóa công văn thành công"),t.$router.push({path:"/danh-sach-ho-so/"+t.index,query:{renew:Math.floor(100*Math.random())+1,q:t.menuConfigs[t.index]["queryParams"]}})})).catch((function(){}))},getMetaData:function(t){var e="";try{e=JSON.parse(t.metaData)}catch(a){}return e},checkGroupDossierIdCvDen:function(t,e,a){var i=this,o=!0;return t&&(t.split(",").length>1||1===t.split(",").length&&t.split(",")[0]!=i.thongTinNhomHoSo["dossierId"])&&(o=!1),"NEW_GROUP_CV_DI"===i.formCode&&(o=!0),"editAction"===e&&"NEW_GROUP_CV_DI"===i.formCode&&i.thongTinNhomHoSo["govAgencyCode"]!==a["govAgencyCode"]&&(o=!1),"NEW_GROUP_CV_DI"===i.formCode&&a.stepCode!=i.metaDataGroupDossier.stepcode&&(o=!1),o},getThongTinValidateGp:function(t){var e=this,a={serverNo:t};e.$store.dispatch("getServerConfig",a).then((function(t){var a=JSON.parse(t.configs);e.mauGiayPhep=a.deliverableType,e.mappingValidateGP=a.mapping})).catch((function(t){}))},dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""},currency:function(t){if(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""},cancelAddFile:function(){},toggleAll:function(){var t=this;t.selected.length?t.selected=[]:t.selected=t.dossiersIntoGroupRender},toggleAllSelectDossierAdd:function(){var t=this;t.selectedDossierAdd.length?t.selectedDossierAdd=[]:t.selectedDossierAdd=t.dossiersSelectAdd,t.selectMultiplePage[t.hosoDatasPage-1]["selected"]=t.selectedDossierAdd},toggleAllSelectDialog:function(){var t=this;t.selectedAttach.length?t.selectedAttach=[]:t.selectedAttach=t.dossiersIntoGroupRender},goBack:function(){var t=this,e=t.$router.history.current.params,a=t.$router.history.current.query;t.activeAddDossierIntoGroup?(t.activeAddDossierIntoGroup=!1,t.getDetaiGroup(t.id)):t.$router.push({path:"/danh-sach-ho-so/"+e.index,query:a})},parseDate:function(t){try{var e=t.split("/"),a=V(e,3),i=a[0],o=a[1],n=a[2];return"".concat(n,"-").concat(o.padStart(2,"0"),"-").concat(i.padStart(2,"0"))}catch(s){return""}},getSearchParams:function(t,e){var a="",i=t.split(",");return i.forEach((function(t){t=t.split("=");var i=t[0];i===e&&(a=t[1])})),a},currentcyToString:function(t){var e,a,i,o="",n=!1,s=new Array(32);while(t.length>0&&"0"==t.charAt(0))t=t.substring(1,t.length);if(a=t.length,a>28)return"So khong hop le";for(var r=1;r<=a;r++)t=t.replace(",","");a=t.length;for(r=1;r<=a;r++)s[r]=parseInt(t.charAt(r-1));for(r=1;r<=a;r++){if((a-r)%3==2&&0==s[r]&&a-r>=2&&(0==s[r+1]&&0==s[r+2]||(o+="không ")),2==s[r]&&(o+="hai "),3==s[r]&&(o+="ba "),6==s[r]&&(o+="sáu "),7==s[r]&&(o+="bảy "),8==s[r]&&(o+="tám "),9==s[r]&&(o+="chín "),4==s[r]&&(r>1&&(a-r)%3==0&&s[r-1]>1?o+="tư ":o+="bốn "),5==s[r]&&(r>1&&(a-r)%3==0&&0!=s[r-1]?o+="lăm ":o+="năm "),1==s[r]&&((a-r)%3==1?o+="mười ":(a-r)%3==0&&r>1&&s[r-1]>1?o+="mốt ":o+="một "),(a-r)%3==1&&0!=s[r]&&1!=s[r]&&(o+="mươi "),(a-r)%3==1&&0==s[r]&&0!=s[r+1]&&(o+="linh "),(a-r)%3!=2||0==s[r+1]&&0==s[r+2]||(o+="trăm "),r+2<=a&&0!=s[r]&&(a-r)%3==2&&0==s[r+1]&&0==s[r+2]&&(o+="trăm "),a-r==3&&(o+="nghìn "),a-r==6&&(o+="triệu "),a-r==9&&(o+="tỷ "),a-r==12){for(n=!0,e=r+1;r<a;r++)0!=s[r+1]&&(n=!1);o+=0==n?"nghìn ":"nghìn tỷ "}if(a-r==15&&(o+="triệu tỷ "),a-r==18&&(o+="tỷ tỷ "),a-r==21&&(o+="nghìn tỷ tỷ "),a-r==24&&(o+="triệu tỷ tỷ "),a-r==27&&(o+="tỷ tỷ tỷ "),a-r==30&&(o+="nghìn tỷ tỷ "),(a-r)%3==2&&0==s[r]&&0==s[r+1]&&0==s[r+2]&&(r+=2),(a-r)%3==0)for(i=1,e=r+1;e<=a;e++)0!=s[e]&&(i=0);if(1==i)break}""==o&&(o="không ");while(","==o.charAt(o.length))o=o.substring(0,o.length-1);return o=o.charAt(0).toUpperCase()+o.substring(1,o.length),"So khong hop le"!=o?o+="đồng chẵn":o=o,o}}},z=W,B=a("2877"),K=Object(B["a"])(z,N,P,!1,null,null,null);e["a"]=K.exports},d4a9:function(t,e,a){"use strict";var i=a("0798"),o=a("8336"),n=a("b0af"),s=a("99d9"),r=a("132d"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(n["a"],[a("div",{staticClass:"row-header"},[a("div",{staticClass:"background-triangle-big"},[a("span",[t._v("THÔNG TIN THANH TOÁN")])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[a(o["a"],{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:t.goBack}},[t._v("\n            Quay lại  \n            "),a(r["a"],{attrs:{size:"16"}},[t._v("undo")])],1)],1)])]),a("div",[a("div",{staticClass:"mx-2 my-3"},[t.statusDeal?a(i["a"],{attrs:{outline:"",value:!0,type:"success"}},[t._v("\n          Giao dịch thanh toán thành công\n        ")]):a(i["a"],{attrs:{outline:"",value:!0,type:"error"}},[t._v("\n          Giao dịch thực hiện thất bại. "+t._s(t.keypayStatusText)+"\n        ")])],1),a(n["a"],{staticClass:"mx-2"},[a(s["b"],{staticClass:"px-0 py-0"},[a("div",{staticClass:"table-bordered",staticStyle:{"border-top":"1px solid #dedede"}},[a("div",{staticClass:"table__overflow"},[a("table",{staticClass:"datatable table"},[a("tbody",[a("tr",[a("td",{attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Tên hồ sơ")])]),a("td",[a("span",[t._v(t._s(t.dossierDetail.serviceName))])])]),a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Mã hồ sơ")])]),a("td",[a("span",[t._v(t._s(t.dossierDetail.dossierNo))])])]),a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Cơ quan thực hiện")])]),a("td",[a("span",[t._v(t._s(t.dossierDetail.govAgencyName))])])]),a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Số tiền thanh toán")])]),a("td",[a("span",[t._v(t._s(t.currency(t.dossierDetail.paymentAmount))+" VNĐ")])])]),t.statusDeal&&!t.payGate?a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Mã giao dịch trực tuyến")])]),a("td",[a("span",[t._v(t._s(t.dossierDetail.transId))])])]):t._e(),t.statusDeal&&!t.payGate?a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Mã hóa đơn")])]),a("td",[a("span",[t._v(t._s(t.dossierDetail.goodCode))])])]):t._e(),t.statusDeal?a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Cổng thanh toán")])]),a("td",[a("span",[t._v(t._s(String(t.dossierDetail.paymentPortal).toUpperCase()))])])]):t._e()])])])])])],1)],1)])],1)},l=[],d={props:[],components:{},data:function(){return{loading:!0,loadingAction:!1,statusDeal:!1,keypayStatusText:"",payGate:!1,dossierDetail:{serviceName:"",dossierNo:"",govAgencyName:"",paymentFee:"",paymentAmount:"",transId:"",goodCode:"",paymentPortal:""},keypayStatusCode:{"00":"Thành công","01":"Đại lý không tồn tại trong hệ thống","02":"Chuỗi mã hóa không hợp lệ","03":"Mã giao dịch đại lý không hợp lệ","04":"Không tìm thấy giao dịch trong hệ thống","05":"Mã dịch vụ không hợp lệ","06":"Lỗi xác nhận giao dịch: giao dịch đã được xác nhận (thành công/ không thành công trước đó và không thể xác nhận lại)","07":"Mã quốc gia không hợp lệ","08":"Không nhận được thông điệp trả về từ Ngân Hàng","09":"Mô tả đơn hàng không hợp lệ",10:"Mã đơn hàng không hợp lệ",11:"Số tiền không hợp lệ",12:"Phí vận chuyển không hợp lệ",13:"Thuế không hợp lệ",14:"Đại lý chưa được cấu hình phí",15:"Sai mã Ngân hàng",16:"Số tiền thanh toán của Đại lý không nằm trong khoảng cho phép",17:"Tài khoản không đủ tiền",18:"Khách hàng đã Hủy giao dịch",19:"Thời gian thanh toán không hợp lệ",20:"Kiểu nhận mã OTP không hợp lệ",21:"Mã OTP sai",25:"Nhập sai thông tin chủ thẻ lần 1",26:"Nhập sai thông tin chủ thẻ lần 2",27:"Nhập sai thông tin chủ thẻ lần 3",30:"Phiên bản không hợp lệ",31:"Mã lệnh không hợp lệ",32:"Loại tiền tệ không hợp lệ",33:"Ngôn ngữ không hợp lệ",34:"Thông tin thêm (desc 1) không hợp lệ",35:"Thông tin thêm (desc 2) không hợp lệ",36:"Thông tin thêm (desc 3) không hợp lệ",37:"Thông tin thêm (desc 4) không hợp lệ",38:"Thông tin thêm (desc 5) không hợp lệ",39:"Chuỗi trả về - Return URL không hợp lệ",40:"Loại thẻ không hợp lệ",41:"Thẻ nghi vấn (thẻ đánh mất, hot card)",54:"Thẻ hết hạn",57:"Chưa đăng ký dịch vụ thanh toán trực tuyến",61:"Quá hạn mức giao dịch trong ngày",62:"Thẻ bị khóa",65:"Quá hạn mức 1 lần giao dịch",97:"Ngân hàng chưa sẵn sàng",98:"Giao dịch không",99:"Lỗi hệ thống"}}},computed:{},created:function(){var t=this;t.$nextTick((function(){var t=this,e=t.$router.history.current.query,a=e.hasOwnProperty("response_code")?e.response_code:"",i=e.hasOwnProperty("dossierId")?e.dossierId:"",o=e.hasOwnProperty("referenceUid")?e.referenceUid:"",n=e.hasOwnProperty("actionCode")?e.actionCode:"";if(e.hasOwnProperty("paygate")&&e.hasOwnProperty("orderId")){t.statusDeal=!0,t.payGate=!0;var s=e["orderId"].split("-");s.pop();var r={dossierNo:s.join("-")};t.$store.dispatch("getDossiers",r).then((function(a){a&&a.length>0&&(t.dossierDetail["serviceName"]=a[0].dossierName,t.dossierDetail["dossierNo"]=a[0].dossierNo,t.dossierDetail["govAgencyName"]=a[0].govAgencyName,t.dossierDetail["paymentPortal"]=e.hasOwnProperty("paygate")?e.paygate:"",t.dossierDetail["paymentAmount"]=e.hasOwnProperty("amount")?e.amount:"")}));var c=e;t.$store.dispatch("doActionPayGov",c)}else if(e.hasOwnProperty("command")&&e.hasOwnProperty("version")&&"PAY"===e.command&&"3.0"===e.version){e.hasOwnProperty("status")&&"0"==e.status&&(t.statusDeal=!0);var l=window.location.href.split("?");if(l[1]){var d=decodeURIComponent(String(t.getSearchParams(l[1],"bill_info"))),p=JSON.parse(d)["MaHoSo"],u={dossierNo:p};t.$store.dispatch("getDossiers",u).then((function(a){var i=a[0];t.dossierDetail["serviceName"]=i.dossierName,t.dossierDetail["dossierNo"]=i.dossierNo,t.dossierDetail["govAgencyName"]=i.govAgencyName;var o={dossierId:a[0].referenceUid};t.$store.dispatch("loadDossierPayments",o).then((function(a){t.dossierDetail["paymentFee"]=t.getEPaymentProfile(a.epaymentProfile).paymentFee,t.dossierDetail["paymentPortal"]=a.paymentMethod,t.dossierDetail["paymentAmount"]=a.paymentAmount,t.dossierDetail["transId"]=e.transaction_id})).catch((function(t){}))}))}}else i&&("00"===a?t.statusDeal=!0:(t.statusDeal=!1,t.keypayStatusText=t.keypayStatusCode["responseCode"]?t.keypayStatusCode["responseCode"]:""),t.$store.dispatch("getDetailDossier",o).then((function(a){t.dossierDetail["serviceName"]=a.serviceName,t.dossierDetail["dossierNo"]=a.dossierNo,t.dossierDetail["govAgencyName"]=a.govAgencyName,t.dossierDetail["transId"]=e.transId,t.dossierDetail["goodCode"]=e.goodCode,t.dossierDetail["paymentPortal"]=e.paymentPortal,t.dossierDetail["paymentAmount"]=e.net_cost;var i={dossierId:a.dossierId,referenceUid:o||a.referenceUid},s={dossierId:o||a.referenceUid};!0===t.statusDeal?t.$store.dispatch("putPayments",i).then((function(e){if(t.$store.dispatch("loadDossierPayments",s).then((function(e){t.dossierDetail["paymentFee"]=t.getEPaymentProfile(e.epaymentProfile).paymentFee})).catch((function(t){})),n){var i={dossierId:o||a.referenceUid,actionCode:n};t.$store.dispatch("processDossierRouter",i).then((function(t){})).catch((function(){}))}})).catch((function(t){})):t.$store.dispatch("loadDossierPayments",s).then((function(e){t.dossierDetail["paymentFee"]=t.getEPaymentProfile(e.epaymentProfile).paymentFee})).catch((function(t){}))})))}))},watch:{},methods:{currency:function(t){return t&&t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):0},goBack:function(){var t=window.themeDisplay.getLayoutRelativeURL().substring(0,window.themeDisplay.getLayoutRelativeURL().lastIndexOf("/")),e=t+"/dich-vu-cong#/";window.open(e,"_self")},getEPaymentProfile:function(t){if(!t)return"";try{return JSON.parse(t),JSON.parse(t)}catch(e){return""}},getSearchParams:function(t,e){var a="",i=t.split("&");return i.forEach((function(t){t=t.split("=");var i=t[0];i===e&&(a=t[1])})),a}}},p=d,u=a("2877"),h=Object(u["a"])(p,c,l,!1,null,null,null);e["a"]=h.exports},eeae:function(t,e,a){}}]);